/*! For license information please see main.6fe89703.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var p=Object.assign,f=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),x=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var T=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var I=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case x:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return j(e(t))}catch(un){}}return null}var D=Array.isArray,R=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O={pending:!1,data:null,method:null,action:null},M=[],F=-1;function q(e){return{current:e}}function z(e){0>F||(e.current=M[F],M[F]=null,F--)}function V(e,t){F++,M[F]=e.current,e.current=t}var U,B,H=q(null),W=q(null),G=q(null),K=q(null);function Q(e,t){switch(V(G,t),V(W,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}z(H),V(H,e)}function Y(){z(H),z(W),z(G)}function J(e){null!==e.memoizedState&&V(K,e);var t=H.current,n=bd(t,e.type);t!==n&&(V(W,e),V(H,n))}function $(e){W.current===e&&(z(H),z(W)),K.current===e&&(z(K),dh._currentValue=O)}function X(e){if(void 0===U)try{throw Error()}catch(un){var t=un.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||"",B=-1<un.stack.indexOf("\n    at")?" (<anonymous>)":-1<un.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+U+e+B}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(un){var r=un}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(un){return"\nError generating stack: "+un.message+"\n"+un.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,se=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,pe=r.unstable_LowPriority,fe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(xe(e)/Se|0)|0},xe=Math.log,Se=Math.LN2;var ke=256,Ee=262144,Ne=4194304;function _e(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=_e(r):0!==(s&=o)?i=_e(s):n||0!==(n=o&~e)&&(i=_e(n)):0!==(o=r&~a)?i=_e(o):0!==s?i=_e(s):n||0!==(n=r&~e)&&(i=_e(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Te(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ie(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Pe(){var e=Ne;return 0===(62914560&(Ne<<=1))&&(Ne=4194304),e}function Ae(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function De(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function Re(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Le(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Oe(n))&(e.suspendedLanes|t))?0:n}function Oe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function qe(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}var ze=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ze,Ue="__reactProps$"+ze,Be="__reactContainer$"+ze,He="__reactEvents$"+ze,We="__reactListeners$"+ze,Ge="__reactHandles$"+ze,Ke="__reactResources$"+ze,Qe="__reactMarker$"+ze;function Ye(e){delete e[Ve],delete e[Ue],delete e[He],delete e[We],delete e[Ge]}function Je(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Be]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Ve])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Ve]||e[Be]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ke];return t||(t=e[Ke]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(st,i)&&(at.test(i)?ot[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function pt(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function ft(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,dt(t)):null!=n?wt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void pt(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),pt(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function xt(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function St(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(D(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),pt(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function _t(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||Nt.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&_t(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&_t(e,a,t[a])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var It=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function At(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jt(){}var Dt=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Lt=null,Ot=null;function Mt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Ue]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ue]||null;if(!i)throw Error(s(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&ft(r)}break e;case"textarea":St(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&xt(e,!!n.multiple,t,!1)}}}var Ft=!1;function qt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Lt||null!==Ot)&&(eu(),Lt&&(t=Lt,e=Ot,Ot=Lt=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function zt(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ue]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(Vt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Xh){Ut=!1}var Ht=null,Wt=null,Gt=null;function Kt(){if(Gt)return Gt;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function Jt(){return!1}function $t(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:Jt,this.isPropagationStopped=Jt,this}return p(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=$t(tn),rn=p({},tn,{view:0,detail:0}),an=$t(rn),sn=p({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=$t(sn),ln=$t(p({},sn,{dataTransfer:0})),cn=$t(p({},rn,{relatedTarget:0})),dn=$t(p({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),hn=$t(p({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),pn=$t(p({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=gn[e])&&!!t[e]}function yn(){return vn}var bn=$t(p({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),wn=$t(p({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xn=$t(p({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yn})),Sn=$t(p({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),kn=$t(p({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),En=$t(p({},tn,{newState:0,oldState:0})),Nn=[9,13,27,32],_n=Vt&&"CompositionEvent"in window,Cn=null;Vt&&"documentMode"in document&&(Cn=document.documentMode);var Tn=Vt&&"TextEvent"in window&&!Cn,In=Vt&&(!_n||Cn&&8<Cn&&11>=Cn),Pn=String.fromCharCode(32),An=!1;function jn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Ln={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ln[e.type]:"textarea"===t}function Mn(e,t,n,r){Lt?Ot?Ot.push(r):Ot=[r]:Lt=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Fn=null,qn=null;function zn(e){Ju(e,0)}function Vn(e){if(ft(Xe(e)))return e}function Un(e,t){if("change"===e)return t}var Bn=!1;if(Vt){var Hn;if(Vt){var Wn="oninput"in document;if(!Wn){var Gn=document.createElement("div");Gn.setAttribute("oninput","return;"),Wn="function"===typeof Gn.oninput}Hn=Wn}else Hn=!1;Bn=Hn&&(!document.documentMode||9<document.documentMode)}function Kn(){Fn&&(Fn.detachEvent("onpropertychange",Qn),qn=Fn=null)}function Qn(e){if("value"===e.propertyName&&Vn(qn)){var t=[];Mn(t,qn,e,Rt(e)),qt(zn,t)}}function Yn(e,t,n){"focusin"===e?(Kn(),qn=n,(Fn=t).attachEvent("onpropertychange",Qn)):"focusout"===e&&Kn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Vn(qn)}function $n(e,t){if("click"===e)return Vn(t)}function Xn(e,t){if("input"===e||"change"===e)return Vn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function er(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Zn(e[i],t[i]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var n,r=tr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tr(r)}}function rr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?rr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ir(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var sr=Vt&&"documentMode"in document&&11>=document.documentMode,or=null,lr=null,cr=null,ur=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ur||null==or||or!==mt(r)||("selectionStart"in(r=or)&&ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},cr&&er(cr,r)||(cr=r,0<(r=id(lr,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=or)))}function hr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pr={animationend:hr("Animation","AnimationEnd"),animationiteration:hr("Animation","AnimationIteration"),animationstart:hr("Animation","AnimationStart"),transitionrun:hr("Transition","TransitionRun"),transitionstart:hr("Transition","TransitionStart"),transitioncancel:hr("Transition","TransitionCancel"),transitionend:hr("Transition","TransitionEnd")},fr={},mr={};function gr(e){if(fr[e])return fr[e];if(!pr[e])return e;var t,n=pr[e];for(t in n)if(n.hasOwnProperty(t)&&t in mr)return fr[e]=n[t];return e}Vt&&(mr=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);var vr=gr("animationend"),yr=gr("animationiteration"),br=gr("animationstart"),wr=gr("transitionrun"),xr=gr("transitionstart"),Sr=gr("transitioncancel"),kr=gr("transitionend"),Er=new Map,Nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Er.set(e,t),rt(t,[e])}Nr.push("scrollEnd");var Cr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Tr=[],Ir=0,Pr=0;function Ar(){for(var e=Ir,t=Pr=Ir=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var a=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Lr(n,i,a)}}function jr(e,t,n,r){Tr[Ir++]=e,Tr[Ir++]=t,Tr[Ir++]=n,Tr[Ir++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Dr(e,t,n,r){return jr(e,t,n,r),Or(e)}function Rr(e,t){return jr(e,null,null,t),Or(e)}function Lr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Wc)throw Wc=0,Gc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,n,r){return new Fr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=qr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)zr(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=qr(31,n,t,i)).elementType=C,e.lanes=a,e;case v:return Hr(n.children,i,a,t);case y:o=8,i|=24;break;case b:return(e=qr(12,n,t,2|i)).elementType=b,e.lanes=a,e;case k:return(e=qr(13,n,t,i)).elementType=k,e.lanes=a,e;case E:return(e=qr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case w:o=9;break e;case S:o=11;break e;case N:o=14;break e;case _:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=qr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=qr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=qr(6,e,null,t)).lanes=n,e}function Gr(e){var t=qr(18,null,null,0);return t.stateNode=e,t}function Kr(e,t,n){return(t=qr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var Jr=[],$r=0,Xr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function ai(e,t){Jr[$r++]=Zr,Jr[$r++]=Xr,Xr=e,Zr=t}function si(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-we(r)-1;r&=~(1<<i),n+=1;var a=32-we(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ri=1<<32-we(t)+i|n<<i|r,ii=a+e}else ri=1<<a|n<<i|r,ii=e}function oi(e){null!==e.return&&(ai(e,1),si(e,1,0))}function li(e){for(;e===Xr;)Xr=Jr[--$r],Jr[$r]=null,Zr=Jr[--$r],Jr[$r]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ui=null,di=null,hi=!1,pi=null,fi=!1,mi=Error(s(519));function gi(e){throw Si(Yr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[Ue]=r,n){case"dialog":$u("cancel",t),$u("close",t);break;case"iframe":case"object":case"embed":$u("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)$u(Qu[n],t);break;case"source":$u("error",t);break;case"img":case"image":case"link":$u("error",t),$u("load",t);break;case"details":$u("toggle",t);break;case"input":$u("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":$u("invalid",t);break;case"textarea":$u("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&($u("beforetoggle",t),$u("toggle",t)),null!=r.onScroll&&$u("scroll",t),null!=r.onScrollEnd&&$u("scrollend",t),null!=r.onClick&&(t.onclick=jt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(fi=!1);case 27:case 3:return void(fi=!0);default:ui=ui.return}}function bi(e){if(e!==ui)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&di&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Od(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Od(e)}else 27===n?(n=di,Cd(e.type)?(e=Ld,Ld=null,di=e):di=n):di=ui?Rd(e.stateNode.nextSibling):null;return!0}function wi(){di=ui=null,hi=!1}function xi(){var e=pi;return null!==e&&(null===Ac?Ac=e:Ac.push.apply(Ac,e),pi=null),e}function Si(e){null===pi?pi=[e]:pi.push(e)}var ki=q(null),Ei=null,Ni=null;function _i(e,t,n){V(ki,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=ki.current,z(ki)}function Ti(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ti(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Ti(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Pi(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Zn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===K.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ii(t,e,n,r),t.flags|=262144}function Ai(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Ei=e,Ni=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Di(e){return Li(Ei,e)}function Ri(e,t){return null===Ei&&ji(e),Li(e,t)}function Li(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===Ni){if(null===e)throw Error(s(308));Ni=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ni=Ni.next=t;return n}var Oi="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,qi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zi(){return{controller:new Oi,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&Mi(Fi,function(){e.controller.abort()})}var Ui=null,Bi=0,Hi=0,Wi=null;function Gi(){if(0===--Bi&&null!==Ui){null!==Wi&&(Wi.status="fulfilled");var e=Ui;Ui=null,Hi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ki=R.S;R.S=function(e,t){Rc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ui){var n=Ui=[];Bi=0,Hi=Bu(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}Bi++,t.then(Gi,Gi)}(0,t),null!==Ki&&Ki(e,t)};var Qi=q(null);function Yi(){var e=Qi.current;return null!==e?e:mc.pooledCache}function Ji(e,t){V(Qi,null===t?Qi.current:t.pool)}function $i(){var e=Yi();return null===e?null:{parent:qi._currentValue,pool:e}}var Xi=Error(s(460)),Zi=Error(s(474)),ea=Error(s(542)),ta={then:function(){}};function na(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(jt,jt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(jt,jt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw aa=t,Xi}}function ia(e){try{return(0,e._init)(e._payload)}catch(un){if(null!==un&&"object"===typeof un&&"function"===typeof un.then)throw aa=un,Xi;throw un}}var aa=null;function sa(){if(null===aa)throw Error(s(459));var e=aa;return aa=null,e}function oa(e){if(e===Xi||e===ea)throw Error(s(483))}var la=null,ca=0;function ua(e){var t=ca;return ca+=1,null===la&&(la=[]),ra(la,e,t)}function da(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ha(e,t){if(t.$$typeof===f)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function pa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===_&&ia(a)===t.type)?(da(t=i(t,n.props),n),t.return=e,t):(da(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Kr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return da(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Kr(t,e.mode,n)).return=e,t;case _:return h(e,t=ia(t),n)}if(D(t)||P(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ua(t),n);if(t.$$typeof===x)return h(e,Ri(e,t),n);ha(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case _:return p(e,t,n=ia(n),r)}if(D(n)||P(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,ua(n),r);if(n.$$typeof===x)return p(e,t,Ri(e,n),r);ha(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return f(e,t,n,r=ia(r),i)}if(D(r)||P(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return f(e,t,n,ua(r),i);if(r.$$typeof===x)return f(e,t,n,Ri(t,r),i);ha(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===_&&ia(b)===c.type){n(l,c.sibling),da(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(da(d=Br(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Kr(u,l.mode,d)).return=l,l=d}return o(l);case _:return y(l,c,u=ia(u),d)}if(D(u))return function(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=p(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),hi&&ai(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return hi&&ai(i,m),c}for(d=r(d);m<o.length;m++)null!==(g=f(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),hi&&ai(i,m),c}(l,c,u,d);if(P(u)){if("function"!==typeof(b=P(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=p(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),hi&&ai(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return hi&&ai(i,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),hi&&ai(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ua(u),d);if(u.$$typeof===x)return y(l,c,Ri(l,u),d);ha(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ca=0;var i=y(e,t,n,r);return la=null,i}catch(un){if(un===Xi||un===ea)throw un;var a=qr(29,un,null,e.mode);return a.lanes=r,a.return=e,a}}}var fa=pa(!0),ma=pa(!1),ga=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&fc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Lr(e,null,n),t}return jr(e,r,t,n),Or(e)}function xa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}function Sa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ka=!1;function Ea(){if(ka){if(null!==Wi)throw Wi}}function Na(e,t,n,r){ka=!1;var i=e.updateQueue;ga=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,f=h!==o.lane;if(f?(vc&h)===h:(r&h)===h){0!==h&&h===Hi&&(ka=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=p({},d,h);break e;case 2:ga=!0}}null!==(h=o.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[h]:f.push(h))}else f={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(f=o).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),Nc|=s,e.lanes=s,e.memoizedState=d}}function _a(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ca(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)_a(n[e],t)}var Ta=q(null),Ia=q(0);function Pa(e,t){V(Ia,e=kc),V(Ta,t),kc=e|t.baseLanes}function Aa(){V(Ia,kc),V(Ta,Ta.current)}function ja(){kc=Ia.current,z(Ta),z(Ia)}var Da=q(null),Ra=null;function La(e){var t=e.alternate;V(za,1&za.current),V(Da,e),null===Ra&&(null===t||null!==Ta.current||null!==t.memoizedState)&&(Ra=e)}function Oa(e){V(za,za.current),V(Da,e),null===Ra&&(Ra=e)}function Ma(e){22===e.tag?(V(za,za.current),V(Da,e),null===Ra&&(Ra=e)):Fa()}function Fa(){V(za,za.current),V(Da,Da.current)}function qa(e){z(Da),Ra===e&&(Ra=null),z(za)}var za=q(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||jd(n)||Dd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ua=0,Ba=null,Ha=null,Wa=null,Ga=!1,Ka=!1,Qa=!1,Ya=0,Ja=0,$a=null,Xa=0;function Za(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,a){return Ua=a,Ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?vo:yo,Qa=!1,a=n(r,i),Qa=!1,Ka&&(a=rs(t,n,r,i)),ns(e),a}function ns(e){R.H=go;var t=null!==Ha&&null!==Ha.next;if(Ua=0,Wa=Ha=Ba=null,Ga=!1,Ja=0,$a=null,t)throw Error(s(300));null===e||Ro||null!==(e=e.dependencies)&&Ai(e)&&(Ro=!0)}function rs(e,t,n,r){Ba=e;var i=0;do{if(Ka&&($a=null),Ja=0,Ka=!1,25<=i)throw Error(s(301));if(i+=1,Wa=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}R.H=bo,a=t(n,r)}while(Ka);return a}function is(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(Ba.flags|=1024),t}function as(){var e=0!==Ya;return Ya=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function os(e){if(Ga){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ga=!1}Ua=0,Wa=Ha=Ba=null,Ka=!1,Ja=Ya=0,$a=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?Ba.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function cs(){if(null===Ha){var e=Ba.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Wa?Ba.memoizedState:Wa.next;if(null!==t)Wa=t,Ha=e;else{if(null===e){if(null===Ba.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Wa?Ba.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function us(e){var t=Ja;return Ja+=1,null===$a&&($a=[]),e=ra($a,e,t),t=Ba,null===(null===Wa?t.memoizedState:Wa.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?vo:yo),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===x)return Di(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=Ba.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=Ba.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=T;return t.index++,n}function ps(e,t){return"function"===typeof t?t(e):t}function fs(e){return ms(cs(),Ha,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(vc&h)===h:(Ua&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Ua&p)===p){u=u.next,p===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,Ba.lanes|=p,Nc|=p}h=u.action,Qa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else p={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,o=a):c=c.next=p,Ba.lanes|=h,Nc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Zn(a,e.memoizedState)&&(Ro=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Zn(a,t.memoizedState)||(Ro=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vs(e,t,n){var r=Ba,i=cs(),a=hi;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Zn((Ha||i).memoizedState,n);if(o&&(i.memoizedState=n,Ro=!0),i=i.queue,Us(ws.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Wa&&1&Wa.memoizedState.tag){if(r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,i,n,t),null),null===mc)throw Error(s(349));a||0!==(127&Ua)||ys(r,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=Ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,xs(t)&&Ss(e)}function ws(e,t,n){return n(function(){xs(t)&&Ss(e)})}function xs(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(r){return!0}}function Ss(e){var t=Rr(e,2);null!==t&&Yc(t,e,2)}function ks(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Qa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:e},t}function Es(e,t,n,r){return e.baseState=n,ms(e,Ha,"function"===typeof r?r:ps)}function Ns(e,t,n,r,i){if(po(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==R.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,_s(t,a)):(a.next=n.next,t.pending=n.next=a)}}function _s(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=R.T,s={};R.T=s;try{var o=n(i,r),l=R.S;null!==l&&l(s,o),Cs(e,t,o)}catch(c){Is(e,t,c)}finally{null!==a&&null!==s.types&&(a.types=s.types),R.T=a}}else try{Cs(e,t,a=n(i,r))}catch(u){Is(e,t,u)}}function Cs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Ts(e,t,n)},function(n){return Is(e,t,n)}):Ts(e,t,n)}function Ts(e,t,n){t.status="fulfilled",t.value=n,Ps(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,_s(e,n)))}function Is(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,Ps(t),t=t.next}while(t!==r)}e.action=null}function Ps(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function As(e,t){return t}function js(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=Ba;if(hi){if(di){t:{for(var i=di,a=fi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Rd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){di=Rd(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:As,lastRenderedState:t},n.queue=r,n=co.bind(null,Ba,r),r.dispatch=n,r=ks(!1),a=ho.bind(null,Ba,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=Ns.bind(null,Ba,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Ds(e){return Rs(cs(),Ha,e)}function Rs(e,t,n){if(t=ms(e,t,As)[0],e=fs(ps)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(un){if(un===Xi)throw ea;throw un}else r=t;var i=(t=cs()).queue,a=i.dispatch;return n!==t.memoizedState&&(Ba.flags|=2048,Ms(9,{destroy:void 0},Ls.bind(null,i,n),null)),[r,a,e]}function Ls(e,t){e.action=t}function Os(e){var t=cs(),n=Ha;if(null!==n)return Rs(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=Ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return cs().memoizedState}function qs(e,t,n,r){var i=ls();Ba.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},n,void 0===r?null:r)}function zs(e,t,n,r){var i=cs();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&es(r,Ha.memoizedState.deps)?i.memoizedState=Ms(t,a,n,r):(Ba.flags|=e,i.memoizedState=Ms(1|t,a,n,r))}function Vs(e,t){qs(8390656,8,e,t)}function Us(e,t){zs(2048,8,e,t)}function Bs(e){var t=cs().memoizedState;return function(e){Ba.flags|=4;var t=Ba.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},Ba.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&fc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return zs(4,2,e,t)}function Ws(e,t){return zs(4,4,e,t)}function Gs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ks(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4,4,Gs.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Js(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function $s(e,t,n){return void 0===n||0!==(1073741824&Ua)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),Ba.lanes|=e,Nc|=e,n)}function Xs(e,t,n,r){return Zn(n,t)?n:null!==Ta.current?(e=$s(e,n,r),Zn(e,t)||(Ro=!0),e):0===(42&Ua)||0!==(1073741824&Ua)&&0===(261930&vc)?(Ro=!0,e.memoizedState=n):(e=Qc(),Ba.lanes|=e,Nc|=e,t)}function Zs(e,t,n,r,i){var a=L.p;L.p=0!==a&&8>a?a:8;var s=R.T,o={};R.T=o,ho(e,!1,t,n);try{var l=i(),c=R.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Kc());else uo(e,t,r,Kc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Kc())}finally{L.p=a,null!==s&&null!==o.types&&(s.types=o.types),R.T=s}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=no(e).queue;Zs(e,i,t,O,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:O,baseState:O,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:O},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Kc())}function io(){return Di(dh)}function ao(){return cs().memoizedState}function so(){return cs().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Kc(),r=wa(t,e=ba(n),n);return null!==r&&(Yc(r,t,n),xa(r,t,n)),t={cache:zi()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Kc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},po(e)?fo(t,n):null!==(n=Dr(e,t,n,r))&&(Yc(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Kc())}function uo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(po(e))fo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Zn(o,s))return jr(e,t,i,0),null===mc&&Ar(),!1}catch(l){}if(null!==(n=Dr(e,t,i,r)))return Yc(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:Bu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},po(e)){if(t)throw Error(s(479))}else null!==(t=Dr(e,n,r,2))&&Yc(t,e,2)}function po(e){var t=e.alternate;return e===Ba||null!==t&&t===Ba}function fo(e,t){Ka=Ga=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Re(e,n)}}var go={readContext:Di,use:ds,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};go.useEffectEvent=Za;var vo={readContext:Di,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Di,useEffect:Vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,qs(4194308,4,Gs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return qs(4194308,4,e,t)},useInsertionEffect:function(e,t){qs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Qa){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lo.bind(null,Ba,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=ks(e)).queue,n=co.bind(null,Ba,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return $s(ls(),e,t)},useTransition:function(){var e=ks(!1);return e=Zs.bind(null,Ba,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Ba,i=ls();if(hi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mc)throw Error(s(349));0!==(127&vc)||ys(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vs(ws.bind(null,r,a,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,a,n,t),null),n},useId:function(){var e=ls(),t=mc.identifierPrefix;if(hi){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-we(ri)-1)).toString(32)+n),0<(n=Ya++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:js,useActionState:js,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,Ba,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=oo.bind(null,Ba)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&fc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Di,use:ds,useCallback:Ys,useContext:Di,useEffect:Us,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Js,useReducer:fs,useRef:Fs,useState:function(){return fs(ps)},useDebugValue:Qs,useDeferredValue:function(e,t){return Xs(cs(),Ha.memoizedState,e,t)},useTransition:function(){var e=fs(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Ds,useActionState:Ds,useOptimistic:function(e,t){return Es(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:so};yo.useEffectEvent=Bs;var bo={readContext:Di,use:ds,useCallback:Ys,useContext:Di,useEffect:Us,useImperativeHandle:Ks,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:Js,useReducer:gs,useRef:Fs,useState:function(){return gs(ps)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=cs();return null===Ha?$s(n,e,t):Xs(n,Ha.memoizedState,e,t)},useTransition:function(){var e=gs(ps)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Os,useActionState:Os,useOptimistic:function(e,t){var n=cs();return null!==Ha?Es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:so};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:p({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=Bs;var xo={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=ba(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Kc(),i=ba(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),xa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Kc(),r=ba(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wa(e,r,n))&&(Yc(t,e,n),xa(t,e,n))}};function So(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!er(n,r)||!er(i,a))}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&xo.enqueueReplaceState(t,t.state,null)}function Eo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=p({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function No(e){Cr(e)}function _o(e){console.error(e)}function Co(e){Cr(e)}function To(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Io(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Po(e,t,n){return(n=ba(n)).tag=3,n.payload={element:null},n.callback=function(){To(e,t)},n}function Ao(e){return(e=ba(e)).tag=3,e}function jo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Io(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){Io(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Do=Error(s(461)),Ro=!1;function Lo(e,t,n,r){t.child=null===e?ma(t,null,n,r):fa(t,e.child,n,r)}function Oo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return ji(t),r=ts(e,t,n,s,a,i),o=as(),null===e||Ro?(hi&&o&&oi(t),t.flags|=1,Lo(e,t,r,i),t.child):(ss(e,t,i),al(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||zr(a)||void 0!==a.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fo(e,t,a,r,i))}if(a=e.child,!sl(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:er)(s,r)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,(e=Vr(a,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(er(a,r)&&e.ref===t.ref){if(Ro=!1,t.pendingProps=r=a,!sl(e,i))return t.lanes=e.lanes,al(e,t,i);0!==(131072&e.flags)&&(Ro=!0)}}return Wo(e,t,n,r,i)}function qo(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Vo(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Vo(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Ji(0,null!==a?a.cachePool:null),null!==a?Pa(t,a):Aa(),Ma(t)}else null!==a?(Ji(0,a.cachePool),Pa(t,a),Fa(),t.memoizedState=null):(null!==e&&Ji(0,null),Aa(),Fa());return Lo(e,t,i,n),t.child}function zo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vo(e,t,n,r,i){var a=Yi();return a=null===a?null:{parent:qi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&Ji(0,null),Aa(),Ma(t),null!==e&&Pi(e,t,r,!0),t.childLanes=i,null}function Uo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function Bo(e,t,n){return fa(t,e.child,null,n),(e=Uo(t,t.pendingProps)).flags|=2,qa(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wo(e,t,n,r,i){return ji(t),n=ts(e,t,n,r,void 0,i),r=as(),null===e||Ro?(hi&&r&&oi(t),t.flags|=1,Lo(e,t,n,i),t.child):(ss(e,t,i),al(e,t,i))}function Go(e,t,n,r,i,a){return ji(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=as(),null===e||Ro?(hi&&r&&oi(t),t.flags|=1,Lo(e,t,n,a),t.child):(ss(e,t,a),al(e,t,a))}function Ko(e,t,n,r,i){if(ji(t),null===t.stateNode){var a=Mr,s=n.contextType;"object"===typeof s&&null!==s&&(a=Di(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=xo,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},va(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Di(s):Mr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(wo(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&xo.enqueueReplaceState(a,a.state,null),Na(t,r,a,i),Ea(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Eo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Mr,"object"===typeof u&&null!==u&&(s=Di(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&ko(t,a,r,s),ga=!1;var h=t.memoizedState;a.state=h,Na(t,r,a,i),Ea(),c=t.memoizedState,o||h!==c||ga?("function"===typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=ga||So(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ya(e,t),u=Eo(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Di(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ko(t,a,r,l),ga=!1,h=t.memoizedState,a.state=h,Na(t,r,a,i),Ea();var p=t.memoizedState;s!==d||h!==p||ga||null!==e&&null!==e.dependencies&&Ai(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),p=t.memoizedState),(u=ga||So(t,n,u,r,h,p,l)||null!==e&&null!==e.dependencies&&Ai(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ho(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=fa(t,e.child,null,i),t.child=fa(t,null,n,i)):Lo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=al(e,t,i),e}function Qo(e,t,n,r){return wi(),t.flags|=256,Lo(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Jo(e){return{baseLanes:e,cachePool:$i()}}function $o(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Tc),e}function Xo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&za.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(a?La(t):Fa(),(e=di)?null!==(e=null!==(e=Ad(e,fi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return Dd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Fa(),l=el({mode:"hidden",children:l},a=t.mode),i=Hr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=Jo(n),i.childLanes=$o(e,r,n),t.memoizedState=Yo,zo(null,i)):(La(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(La(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Fa(),t.child=e.child,t.flags|=128,t=null):(Fa(),l=i.fallback,a=t.mode,i=el({mode:"visible",children:i.children},a),(l=Hr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,fa(t,e.child,null,n),(i=t.child).memoizedState=Jo(n),i.childLanes=$o(e,r,n),t.memoizedState=Yo,t=zo(null,i));else if(La(t),Dd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,Si({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Ro||Pi(e,t,n,!1),r=0!==(n&e.childLanes),Ro||r){if(null!==(r=mc)&&(0!==(i=Le(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Yc(r,e,i),Do;jd(l)||ou(),t=tl(e,t,n)}else jd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Rd(l.nextSibling),ui=t,hi=!0,pi=null,fi=!1,null!==e&&ci(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return a?(Fa(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Vr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Vr(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,zo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=Jo(n):(null!==(a=l.cachePool)?(c=qi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=$i(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=$o(e,r,n),t.memoizedState=Yo,zo(e.child,i)):(La(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=qr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return fa(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ti(e.return,t,n)}function rl(e,t,n,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=za.current,o=0!==(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,V(za,s),Lo(e,t,r,n),r=hi?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,a,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Nc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Pi(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ai(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ro=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Ro=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),_i(0,qi,e.memoizedState.cache),wi();break;case 27:case 5:J(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,Oa(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(La(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(La(t),null!==(e=al(e,t,n))?e.sibling:null);La(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Pi(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(za,za.current),r)break;return null;case 22:return t.lanes=0,qo(e,t,n,t.pendingProps);case 24:_i(0,qi,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Ro=0!==(131072&e.flags)}else Ro=!1,hi&&0!==(1048576&t.flags)&&si(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ia(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===S){t.tag=11,t=Oo(null,t,e,r,n);break e}if(i===N){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=j(e)||e,Error(s(306,t,""))}zr(e)?(r=Eo(e,r),t.tag=1,t=Ko(null,t,e,r,n)):(t.tag=0,t=Wo(null,t,e,r,n))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return Ko(e,t,r=t.type,i=Eo(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ya(e,t),Na(t,r,null,n);var o=t.memoizedState;if(r=o.cache,_i(0,qi,r),r!==a.cache&&Ii(t,[qi],n,!0),Ea(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==i){Si(i=Yr(Error(s(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Rd(e.firstChild),ui=t,hi=!0,pi=null,fi=!0,n=ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=al(e,t,n);break e}Lo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Gd(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=vd(G.current).createElement(n))[Ve]=t,r[Ue]=e,pd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Gd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return J(t),null===e&&hi&&(r=t.stateNode=Fd(t.type,t.pendingProps,G.current),ui=t,fi=!0,i=di,Cd(t.type)?(Ld=i,di=Rd(r.firstChild)):di=i),Lo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Rd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,fi))?(t.stateNode=r,ui=t,di=Rd(r.firstChild),fi=!1,i=!0):i=!1),i||gi(t)),J(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,wd(i,a)?r=null:null!==o&&wd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),dh._currentValue=i),Ho(e,t),Lo(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}(n,t.pendingProps,fi))?(t.stateNode=n,ui=t,di=null,e=!0):e=!1),e||gi(t)),null;case 13:return Xo(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=fa(t,null,r,n):Lo(e,t,r,n),t.child;case 11:return Oo(e,t,t.type,t.pendingProps,n);case 7:return Lo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Lo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Lo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ji(t),r=r(i=Di(i)),t.flags|=1,Lo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Uo(t,r),t.lanes=536870912,zo(null,e);if(Oa(t),(e=di)?null!==(e=null!==(e=Ad(e,fi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Gr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Uo(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(Oa(t),i)if(256&t.flags)t.flags&=-257,t=Bo(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Ro||Pi(e,t,n,!1),i=0!==(n&e.childLanes),Ro||i){if(null!==(r=mc)&&0!==(o=Le(r,n))&&o!==a.retryLane)throw a.retryLane=o,Rr(e,o),Yc(r,e,o),Do;ou(),t=Bo(e,t,n)}else e=a.treeContext,di=Rd(o.nextSibling),ui=t,hi=!0,pi=null,fi=!1,null!==e&&ci(t,e),(t=Uo(t,r)).flags|=4096;return t}return(e=Vr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return qo(e,t,n,t.pendingProps);case 24:return ji(t),r=Di(qi),null===e?(null===(i=Yi())&&(i=mc,a=zi(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},va(t),_i(0,qi,i)):(0!==(e.lanes&n)&&(ya(e,t),Na(t,null,null,n),Ea()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,qi,r)):(r=a.cache,_i(0,qi,r),r!==i.cache&&Ii(t,[qi],n,!0))),Lo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw aa=ta,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!iu())throw aa=ta,Zi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Pe():536870912,e.lanes|=t,Ic|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function fl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return pl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(qi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,xi())),pl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ll(t),null!==a?(pl(t),ul(t,a)):(pl(t),cl(t,i,0,0,n))):a?a!==e.memoizedState?(ll(t),pl(t),ul(t,a)):(pl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),pl(t),cl(t,i,0,0,n)),null;case 27:if($(t),n=G.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return pl(t),null}e=H.current,bi(t)?vi(t):(e=Fd(i,r,n),t.stateNode=e,ll(t))}return pl(t),null;case 5:if($(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return pl(t),null}if(a=H.current,bi(t))vi(t);else{var o=vd(G.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Ve]=t,a[Ue]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(pd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return pl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=G.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=vd(e).createTextNode(r))[Ve]=t,t.stateNode=e}return pl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ve]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),e=!1}else n=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(qa(t),t):(qa(t),null);if(0!==(128&t.flags))throw Error(s(558))}return pl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ve]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;pl(t),i=!1}else i=xi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(qa(t),t):(qa(t),null)}return qa(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),pl(t),null);case 4:return Y(),null===e&&ed(t.stateNode.containerInfo),pl(t),null;case 10:return Ci(t.type),pl(t),null;case 19:if(z(za),null===(r=t.memoizedState))return pl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)hl(r,!1);else{if(0!==Ec||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Va(e))){for(t.flags|=128,hl(r,!1),e=a.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return V(za,1&za.current|2),hi&&ai(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Lc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Va(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!hi)return pl(t),null}else 2*le()-r.renderingStartTime>Lc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=za.current,V(za,i?1&n|2:1&n),hi&&ai(t,r.treeForkCount),e):(pl(t),null);case 22:case 23:return qa(t),ja(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(pl(t),6&t.subtreeFlags&&(t.flags|=8192)):pl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&z(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(qi),pl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(qi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return $(t),null;case 31:if(null!==t.memoizedState){if(qa(t),null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(qa(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return z(za),null;case 4:return Y(),null;case 10:return Ci(t.type),null;case 22:case 23:return qa(t),ja(),null!==e&&z(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(qi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ci(qi),Y();break;case 26:case 27:case 5:$(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&qa(t);break;case 13:qa(t);break;case 19:z(za);break;case 10:Ci(t.type);break;case 22:case 23:qa(t),ja(),null!==e&&z(Qi);break;case 24:Ci(qi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Eu(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){Eu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Eu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ca(t,n)}catch(r){Eu(e,e.return,r)}}}function wl(e,t,n){n.props=Eo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Eu(e,t,r)}}function xl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Eu(e,t,i)}}function Sl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Eu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Eu(e,t,a)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Eu(e,e.return,i)}}function El(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(f)||dd(e,t,f,null,r,h)}}for(var p in r){var f=r[p];if(h=n[p],r.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":a=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":o=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&dd(e,t,p,f,r,h)}}return void yt(e,o,l,c,u,d,a,i);case"select":for(a in f=o=l=p=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(a)||dd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":p=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&dd(e,t,i,a,r,c)}return t=l,n=o,r=f,void(null!=p?xt(e,!!n,p,!1):!!r!==!!n&&(null!=t?xt(e,!!n,t,!0):xt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&dd(e,t,o,i,r,a)}return void St(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else dd(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:dd(e,t,u,p,r,f)}return;default:if(Tt(t)){for(var v in n)p=n[v],n.hasOwnProperty(v)&&void 0!==p&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||hd(e,t,d,p,r,f);return}}for(var y in n)p=n[y],n.hasOwnProperty(y)&&null!=p&&!r.hasOwnProperty(y)&&dd(e,t,y,null,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||null==p&&null==f||dd(e,t,h,p,r,f)}(r,e.type,n,t),r[Ue]=t}catch(i){Eu(e,e.return,i)}}function Nl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function _l(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Nl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jt));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Tl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Tl(e,t,n),e=e.sibling;null!==e;)Tl(e,t,n),e=e.sibling}function Il(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);pd(t,r,n),t[Ve]=e,t[Ue]=n}catch(a){Eu(e,e.return,a)}}var Pl=!1,Al=!1,jl=!1,Dl="function"===typeof WeakSet?WeakSet:Set,Rl=null;function Ll(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&vl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Eu(n,n.return,s)}else{var i=Eo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Eu(n,n.return,o)}}64&r&&bl(n),512&r&&xl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ca(e,t)}catch(s){Eu(n,n.return,s)}}break;case 27:null===t&&4&r&&Il(n);case 26:case 5:Yl(e,n),null===t&&4&r&&kl(n),512&r&&xl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Vl(e,n);break;case 13:Yl(e,n),4&r&&Ul(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Tu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Pl)){t=null!==t&&null!==t.memoizedState||Al,i=Pl;var a=Al;Pl=r,(Al=t)&&!a?$l(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Pl=i,Al=a}break;case 30:break;default:Yl(e,n)}}function Ol(e){var t=e.alternate;null!==t&&(e.alternate=null,Ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function ql(e,t,n){for(n=n.child;null!==n;)zl(e,t,n),n=n.sibling}function zl(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Al||Sl(n,t),ql(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Al||Sl(n,t);var r=Ml,i=Fl;Cd(n.type)&&(Ml=n.stateNode,Fl=!1),ql(e,t,n),qd(n.stateNode),Ml=r,Fl=i;break;case 5:Al||Sl(n,t);case 6:if(r=Ml,i=Fl,Ml=null,ql(e,t,n),Fl=i,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(s){Eu(n,t,s)}else try{Ml.removeChild(n.stateNode)}catch(s){Eu(n,t,s)}break;case 18:null!==Ml&&(Fl?(Td(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):Td(Ml,n.stateNode));break;case 4:r=Ml,i=Fl,Ml=n.stateNode.containerInfo,Fl=!0,ql(e,t,n),Ml=r,Fl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Al||yl(4,n,t),ql(e,t,n);break;case 1:Al||(Sl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),ql(e,t,n);break;case 21:ql(e,t,n);break;case 22:Al=(r=Al)||null!==n.memoizedState,ql(e,t,n),Al=r;break;default:ql(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){Eu(t,t.return,n)}}}function Ul(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){Eu(t,t.return,n)}}function Bl(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Dl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Dl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Iu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(s(160));zl(a,o,i),Ml=null,Fl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Gl(t,e),t=t.sibling}var Wl=null;function Gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Kl(e),4&r&&(yl(3,e,e.return),vl(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),64&r&&Pl&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(Hl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Qe]||a[Ve]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),pd(a,r,n),a[Ve]=e,et(a),r=a;break e;case"link":var o=rh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}pd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}pd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Ve]=e,et(a),r=a}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Xd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?ih(i,e.type,e.stateNode):Xd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&El(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),null!==n&&4&r&&El(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Kl(e),512&r&&(Al||null===n||Sl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){Eu(e,e.return,m)}}4&r&&null!=e.stateNode&&El(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(jl=!0);break;case 6:if(Hl(t,e),Kl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Eu(e,e.return,m)}}break;case 3:if(nh=null,i=Wl,Wl=Ud(t.containerInfo),Hl(t,e),Wl=i,Kl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(m){Eu(e,e.return,m)}jl&&(jl=!1,Ql(e));break;case 4:r=Wl,Wl=Ud(e.stateNode.containerInfo),Hl(t,e),Kl(e),Wl=r;break;case 12:default:Hl(t,e),Kl(e);break;case 31:case 19:Hl(t,e),Kl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 13:Hl(t,e),Kl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Dc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Bl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Pl,d=Al;if(Pl=u||i,Al=d||c,Hl(t,e),Al=d,Pl=u,Kl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Pl||Al||Jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(m){Eu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Eu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var f=c.stateNode;i?Id(f,!0):Id(c.stateNode,!1)}catch(m){Eu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Bl(e,n))));case 30:case 21:}}function Kl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(Nl(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Tl(e,_l(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),Tl(e,_l(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,_l(e),o);break;default:throw Error(s(161))}}catch(l){Eu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ll(e,t.alternate,t),t=t.sibling}function Jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),Jl(t);break;case 1:Sl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),Jl(t);break;case 27:qd(t.stateNode);case 26:case 5:Sl(t,t.return),Jl(t);break;case 22:null===t.memoizedState&&Jl(t);break;default:Jl(t)}e=e.sibling}}function $l(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:$l(i,a,n),vl(4,a);break;case 1:if($l(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Eu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)_a(l[i],o)}catch(c){Eu(r,r.return,c)}}n&&64&s&&bl(a),xl(a,a.return);break;case 27:Il(a);case 26:case 5:$l(i,a,n),n&&null===r&&4&s&&kl(a),xl(a,a.return);break;case 12:$l(i,a,n);break;case 31:$l(i,a,n),n&&4&s&&Vl(i,a);break;case 13:$l(i,a,n),n&&4&s&&Ul(i,a);break;case 22:null===a.memoizedState&&$l(i,a,n),xl(a,a.return);break;case 30:break;default:$l(i,a,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Eu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?ec(e,t,n,r):rc(e,t):2&a._visibility?ec(e,t,n,r):(a._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Xl(s,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:nc(a,s,o,l,i),vl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?nc(a,s,o,l,i):rc(a,s):(u._visibility|=2,nc(a,s,o,l,i)),i&&2048&c&&Xl(s.alternate,s);break;case 24:nc(a,s,o,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:nc(a,s,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function ac(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Kd(r.href),a=t.querySelector(Qd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Yd(r),(i=zd.get(i))&&eh(r,i),et(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),pd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Wl;Wl=Ud(e.stateNode.containerInfo),ac(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,ac(e,t,n),ic=r):ac(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Rl=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Rl;){var n=Rl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Rl=r;else e:for(n=e;null!==Rl;){var i=(r=Rl).sibling,a=r.return;if(Ol(r),r===n){Rl=null;break e}if(null!==i){i.return=a,Rl=i;break e}Rl=a}}}var hc={getCacheForType:function(e){var t=Di(qi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Di(qi).controller.signal}},pc="function"===typeof WeakMap?WeakMap:Map,fc=0,mc=null,gc=null,vc=0,yc=0,bc=null,wc=!1,xc=!1,Sc=!1,kc=0,Ec=0,Nc=0,_c=0,Cc=0,Tc=0,Ic=0,Pc=null,Ac=null,jc=!1,Dc=0,Rc=0,Lc=1/0,Oc=null,Mc=null,Fc=0,qc=null,zc=null,Vc=0,Uc=0,Bc=null,Hc=null,Wc=0,Gc=null;function Kc(){return 0!==(2&fc)&&0!==vc?vc&-vc:null!==R.T?Bu():Fe()}function Qc(){if(0===Tc)if(0===(536870912&vc)||hi){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Tc=e}else Tc=536870912;return null!==(e=Da.current)&&(e.flags|=32),Tc}function Yc(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,vc,Tc,!1)),je(e,n),0!==(2&fc)&&e===mc||(e===mc&&(0===(2&fc)&&(_c|=n),4===Ec&&Zc(e,vc,Tc,!1)),Ou(e))}function Jc(e,t,n){if(0!==(6&fc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Te(e,t),i=r?function(e,t){var n=fc;fc|=2;var r=au(),i=su();mc!==e||vc!==t?(Oc=null,Lc=le()+500,nu(e,t)):xc=Te(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var a=bc;t:switch(yc){case 1:yc=0,bc=null,pu(e,t,a,1);break;case 2:case 9:if(na(a)){yc=0,bc=null,hu(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Ou(e)},a.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:na(a)?(yc=0,bc=null,hu(t)):(yc=0,bc=null,pu(e,t,a,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?ah(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,fu(u)):gc=null}break t}}yc=0,bc=null,pu(e,t,a,5);break;case 6:yc=0,bc=null,pu(e,t,a,6);break;case 8:tu(),Ec=6;break e;default:throw Error(s(462))}}uu();break}catch(d){ru(e,d)}return Ni=Ei=null,R.H=r,R.A=i,fc=n,null!==gc?0:(mc=null,vc=0,Ar(),Ec)}(e,t):lu(e,t,!0),a=r;;){if(0===i){xc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Xc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Pc;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(Sc&&!c){l.errorRecoveryDisabledLanes|=a,_c|=a,i=4;break e}a=Ac,Ac=i,null!==a&&(null===Ac?Ac=a:Ac.push.apply(Ac,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Tc,!wc);break e;case 2:Ac=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Dc+300-le())){if(Zc(r,t,Tc,!wc),0!==Ce(r,0,!0))break e;Vc=t,r.timeoutHandle=Sd($c.bind(null,r,n,Ac,Oc,jc,t,Tc,_c,Ic,wc,a,"Throttled",-0,0),i)}else $c(r,n,Ac,Oc,jc,t,Tc,_c,Ic,wc,a,null,-0,0)}break}i=lu(e,t,!1),a=!1}Ou(e)}function $c(e,t,n,r,i,a,s,o,l,c,u,d,h,p){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt});var f=(62914560&a)===a?Dc-le():(4194048&a)===a?Rc-le():0;if(f=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&fd(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&fd(d)&&(s+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(a+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,f),null!==f)return Vc=a,e.cancelPendingCommit=f(gu.bind(null,e,t,a,n,r,i,s,o,l,u,d,null,h,p)),void Zc(e,a,s,!c)}gu(e,t,a,n,r,i,s,o,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Zn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Cc,t&=~_c,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-we(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&De(e,n,t)}function eu(){return 0!==(6&fc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===yc)var e=gc.return;else Ni=Ei=null,os(e=gc),la=null,ca=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,tu(),mc=e,gc=n=Vr(e.current,null),vc=t,yc=0,bc=null,wc=!1,xc=Te(e,t),Sc=!1,Ic=Tc=Cc=_c=Nc=Ec=0,Ac=Pc=null,jc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),a=1<<i;t|=e[i],r&=~a}return kc=t,Ar(),n}function ru(e,t){Ba=null,R.H=go,t===Xi||t===ea?(t=sa(),yc=3):t===Zi?(t=sa(),yc=4):yc=t===Do?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Ec=1,To(e,Yr(t,e.current)))}function iu(){var e=Da.current;return null===e||((4194048&vc)===vc?null===Ra:((62914560&vc)===vc||0!==(536870912&vc))&&e===Ra)}function au(){var e=R.H;return R.H=go,null===e?go:e}function su(){var e=R.A;return R.A=hc,e}function ou(){Ec=4,wc||(4194048&vc)!==vc&&null!==Da.current||(xc=!0),0===(134217727&Nc)&&0===(134217727&_c)||null===mc||Zc(mc,vc,Tc,!1)}function lu(e,t,n){var r=fc;fc|=2;var i=au(),a=su();mc===e&&vc===t||(Oc=null,nu(e,t)),t=!1;var s=Ec;e:for(;;)try{if(0!==yc&&null!==gc){var o=gc,l=bc;switch(yc){case 8:tu(),s=6;break e;case 3:case 2:case 9:case 6:null===Da.current&&(t=!0);var c=yc;if(yc=0,bc=null,pu(e,o,l,c),n&&xc){s=0;break e}break;default:c=yc,yc=0,bc=null,pu(e,o,l,c)}}cu(),s=Ec;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,Ni=Ei=null,fc=r,R.H=i,R.A=a,null===gc&&(mc=null,vc=0,Ar()),s}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!se();)du(gc)}function du(e){var t=ol(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Go(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Go(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:os(t);default:gl(n,t),t=ol(n,t=gc=Ur(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?fu(e):gc=t}function pu(e,t,n,r){Ni=Ei=null,os(t),la=null,ca=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Pi(t,n,i,!0),null!==(n=Da.current)){switch(n.tag){case 31:case 13:return null===Ra?ou():null===n.alternate&&0===Ec&&(Ec=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),Nu(e,r,i)),!1;case 22:return n.flags|=65536,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),Nu(e,r,i)),!1}throw Error(s(435,n.tag))}return Nu(e,r,i),ou(),!1}if(hi)return null!==(t=Da.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&Si(Yr(e=Error(s(422),{cause:r}),n))):(r!==mi&&Si(Yr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),Sa(e,i=Po(e.stateNode,r,i)),4!==Ec&&(Ec=2)),!1;var a=Error(s(520),{cause:r});if(a=Yr(a,n),null===Pc?Pc=[a]:Pc.push(a),4!==Ec&&(Ec=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,Sa(n,e=Po(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Mc||!Mc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,jo(i=Ao(i),e,n,r),Sa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,vc))return Ec=1,To(e,Yr(n,e.current)),void(gc=null)}catch(a){if(null!==i)throw gc=i,a;return Ec=1,To(e,Yr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:xc||0!==(536870912&vc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Da.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):fu(t)}function fu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=fl(t.alternate,t,kc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Ec&&(Ec=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Ec=6,gc=null}function gu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{xu()}while(0!==Fc);if(0!==(6&fc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==r&&De(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Pr,o,l,c),e===mc&&(gc=mc=null,vc=0),zc=t,qc=e,Vc=n,Uc=a,Bc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return Su(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=R.T,R.T=null,i=L.p,L.p=2,o=fc,fc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,ar(e=ir(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++d===r&&(c=o),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Rl=t;null!==Rl;)if(e=(t=Rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Rl=e;else for(;null!==Rl;){switch(a=(t=Rl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Eo(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Eu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Pd(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Pd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Rl=e;break}Rl=t.return}}(e,t)}finally{fc=o,L.p=i,R.T=r}}Fc=1,vu(),yu(),bu()}}function vu(){if(1===Fc){Fc=0;var e=qc,t=zc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var r=L.p;L.p=2;var i=fc;fc|=4;try{Gl(t,e);var a=gd,s=ir(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&rr(o.ownerDocument.documentElement,o)){if(null!==l&&ar(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=o.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(s=g,g=m,m=s);var v=nr(o,m),y=nr(o,g);if(v&&y&&(1!==p.rangeCount||p.anchorNode!==v.node||p.anchorOffset!==v.offset||p.focusNode!==y.node||p.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),p.removeAllRanges(),m>g?(p.addRange(b),p.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),p.addRange(b))}}}}for(d=[],p=o;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{fc=i,L.p=r,R.T=n}}e.current=t,Fc=2}}function yu(){if(2===Fc){Fc=0;var e=qc,t=zc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var r=L.p;L.p=2;var i=fc;fc|=4;try{Ll(e,t.alternate,t)}finally{fc=i,L.p=r,R.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,oe();var e=qc,t=zc,n=Vc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,zc=qc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Me(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=R.T,i=L.p,L.p=2,R.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{R.T=t,L.p=i}}0!==(3&Vc)&&xu(),Ou(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Gc?Wc++:(Wc=0,Gc=e):Wc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function xu(){return vu(),yu(),bu(),Su()}function Su(){if(5!==Fc)return!1;var e=qc,t=Uc;Uc=0;var n=Me(Vc),r=R.T,i=L.p;try{L.p=32>n?32:n,R.T=null,n=Bc,Bc=null;var a=qc,o=Vc;if(Fc=0,zc=qc=null,Vc=0,0!==(6&fc))throw Error(s(331));var l=fc;if(fc|=4,cc(a.current),tc(a,a.current,o,n),fc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{L.p=i,R.T=r,wu(e,t)}}function ku(e,t,n){t=Yr(n,t),null!==(e=wa(e,t=Po(e.stateNode,t,2),2))&&(je(e,2),Ou(e))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Yr(n,e),null!==(r=wa(t,n=Ao(2),2))&&(jo(n,r,t,e),je(r,2),Ou(r));break}}t=t.return}}function Nu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new pc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(Sc=!0,i.add(n),e=_u.bind(null,e,t,n),t.then(e,e))}function _u(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===Ec||3===Ec&&(62914560&vc)===vc&&300>le()-Dc?0===(2&fc)&&nu(e,0):Cc|=n,Ic===vc&&(Ic=0)),Ou(e)}function Cu(e,t){0===t&&(t=Pe()),null!==(e=Rr(e,t))&&(je(e,t),Ou(e))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}var Pu=null,Au=null,ju=!1,Du=!1,Ru=!1,Lu=0;function Ou(e){e!==Au&&null===e.next&&(null===Au?Pu=Au=e:Au=Au.next=e),Du=!0,ju||(ju=!0,Nd(function(){0!==(6&fc)?ie(ue,Fu):qu()}))}function Mu(e,t){if(!Ru&&Du){Ru=!0;do{for(var n=!1,r=Pu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-we(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Uu(r,a))}else a=vc,0===(3&(a=Ce(r,r===mc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Te(r,a)||(n=!0,Uu(r,a));r=r.next}}while(n);Ru=!1}}function Fu(){qu()}function qu(){Du=ju=!1;var e=0;0!==Lu&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==xd&&(xd=e,!0);return xd=null,!1}()&&(e=Lu);for(var t=le(),n=null,r=Pu;null!==r;){var i=r.next,a=zu(r,t);0===a?(r.next=null,null===n?Pu=i:n.next=i,null===i&&(Au=n)):(n=r,(0!==e||0!==(3&a))&&(Du=!0)),r=i}0!==Fc&&5!==Fc||Mu(e,!1),0!==Lu&&(Lu=0)}function zu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-we(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Ie(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=vc,n=Ce(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Te(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=fe}return r=Vu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Vu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=Ce(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Jc(e,r,t),zu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Vu.bind(null,e):null)}function Uu(e,t){if(xu())return null;Jc(e,t,!0)}function Bu(){if(0===Lu){var e=Hi;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Lu=e}return Lu}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:At(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Gu=0;Gu<Nr.length;Gu++){var Ku=Nr[Gu];_r(Ku.toLowerCase(),"on"+(Ku[0].toUpperCase()+Ku.slice(1)))}_r(vr,"onAnimationEnd"),_r(yr,"onAnimationIteration"),_r(br,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(wr,"onTransitionRun"),_r(xr,"onTransitionStart"),_r(Sr,"onTransitionCancel"),_r(kr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function Ju(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Cr(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Cr(u)}i.currentTarget=null,a=l}}}}function $u(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(Ch(t)){case 2:var i=xh;break;case 8:i=Sh;break;default:i=kh}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=Je(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}qt(function(){var r=a,i=Rt(n),s=[];e:{var o=Er.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=bn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xn;break;case vr:case yr:case br:c=dn;break;case kr:c=Sn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=kn;break;case"copy":case"cut":case"paste":c=hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=wn;break;case"toggle":case"beforetoggle":c=En}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==o?o+"Capture":null:o;d=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=zt(m,p))&&d.push(rd(m,g,f)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Dt||!(u=n.relatedTarget||n.fromElement)||!Je(u)&&!u[Be])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Je(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=wn,g="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?o:Xe(c),f=null==u?o:Xe(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=f,g=null,Je(i)===r&&((d=new d(p,m+"enter",u,n,i)).target=f,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,f=0,g=p=c;g;g=d(g))f++;g=0;for(var v=m;v;v=d(v))g++;for(;0<f-g;)p=d(p),f--;for(;0<g-f;)m=d(m),g--;for(;f--;){if(p===m||null!==m&&p===m.alternate){d=p;break e}p=d(p),m=d(m)}d=null}else d=null;null!==c&&sd(s,o,c,d,!1),null!==u&&null!==h&&sd(s,h,u,d,!0)}if("select"===(c=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Un;else if(On(o))if(Bn)y=Xn;else{y=Jn;var b=Yn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&Tt(r.elementType)&&(y=Un):y=$n;switch(y&&(y=y(e,r))?Mn(s,y,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Xe(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(or=b,lr=r,cr=null);break;case"focusout":cr=lr=or=null;break;case"mousedown":ur=!0;break;case"contextmenu":case"mouseup":case"dragend":ur=!1,dr(s,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(s,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var x="onCompositionStart";break e;case"compositionend":x="onCompositionEnd";break e;case"compositionupdate":x="onCompositionUpdate";break e}x=void 0}else Rn?jn(e,n)&&(x="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(x="onCompositionStart");x&&(In&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==x?"onCompositionEnd"===x&&Rn&&(w=Kt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Rn=!0)),0<(b=id(r,x)).length&&(x=new pn(x,e,null,n,i),s.push({event:x,listeners:b}),w?x.data=w:null!==(w=Dn(n))&&(x.data=w))),(w=Tn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(An=!0,Pn);case"textInput":return(e=t.data)===Pn&&An?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!_n&&jn(e,t)?(e=Kt(),Gt=Wt=Ht=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(x=id(r,"onBeforeInput")).length&&(b=new pn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:x}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hu((i[Ue]||null).action),s=r.submitter;s&&null!==(t=(t=s[Ue]||null)?Hu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Lu){var e=s?Wu(i,s):new FormData(i);to(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Wu(i,s):new FormData(i),to(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}Ju(s,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=zt(e,n))&&r.unshift(rd(e,i,a)),null!=(i=zt(e,t))&&r.push(rd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=zt(n,a))&&s.unshift(rd(n,c,l)):i||null!=(c=zt(n,a))&&s.push(rd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=At(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=jt);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=At(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":$u("beforetoggle",e),$u("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=It.get(n)||n,r)}}function hd(e,t,n,r,i,a){switch(n){case"style":Ct(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&$u("scroll",e);break;case"onScrollEnd":null!=r&&$u("scrollend",e);break;case"onClick":null!=r&&(e.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Ue]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function pd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":$u("error",e),$u("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,r,o,n,null)}}return a&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":$u("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,o,a,!1);case"select":for(a in $u("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:dd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?xt(e,!!i,t,!1):null!=n&&xt(e,!!i,n,!0));case"textarea":for(o in $u("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dd(e,t,o,l,n,null)}return void kt(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":$u("beforetoggle",e),$u("toggle",e),$u("cancel",e),$u("close",e);break;case"iframe":case"object":$u("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)$u(Qu[i],e);break;case"image":$u("error",e),$u("load",e);break;case"details":$u("toggle",e);break;case"embed":case"source":case"link":$u("error",e),$u("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,u,i,n,null)}return;default:if(Tt(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function fd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var xd=null;var Sd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,Ed="function"===typeof Promise?Promise:void 0,Nd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ed?function(e){return Ed.resolve(null).then(e).catch(_d)}:Sd;function _d(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Td(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)qd(e.ownerDocument.documentElement);else if("head"===n){qd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}else"body"===n&&qd(e.ownerDocument.body);n=i}while(n);Wh(t)}function Id(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Pd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Pd(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Ad(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Rd(e.nextSibling)))return null}return e}function jd(e){return"$?"===e.data||"$~"===e.data}function Dd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Rd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Ld=null;function Od(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Rd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function qd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var zd=new Map,Vd=new Set;function Ud(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Bd=L.d;L.d={f:function(){var e=Bd.f(),t=eu();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):Bd.r(e)},D:function(e){Bd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){Bd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){Bd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Kd(e);break;case"script":a=Jd(e)}zd.has(a)||(e=p({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),zd.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(a))||"script"===t&&r.querySelector($d(a))||(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){Bd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Jd(e)}if(!zd.has(a)&&(e=p({rel:"modulepreload",href:e},t),zd.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector($d(a)))return}pd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){Bd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Jd(e),a=r.get(i);a||((a=n.querySelector($d(i)))||(e=p({src:e,async:!0},t),(t=zd.get(i))&&th(e,t),et(a=n.createElement("script")),pd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){Bd.S(e,t,n);var r=Hd;if(r&&e){var i=Ze(r).hoistableStyles,a=Kd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Qd(a)))o.loading=5;else{e=p({rel:"stylesheet",href:e,"data-precedence":t},n),(n=zd.get(a))&&eh(e,n);var l=s=r.createElement("link");et(l),pd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){Bd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=Jd(e),a=r.get(i);a||((a=n.querySelector($d(i)))||(e=p({src:e,async:!0,type:"module"},t),(t=zd.get(i))&&th(e,t),et(a=n.createElement("script")),pd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Vd.has(i)||(Vd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(pd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Gd(e,t,n,r){var i,a,o,l,c=(c=G.current)?Ud(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Kd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Kd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),zd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},zd.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),pd(a,"link",o),et(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Jd(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Kd(e){return'href="'+vt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return p({},e,{"data-precedence":e.precedence,precedence:null})}function Jd(e){return'[src="'+vt(e)+'"]'}function $d(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=p({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),pd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Kd(n.href);var a=e.querySelector(Qd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Yd(n),(i=zd.get(i))&&eh(r,i),et(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),pd(a,"link",r),t.state.loading|=4,Zd(a,n.precedence,e),t.instance=a;case"script":return a=Jd(n.src),(i=e.querySelector($d(a)))?(t.instance=i,et(i),i):(r=n,(i=zd.get(a))&&th(r=p({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),pd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Qe]||a[Ve]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:x,Provider:null,Consumer:null,_currentValue:O,_currentValue2:O,_threadCount:0};function hh(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ae(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ae(0),this.hiddenUpdates=Ae(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function ph(e,t,n,r,i,a,s,o,l,c,u,d){return e=new hh(e,t,n,s,l,c,u,d,o),t=1,!0===a&&(t|=24),a=qr(3,null,null,t),e.current=a,a.stateNode=e,(t=zi()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},va(a),e}function fh(e){return e?e=Mr:Mr}function mh(e,t,n,r,i,a){i=fh(i),null===r.context?r.context=i:r.pendingContext=i,(r=ba(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=wa(e,r,t))&&(Yc(n,0,t),xa(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Yc(t,0,67108864),vh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Kc(),n=Rr(e,t=Oe(t));null!==n&&Yc(n,0,t),vh(e,t)}}var wh=!0;function xh(e,t,n,r){var i=R.T;R.T=null;var a=L.p;try{L.p=2,kh(e,t,n,r)}finally{L.p=a,R.T=i}}function Sh(e,t,n,r){var i=R.T;R.T=null;var a=L.p;try{L.p=8,kh(e,t,n,r)}finally{L.p=a,R.T=i}}function kh(e,t,n,r){if(wh){var i=Eh(r);if(null===i)nd(e,t,r,Nh,n),Oh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ih=Mh(Ih,e,t,n,r,i),!0;case"dragenter":return Ph=Mh(Ph,e,t,n,r,i),!0;case"mouseover":return Ah=Mh(Ah,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jh.set(a,Mh(jh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Dh.set(a,Mh(Dh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Oh(e,r),4&t&&-1<Lh.indexOf(e)){for(;null!==i;){var a=$e(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=_e(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-we(s);o.entanglements[1]|=l,s&=~l}Ou(a),0===(6&fc)&&(Lc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Rr(a,2))&&Yc(o,0,2),eu(),vh(a,2)}if(null===(a=Eh(r))&&nd(e,t,r,Nh,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Eh(e){return _h(e=Rt(e))}var Nh=null;function _h(e){if(Nh=null,null!==(e=Je(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Nh=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case pe:return 32;case fe:return 268435456;default:return 32}default:return 32}}var Th=!1,Ih=null,Ph=null,Ah=null,jh=new Map,Dh=new Map,Rh=[],Lh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Oh(e,t){switch(e){case"focusin":case"focusout":Ih=null;break;case"dragenter":case"dragleave":Ph=null;break;case"mouseover":case"mouseout":Ah=null;break;case"pointerover":case"pointerout":jh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dh.delete(t.pointerId)}}function Mh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=Je(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void qe(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void qe(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eh(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Dt=r,n.target.dispatchEvent(r),Dt=null,t.shift()}return!0}function zh(e,t,n){qh(e)&&n.delete(t)}function Vh(){Th=!1,null!==Ih&&qh(Ih)&&(Ih=null),null!==Ph&&qh(Ph)&&(Ph=null),null!==Ah&&qh(Ah)&&(Ah=null),jh.forEach(zh),Dh.forEach(zh)}function Uh(e,t){e.blockedOn===t&&(e.blockedOn=null,Th||(Th=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vh)))}var Bh=null;function Hh(e){Bh!==e&&(Bh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bh===e&&(Bh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===_h(r||n))continue;break}var a=$e(n);null!==a&&(e.splice(t,3),t-=3,to(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wh(e){function t(t){return Uh(t,e)}null!==Ih&&Uh(Ih,e),null!==Ph&&Uh(Ph,e),null!==Ah&&Uh(Ah,e),jh.forEach(t),Dh.forEach(t);for(var n=0;n<Rh.length;n++){var r=Rh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Rh.length&&null===(n=Rh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Rh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Ue]||null;if("function"===typeof a)s||Hh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Ue]||null)o=s.formAction;else if(null!==_h(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Gh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Kh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Kh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));mh(t.current,Kc(),e,t,null,null)},Qh.prototype.unmount=Kh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[Be]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rh.length&&0!==t&&t<Rh[n].priority;n++);Rh.splice(n,0,e),0===n&&Fh(e)}};var Yh=i.version;if("19.2.4"!==Yh)throw Error(s(527,Yh,"19.2.4"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Jh={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{ve=$h.inject(Jh),ye=$h}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=No,a=_o,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=ph(e,1,!1,null,0,n,r,null,i,a,l,Gh),e[Be]=t.current,ed(e),new Kh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=No,l=_o,c=Co,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=ph(e,1,!0,t,0,r,i,u,a,l,c,Gh)).context=fh(null),n=t.current,(i=ba(r=Oe(r=Kc()))).callback=null,wa(n,i,r),n=r,t.current.lanes=n,je(t,n),Ou(t),e[Be]=t.current,ed(e),new Qh(t)},t.version="19.2.4"},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),f=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var x=w.prototype=new b;x.constructor=w,g(x,y.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function k(){}var E={H:null,A:null,T:null,S:null},N=Object.prototype.hasOwnProperty;function _(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return P((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+I(e,0):a,S(s)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),P(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+u,s=_(l.type,c,l.props)),t.push(s)),1;u=0;var d,p=""===a?".":a+":";if(S(e))for(var m=0;m<e.length;m++)u+=P(a=e[m],t,i,o=p+I(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=f&&d[f]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=P(a=a.value,t,i,o=p+I(a,m++),s);else if("object"===o){if("function"===typeof e.then)return P(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function A(e,t,n){if(null==e)return e;var r=[],i=0;return P(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},R={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=p,t.Children=R,t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!N.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return _(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)N.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return _(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,D)}catch(a){D(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.4"},43(e,t,n){e.exports=n(288)},579(e,t,n){e.exports=n(799)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function S(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,k());else{var t=r(u);null!==t&&j(S,t.startTime-e)}}var k,E=!1,N=-1,_=5,C=-1;function T(){return!!v||!(t.unstable_now()-C<_)}function I(){if(v=!1,E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(N),N=-1),f=!0;var a=p;try{t:{for(x(e),h=r(c);null!==h&&!(h.expirationTime>e&&T());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,x(e),n=!0;break t}h===r(c)&&i(c),x(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&j(S,l.startTime-e),n=!1}}break e}finally{h=null,p=a,f=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof w)k=function(){w(I)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,A=P.port2;P.port1.onmessage=I,k=function(){A.postMessage(null)}}else k=function(){y(I,0)};function j(e,n){N=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(N),N=-1):g=!0,j(S,a-s))):(e.sortIndex=o,n(c,e),m||f||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853(e,t,n){e.exports=n(896)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".8462a104.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="hero-siege-brasil:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[s,o,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkhero_siege_brasil=self.webpackChunkhero_siege_brasil||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new h;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const p=function(e){return function(e){const t=u(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},f=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const g=()=>{try{return m().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&f(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t;return null===(t=g())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},y=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function x(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function S(e){return(await fetch(e,{credentials:"include"})).ok}const k={};let E=!1;function N(e,t){if("undefined"===typeof window||"undefined"===typeof document||!x(window.location.host)||k[e]===t||k[e]||E)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{E=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function _(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function T(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function I(){try{return"object"===typeof indexedDB}catch(e){return!1}}class P extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(j,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new P(n,a,t)}}const j=/\{\$([^}]+)}/g;function D(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(R(n)&&R(a)){if(!D(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R(e){return null!==e&&"object"===typeof e}function L(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function O(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function M(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class F{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=q),void 0===r.error&&(r.error=q),void 0===r.complete&&(r.complete=q);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function q(){}function z(e){return e&&e._delegate?e._delegate:e}class V{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const U="[DEFAULT]";class B{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:U})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===U?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U;return this.component?this.component.multipleInstances?e:U:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class H{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new B(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const W=[];var G;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(G||(G={}));const K={debug:G.DEBUG,verbose:G.VERBOSE,info:G.INFO,warn:G.WARN,error:G.ERROR,silent:G.SILENT},Q=G.INFO,Y={[G.DEBUG]:"log",[G.VERBOSE]:"log",[G.INFO]:"info",[G.WARN]:"warn",[G.ERROR]:"error"},J=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Y[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class ${constructor(e){this.name=e,this._logLevel=Q,this._logHandler=J,this._userLogHandler=null,W.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in G))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?K[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.DEBUG,...t),this._logHandler(this,G.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.VERBOSE,...t),this._logHandler(this,G.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.INFO,...t),this._logHandler(this,G.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.WARN,...t),this._logHandler(this,G.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,G.ERROR,...t),this._logHandler(this,G.ERROR,...t)}}let X,Z;const ee=new WeakMap,te=new WeakMap,ne=new WeakMap,re=new WeakMap,ie=new WeakMap;let ae={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return te.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ne.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return le(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function se(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ce(this),n),le(ee.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return le(e.apply(ce(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(ce(this),t,...r);return ne.set(a,t.sort?t.sort():[t]),le(a)}}function oe(e){return"function"===typeof e?se(e):(e instanceof IDBTransaction&&function(e){if(te.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});te.set(e,t)}(e),t=e,(X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,ae):e);var t}function le(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(le(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&ee.set(t,e)}).catch(()=>{}),ie.set(t,e),t}(e);if(re.has(e))return re.get(e);const t=oe(e);return t!==e&&(re.set(e,t),ie.set(t,e)),t}const ce=e=>ie.get(e);const ue=["get","getKey","getAll","getAllKeys","count"],de=["put","add","delete","clear"],he=new Map;function pe(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(he.get(t))return he.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=de.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ue.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return he.set(t,a),a}ae=(e=>c(c({},e),{},{get:(t,n,r)=>pe(t,n)||e.get(t,n,r),has:(t,n)=>!!pe(t,n)||e.has(t,n)}))(ae);class fe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const me="@firebase/app",ge="0.14.8",ve=new $("@firebase/app"),ye="@firebase/app-compat",be="@firebase/analytics-compat",we="@firebase/analytics",xe="@firebase/app-check-compat",Se="@firebase/app-check",ke="@firebase/auth",Ee="@firebase/auth-compat",Ne="@firebase/database",_e="@firebase/data-connect",Ce="@firebase/database-compat",Te="@firebase/functions",Ie="@firebase/functions-compat",Pe="@firebase/installations",Ae="@firebase/installations-compat",je="@firebase/messaging",De="@firebase/messaging-compat",Re="@firebase/performance",Le="@firebase/performance-compat",Oe="@firebase/remote-config",Me="@firebase/remote-config-compat",Fe="@firebase/storage",qe="@firebase/storage-compat",ze="@firebase/firestore",Ve="@firebase/ai",Ue="@firebase/firestore-compat",Be="firebase",He="[DEFAULT]",We={[me]:"fire-core",[ye]:"fire-core-compat",[we]:"fire-analytics",[be]:"fire-analytics-compat",[Se]:"fire-app-check",[xe]:"fire-app-check-compat",[ke]:"fire-auth",[Ee]:"fire-auth-compat",[Ne]:"fire-rtdb",[_e]:"fire-data-connect",[Ce]:"fire-rtdb-compat",[Te]:"fire-fn",[Ie]:"fire-fn-compat",[Pe]:"fire-iid",[Ae]:"fire-iid-compat",[je]:"fire-fcm",[De]:"fire-fcm-compat",[Re]:"fire-perf",[Le]:"fire-perf-compat",[Oe]:"fire-rc",[Me]:"fire-rc-compat",[Fe]:"fire-gcs",[qe]:"fire-gcs-compat",[ze]:"fire-fst",[Ue]:"fire-fst-compat",[Ve]:"fire-vertex","fire-js":"fire-js",[Be]:"fire-js-all"},Ge=new Map,Ke=new Map,Qe=new Map;function Ye(e,t){try{e.container.addComponent(t)}catch(n){ve.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Je(e){const t=e.name;if(Qe.has(t))return ve.debug("There were multiple attempts to register component ".concat(t,".")),!1;Qe.set(t,e);for(const n of Ge.values())Ye(n,e);for(const n of Ke.values())Ye(n,e);return!0}function $e(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Xe(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ze=new A("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class et{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new V("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ze.create("app-deleted",{appName:this._name})}}const tt="12.9.0";function nt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:He,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Ze.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw Ze.create("no-options");const a=Ge.get(i);if(a){if(D(n,a.options)&&D(r,a.config))return a;throw Ze.create("duplicate-app",{appName:i})}const s=new H(i);for(const l of Qe.values())s.addComponent(l);const o=new et(n,r,s);return Ge.set(i,o),o}function rt(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He;const t=Ge.get(e);if(!t&&e===He&&y())return nt();if(!t)throw Ze.create("no-app",{appName:e});return t}function it(e,t,n){var r;let i=null!==(r=We[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ve.warn(e.join(" "))}Je(new V("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const at="firebase-heartbeat-store";let st=null;function ot(){return st||(st=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=le(s);return r&&s.addEventListener("upgradeneeded",e=>{r(le(s.result),e.oldVersion,e.newVersion,le(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(at)}catch(n){console.warn(n)}}}).catch(e=>{throw Ze.create("idb-open",{originalErrorMessage:e.message})})),st}async function lt(e,t){try{const n=(await ot()).transaction(at,"readwrite"),r=n.objectStore(at);await r.put(t,ct(e)),await n.done}catch(n){if(n instanceof P)ve.warn(n.message);else{const e=Ze.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});ve.warn(e.message)}}}function ct(e){return"".concat(e.name,"!").concat(e.options.appId)}class ut{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ht(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=dt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ve.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=dt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),pt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),pt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=p(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return ve.warn(t),""}}}function dt(){return(new Date).toISOString().substring(0,10)}class ht{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!I()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await ot()).transaction(at),n=await t.objectStore(at).get(ct(e));return await t.done,n}catch(t){if(t instanceof P)ve.warn(t.message);else{const e=Ze.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});ve.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return lt(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function pt(e){return p(JSON.stringify({version:2,heartbeats:e})).length}var ft;ft="",Je(new V("platform-logger",e=>new fe(e),"PRIVATE")),Je(new V("heartbeat",e=>new ut(e),"PRIVATE")),it(me,ge,ft),it(me,ge,"esm2020"),it("fire-js","");it("firebase","12.9.0","app");var mt,gt,vt="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},yt={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,s=e.g[3];a=t+(s^n&(i^s))+r[0]+3614090360&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[3]+3250441966&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[4]+4118548399&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[7]+4249261313&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[8]+1770035416&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[11]+2304563134&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[12]+1804603682&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[15]+1236535329&4294967295,a=t+(i^s&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[11]+643717713&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[0]+3921069994&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[15]+3634488961&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[4]+3889429448&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[3]+4107603335&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[8]+1163531501&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[7]+1735328473&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^s)+r[5]+4294588738&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[11]+1839030562&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[1]+2763975236&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[7]+4139469664&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[13]+681279174&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[3]+3572445317&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[9]+3654602809&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[15]+530742520&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~s))+r[0]+4096336452&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[14]+2878612391&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[12]+1700485571&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[10]+4293915773&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[8]+1873313359&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[6]+2734768916&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[4]+4149444226&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[2]+718787259&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,s=0;for(;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function a(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function p(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||c.l(e)>0;)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=p(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,a=[];for(let r=0;r<i;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let a=(((n=p(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,a=65535&this.i(i),s=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=a*o,f(n,2*i+2*t),n[2*i+2*t+1]+=r*o,f(n,2*i+2*t+1),n[2*i+2*t+1]+=a*s,f(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,f(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,gt=yt.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=o;for(let o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+a),n);a<8?(a=s(Math.pow(n,a)),i=i.j(a).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},mt=yt.Integer=r}).apply("undefined"!==typeof vt?vt:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var bt,wt,xt,St,kt,Et,Nt,_t,Ct="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Tt={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Ct&&Ct];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){a.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},x=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(S)}};function S(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){f(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var N=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function _(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,E),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var T="closure_listenable_"+(1e6*Math.random()|0),I=0;function P(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++I,this.da=this.fa=!1}function A(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function D(e){const t={};for(const n in e)t[n]=e[n];return t}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<R.length;t++)n=R[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function O(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(A(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}O.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const s=F(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new P(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),z={};function V(e,t,n,r,i){if(r&&r.once)return B(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)V(e,t[a],n,r,i);return null}return n=J(n),e&&e[T]?e.J(t,n,s(r)?!!r.capture:!!r,i):U(e,t,n,!1,r,i)}function U(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const o=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[q]=l=new O(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=K;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)N||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(G(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function B(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)B(e,t[a],n,r,i);return null}return n=J(n),e&&e[T]?e.K(t,n,s(r)?!!r.capture:!!r,i):U(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)H(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=J(n),e&&e[T]?(e=e.i,(a=String(t).toString())in e.g&&((n=F(t=e.g[a],n,r,i))>-1&&(A(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[T])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(G(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[q]=null)):A(e)}}}function G(e){return e in z?z[e]:z[e]="on"+e}function K(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[q])instanceof O?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function J(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function $(){k.call(this),this.i=new O(this),this.M=this,this.G=null}function X(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;L(t=new E(r,e),i)}let a,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)a=t.g=n[s],i=Z(a,r,!0,t)&&i;if(a=t.g=e,i=Z(a,r,!0,t)&&i,i=Z(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Z(a,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const s=t[a];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&M(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u($,k),$.prototype[T]=!0,$.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},$.prototype.N=function(){if($.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)A(n[e]);delete e.g[t],e.h--}}this.G=null},$.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){j(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,se=a.JSON.parse,oe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var pe={},fe=null;function me(){return fe=fe||new $}function ge(e){E.call(this,pe.Ia,e)}function ve(e){const t=me();X(t,new ge(t))}function ye(e,t){E.call(this,pe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();X(t,new ye(t,e))}function we(e,t){E.call(this,pe.Ja,e),this.size=t}function xe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function Se(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ae(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}pe.Ia="serverreachability",u(ge,E),pe.STAT_EVENT="statevent",u(ye,E),pe.Ja="timingevent",u(we,E),Se.prototype.ua=function(){this.g=!1},Se.prototype.info=function(){};var Ee,Ne={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_e={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Te(e){return encodeURIComponent(String(e))}function Ie(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Pe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ae}function Ae(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Ee=new Ce;var je={},De={};function Re(e,t,n){e.M=1,e.A=at(et(t)),e.u=n,e.R=!0,Le(e,null)}function Le(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),It(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Ae,e.g=vn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let a=0;a<i.length;a++){const e=V(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?D(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var s="",o=a.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Oe(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?De:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?De:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,qe(e,e.H)}function qe(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=xe(l(e.aa,e),t)}function ze(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||hn(e.j,e)}function Ue(e){ze(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function Be(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;dn(n),Zt(n)}ln(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=xe(l(n.Va,n),6e3));Ke(n.h)<=1&&n.ta&&(n.ta=void 0)}else fn(n,11)}else if((e.L||n.g==e)&&dn(n),!_(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ye(a,a.h),a.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=gn(r,r.L?r.ba:null,r.W),s.L){Je(r.h,s);var o=s,c=r.O;c&&(o.H=c),o.D&&(ze(o),Fe(o)),r.g=s}else sn(r);n.i.length>0&&tn(n)}else"stop"!=l[0]&&"close"!=l[0]||fn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?fn(n,7):Xt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Pe.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Qt(e)?t.j():this.Y(e)},Pe.prototype.Y=function(e){try{if(e==this.g)e:{const l=Qt(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||Yt(this.g)))){this.K||4!=l||7==c||ve(),ze(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Oe(e))return e.g.la();const t=Yt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Qt(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Ue(e),Ve(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Ue(this),Ve(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Be(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==De){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==je){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),Be(this,t)}if(Oe(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),cn(o),o.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Ue(this),Ve(this)}else ke(this.i,this.l,n,null),Be(this,n);4==l&&Ue(this),this.o&&!this.K&&(4==l?hn(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Qt(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(_(e[r]))continue;var n=Ie(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Ue(this),Ve(this)}}}catch(l){}},Pe.prototype.cancel=function(){this.K=!0,Ue(this)},Pe.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Ue(this),this.m=2,Ve(this)):qe(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ge(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ke(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function Je(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function $e(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=$e(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,Pt(e.i)),this.m=e.m):e&&(t=String(e).match(Xe))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new ft(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof ft?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),It(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ht)),e.i=new ft(t,e.l))}function it(e,t,n){e.i.set(t,n)}function at(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(Te(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,pt)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,Pt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,pt=/#/g;function ft(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=At(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=At(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(At(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function It(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(At(e,t),h(n)),e.h+=n.length)}function Pt(e){const t=new ft;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function At(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function jt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Dt(){this.g=new oe}function Rt(e){this.i=e.Sb||null,this.h=e.ab||!1}function Lt(e,t){$.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Ot(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Mt(e){e.readyState=4,e.l=null,e.j=null,e.B=null,Ft(e)}function Ft(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function qt(e){let t="";return j(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function zt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qt(n),"string"===typeof e?null!=n&&Te(n):it(e,t,n))}function Vt(e){$.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=ft.prototype).add=function(e,t){mt(this),this.i=null,e=At(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=At(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Te(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Te(n[t])),e.push(r)}}return this.i=e.join("&")},u(Rt,le),Rt.prototype.g=function(){return new Lt(this.i,this.h)},u(Lt,$),(e=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,Ft(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ft(this)),this.g&&(this.readyState=3,Ft(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ot(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mt(this):Ft(this),3==this.readyState&&Ot(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Mt(this))},e.Na=function(e){this.g&&(this.response=e,Mt(this))},e.ga=function(){this.g&&Mt(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Vt,$);var Ut=/^https?$/i,Bt=["POST","PUT"];function Ht(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Wt(e),Kt(e)}function Wt(e){e.A||(e.A=!0,X(e,"complete"),X(e,"error"))}function Gt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Qt(e))setTimeout(e.Ca.bind(e),0);else if(X(e,"readystatechange"),4==Qt(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Xe)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!Ut.test(t?t.toLowerCase():"")}n=r}if(n)X(e,"complete"),X(e,"success");else{e.o=6;try{var s=Qt(e)>2?e.g.statusText:""}catch(o){s=""}e.l=s+" ["+e.ca()+"]",Wt(e)}}finally{Kt(e)}}}function Kt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||X(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Qt(e){return e.g?e.g.readyState:0}function Yt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Jt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function $t(e){this.za=0,this.i=[],this.j=new Se,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Jt("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Jt("baseRetryDelayMs",5e3,e),this.Za=Jt("retryDelaySeedMs",1e4,e),this.Ta=Jt("forwardChannelMaxRetries",2,e),this.va=Jt("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new Dt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Xt(e){if(en(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),rn(e,n),(t=new Pe(e,e.j,t)).M=2,t.A=at(et(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=vn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}mn(e)}function Zt(e){e.g&&(cn(e),e.g.cancel(),e.g=null)}function en(e){Zt(e),e.v&&(a.clearTimeout(e.v),e.v=null),dn(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function tn(e){if(!Ge(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||x(),b||(y(),b=!0),w.add(t,e),e.D=0}}function nn(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),rn(e,r),e.u&&e.o&&zt(r,e.u,e.o),n=new Pe(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=an(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),Re(n,r,t)}function rn(e,t){e.H&&j(e.H,function(e,n){it(t,n,e)}),e.l&&j({},function(e,n){it(t,n,e)})}function an(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;s(n)&&(r=ae(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(on){throw e.push(a+"type="+encodeURIComponent("_badmap")),on}}catch(on){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function sn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||x(),b||(y(),b=!0),w.add(t,e),e.A=0}}function ln(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=xe(l(e.Da,e),pn(e,e.A)),e.A++,!0)}function cn(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function un(e){e.g=new Pe(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),rn(e,t),e.u&&e.o&&zt(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=at(et(t)),n.u=null,n.R=!0,Le(n,e)}function dn(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function hn(e,t){var n=null;if(e.g==t){dn(e),cn(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,Je(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;X(r=me(),new we(r,n)),tn(e)}else sn(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ke(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=xe(l(e.Ea,e,t),pn(e,e.D)),e.D++,!0))}(e,t)||2==r&&ln(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:fn(e,5);break;case 4:fn(e,10);break;case 3:fn(e,6);break;default:fn(e,2)}}function pn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function fn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tt(r,"https"),at(r),t?function(e,t){const n=new Se;if(a.Image){const r=new Image;r.onload=c(jt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(jt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(jt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(jt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Se;const n=new AbortController,r=setTimeout(()=>{n.abort(),jt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?jt(0,0,!0,t):jt(0,0,!1,t)}).catch(()=>{clearTimeout(r),jt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),mn(e),en(e)}function mn(e){if(e.I=0,e.ja=[],e.l){const t=$e(e.h);0==t.length&&0==e.i.length||(p(e.ja,t),p(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function gn(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),rn(e,r),r}function vn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Vt(new Rt({ab:n})):new Vt(e.ma)).Fa(e.L),t}function yn(){}function bn(){}function wn(e,t){$.call(this),this.g=new $t(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!_(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!_(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new kn(this)}function xn(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Sn(){he.call(this),this.status=1}function kn(e){this.g=e}(e=Vt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Ht(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Bt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ht(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,X(this,"complete"),X(this,"abort"),Kt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),Vt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Gt(this):this.Xa())},e.Xa=function(){Gt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Qt(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=$t.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=gn(this,null,this.W),tn(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Pe(this,this.j,e);let a=this.o;if(this.U&&(a?(a=D(a),L(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=an(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),rn(this,n),a&&(this.R?t="headers="+Te(qt(a))+"&"+t:this.u&&zt(n,this.u,a)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,Re(i,n,null)):Re(i,n,t),this.I=2}}else 3==this.I&&(e?nn(this,e):0==this.i.length||Ge(this.h)||nn(this))},e.Da=function(){if(this.v=null,un(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=xe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),Zt(this),un(this))},e.Va=function(){null!=this.C&&(this.C=null,Zt(this),ln(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=yn.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},bn.prototype.g=function(e,t){return new wn(e,t)},u(wn,$),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){Xt(this.g)},wn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ae(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&tn(t)},wn.prototype.N=function(){this.g.l=null,delete this.j,Xt(this.g),delete this.g,wn.Z.N.call(this)},u(xn,de),u(Sn,he),u(kn,yn),kn.prototype.ra=function(){X(this.g,"a")},kn.prototype.qa=function(e){X(this.g,new xn(e))},kn.prototype.pa=function(e){X(this.g,new Sn)},kn.prototype.oa=function(){X(this.g,"b")},bn.prototype.createWebChannel=bn.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,_t=Tt.createWebChannelTransport=function(){return new bn},Nt=Tt.getStatEventTarget=function(){return me()},Et=Tt.Event=pe,kt=Tt.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ne.NO_ERROR=0,Ne.TIMEOUT=8,Ne.HTTP_ERROR=6,St=Tt.ErrorCode=Ne,_e.COMPLETE="complete",xt=Tt.EventType=_e,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",$.prototype.listen=$.prototype.J,wt=Tt.WebChannel=ce,Tt.FetchXmlHttpFactory=Rt,Vt.prototype.listenOnce=Vt.prototype.K,Vt.prototype.getLastError=Vt.prototype.Ha,Vt.prototype.getLastErrorCode=Vt.prototype.ya,Vt.prototype.getStatus=Vt.prototype.ca,Vt.prototype.getResponseJson=Vt.prototype.La,Vt.prototype.getResponseText=Vt.prototype.la,Vt.prototype.send=Vt.prototype.ea,Vt.prototype.setWithCredentials=Vt.prototype.Fa,bt=Tt.XhrIo=Vt}).apply("undefined"!==typeof Ct?Ct:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});class It{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}It.UNAUTHENTICATED=new It(null),It.GOOGLE_CREDENTIALS=new It("google-credentials-uid"),It.FIRST_PARTY=new It("first-party-uid"),It.MOCK_USER=new It("mock-user");let Pt="12.9.0";const At=new $("@firebase/firestore");function jt(){return At.logLevel}function Dt(e){if(At.logLevel<=G.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ot);At.debug("Firestore (".concat(Pt,"): ").concat(e),...i)}}function Rt(e){if(At.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ot);At.error("Firestore (".concat(Pt,"): ").concat(e),...i)}}function Lt(e){if(At.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ot);At.warn("Firestore (".concat(Pt,"): ").concat(e),...i)}}function Ot(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Mt(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,Ft(e,r,n)}function Ft(e,t,n){let r="FIRESTORE (".concat(Pt,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw Rt(r),new Error(r)}function qt(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||Ft(t,i,r)}function zt(e,t){return e}const Vt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ut extends P{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class Bt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Ht{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Wt{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(It.UNAUTHENTICATED))}shutdown(){}}class Gt{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Kt{constructor(e){this.t=e,this.currentUser=It.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){qt(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Bt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bt,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(qt("string"==typeof t.accessToken,31837,{l:t}),new Ht(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(null===e||"string"==typeof e,2055,{h:e}),new It(e)}}class Qt{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=It.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class Yt{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Qt(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(It.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Jt{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $t{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xe(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){qt(void 0===this.o,3512);const n=e=>{null!=e.error&&Dt("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,Dt("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Jt(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(qt("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new Jt(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Xt(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Zt{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=Xt(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function en(e,t){return e<t?-1:e>t?1:0}function tn(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return an(n)===an(i)?en(n,i):an(n)?1:-1}return en(e.length,t.length)}const nn=55296,rn=57343;function an(e){const t=e.charCodeAt(0);return t>=nn&&t<=rn}function sn(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const on="__name__";class ln{constructor(e,t,n){void 0===t?t=0:t>e.length&&Mt(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&Mt(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===ln.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ln?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=ln.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return en(e.length,t.length)}static compareSegments(e,t){const n=ln.isNumericId(e),r=ln.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?ln.extractNumericId(e).compare(ln.extractNumericId(t)):tn(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return mt.fromString(e.substring(4,e.length-2))}}class cn extends ln{construct(e,t,n){return new cn(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new cn(e)}static emptyPath(){return new cn([])}}const un=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends ln{construct(e,t,n){return new dn(e,t,n)}static isValidIdentifier(e){return un.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===on}static keyField(){return new dn([on])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ut(Vt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ut(Vt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new Ut(Vt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(t)}static emptyPath(){return new dn([])}}class hn{constructor(e){this.path=e}static fromPath(e){return new hn(cn.fromString(e))}static fromName(e){return new hn(cn.fromString(e).popFirst(5))}static empty(){return new hn(cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new hn(new cn(e.slice()))}}function pn(e,t,n){if(!n)throw new Ut(Vt.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function fn(e){if(!hn.isDocumentKey(e))throw new Ut(Vt.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function mn(e){if(hn.isDocumentKey(e))throw new Ut(Vt.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gn(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function vn(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Mt(12329,{type:typeof e})}function yn(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ut(Vt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vn(e);throw new Ut(Vt.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function bn(e,t){const n={typeString:e};return t&&(n.value=t),n}function wn(e,t){if(!gn(e))throw new Ut(Vt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&s!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new Ut(Vt.INVALID_ARGUMENT,n);return!0}const xn=-62135596800,Sn=1e6;class kn{static now(){return kn.fromMillis(Date.now())}static fromDate(e){return kn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Sn);return new kn(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ut(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ut(Vt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<xn)throw new Ut(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ut(Vt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sn}_compareTo(e){return this.seconds===e.seconds?en(this.nanoseconds,e.nanoseconds):en(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:kn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wn(e,kn._jsonSchema))return new kn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-xn;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}kn._jsonSchemaVersion="firestore/timestamp/1.0",kn._jsonSchema={type:bn("string",kn._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};class En{static fromTimestamp(e){return new En(e)}static min(){return new En(new kn(0,0))}static max(){return new En(new kn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nn=-1;class _n{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}_n.UNKNOWN_ID=-1;function Cn(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=En.fromTimestamp(1e9===r?new kn(n+1,0):new kn(n,r));return new In(i,hn.empty(),t)}function Tn(e){return new In(e.readTime,e.key,Nn)}class In{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new In(En.min(),hn.empty(),Nn)}static max(){return new In(En.max(),hn.empty(),Nn)}}function Pn(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=hn.comparator(e.documentKey,t.documentKey),0!==n?n:en(e.largestBatchId,t.largestBatchId))}const An="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class jn{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Dn(e){if(e.code!==Vt.FAILED_PRECONDITION||e.message!==An)throw e;Dt("LocalStore","Unexpectedly lost primary lease")}class Rn{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Rn((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Rn?t:Rn.resolve(t)}catch(e){return Rn.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Rn.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Rn.reject(t)}static resolve(e){return new Rn((t,n)=>{t(e)})}static reject(e){return new Rn((t,n)=>{n(e)})}static waitFor(e){return new Rn((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=Rn.resolve(!1);for(const n of e)t=t.next(e=>e?Rn.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new Rn((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new Rn((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function Ln(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function On(e){return"IndexedDbTransactionError"===e.name}class Mn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Mn.ce=-1;const Fn=-1;function qn(e){return null==e}function zn(e){return 0===e&&1/e==-1/0}function Vn(e){return"number"==typeof e&&Number.isInteger(e)&&!zn(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const Un="\x01";function Bn(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Wn(t)),t=Hn(e.get(n),t);return Wn(t)}function Hn(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case Un:n+="\x01\x11";break;default:n+=t}}return n}function Wn(e){return e+Un+"\x01"}const Gn="remoteDocuments",Kn="owner",Qn="mutationQueues",Yn="mutations";const Jn="documentMutations",$n="remoteDocumentsV14",Xn="remoteDocumentGlobal",Zn="targets",er="targetDocuments",tr="targetGlobal",nr="collectionParents",rr="clientMetadata",ir="bundles",ar="namedQueries",sr="indexConfiguration",or="indexState",lr="indexEntries",cr="documentOverlays",ur="globals",dr=[Qn,Yn,Jn,Gn,Zn,Kn,tr,er,rr,Xn,nr,ir,ar],hr=[Qn,Yn,Jn,$n,Zn,Kn,tr,er,rr,Xn,nr,ir,ar,cr],pr=hr,fr=[...pr,sr,or,lr];function mr(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function gr(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vr(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class yr{constructor(e,t){this.comparator=e,this.root=t||wr.EMPTY}insert(e,t){return new yr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wr.BLACK,null,null))}remove(e){return new yr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new br(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new br(this.root,e,this.comparator,!1)}getReverseIterator(){return new br(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new br(this.root,e,this.comparator,!0)}}class br{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wr{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wr.RED,this.left=null!=r?r:wr.EMPTY,this.right=null!=i?i:wr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wr(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wr.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Mt(27949);return e+(this.isRed()?0:1)}}wr.EMPTY=null,wr.RED=!0,wr.BLACK=!1,wr.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new wr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xr{constructor(e){this.comparator=e,this.data=new yr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Sr(this.data.getIterator())}getIteratorFrom(e){return new Sr(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof xr))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xr(this.comparator);return t.data=e,t}}class Sr{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class kr{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new kr([])}unionWith(e){let t=new xr(dn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new kr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sn(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Er extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Er("Invalid base64 string: "+e):e}}(e);return new Nr(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return en(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const _r=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(e){if(qt(!!e,39018),"string"==typeof e){let t=0;const n=_r.exec(e);if(qt(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Tr(e.seconds),nanos:Tr(e.nanos)}}function Tr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ir(e){return"string"==typeof e?Nr.fromBase64String(e):Nr.fromUint8Array(e)}const Pr="server_timestamp",Ar="__type__",jr="__previous_value__",Dr="__local_write_time__";function Rr(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[Ar])||void 0===t?void 0:t.stringValue)===Pr}function Lr(e){const t=e.mapValue.fields[jr];return Rr(t)?Lr(t):t}function Or(e){const t=Cr(e.mapValue.fields[Dr].timestampValue);return new kn(t.seconds,t.nanos)}class Mr{constructor(e,t,n,r,i,a,s,o,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c,this.apiKey=u}}const Fr="(default)";class qr{constructor(e,t){this.projectId=e,this.database=t||Fr}static empty(){return new qr("","")}get isDefaultDatabase(){return this.database===Fr}isEqual(e){return e instanceof qr&&e.projectId===this.projectId&&e.database===this.database}}const zr="__type__",Vr="__max__",Ur={mapValue:{fields:{__type__:{stringValue:Vr}}}},Br="__vector__",Hr="value";function Wr(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Rr(e)?4:li(e)?9007199254740991:si(e)?10:11:Mt(28295,{value:e})}function Gr(e,t){if(e===t)return!0;const n=Wr(e);if(n!==Wr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Or(e).isEqual(Or(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Cr(e.timestampValue),r=Cr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ir(e.bytesValue).isEqual(Ir(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Tr(e.geoPointValue.latitude)===Tr(t.geoPointValue.latitude)&&Tr(e.geoPointValue.longitude)===Tr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Tr(e.integerValue)===Tr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Tr(e.doubleValue),r=Tr(t.doubleValue);return n===r?zn(n)===zn(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return sn(e.arrayValue.values||[],t.arrayValue.values||[],Gr);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(mr(n)!==mr(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Gr(n[i],r[i])))return!1;return!0}(e,t);default:return Mt(52216,{left:e})}}function Kr(e,t){return void 0!==(e.values||[]).find(e=>Gr(e,t))}function Qr(e,t){if(e===t)return 0;const n=Wr(e),r=Wr(t);if(n!==r)return en(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return en(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Tr(e.integerValue||e.doubleValue),r=Tr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Yr(e.timestampValue,t.timestampValue);case 4:return Yr(Or(e),Or(t));case 5:return tn(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ir(e),r=Ir(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=en(n[i],r[i]);if(0!==e)return e}return en(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=en(Tr(e.latitude),Tr(t.latitude));return 0!==n?n:en(Tr(e.longitude),Tr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Jr(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[Hr])||void 0===n?void 0:n.arrayValue,c=null===(r=o[Hr])||void 0===r?void 0:r.arrayValue,u=en((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Jr(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Ur.mapValue&&t===Ur.mapValue)return 0;if(e===Ur.mapValue)return 1;if(t===Ur.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=tn(r[s],a[s]);if(0!==e)return e;const t=Qr(n[r[s]],i[a[s]]);if(0!==t)return t}return en(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Mt(23264,{he:n})}}function Yr(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return en(e,t);const n=Cr(e),r=Cr(t),i=en(n.seconds,r.seconds);return 0!==i?i:en(n.nanos,r.nanos)}function Jr(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Qr(n[i],r[i]);if(e)return e}return en(n.length,r.length)}function $r(e){return Xr(e)}function Xr(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Cr(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ir(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return hn.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Xr(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Xr(e.fields[i]));return n+"}"}(e.mapValue):Mt(61005,{value:e})}function Zr(e){switch(Wr(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Lr(e);return t?16+Zr(t):16;case 5:return 2*e.stringValue.length;case 6:return Ir(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+Zr(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return gr(e.fields,(e,n)=>{t+=e.length+Zr(n)}),t}(e.mapValue);default:throw Mt(13486,{value:e})}}function ei(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function ti(e){return!!e&&"integerValue"in e}function ni(e){return!!e&&"arrayValue"in e}function ri(e){return!!e&&"nullValue"in e}function ii(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ai(e){return!!e&&"mapValue"in e}function si(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[zr])||void 0===t?void 0:t.stringValue)===Br}function oi(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return gr(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=oi(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=oi(e.arrayValue.values[n]);return t}return c({},e)}function li(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Vr}class ci{constructor(e){this.value=e}static empty(){return new ci({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ai(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oi(t)}setAll(e){let t=dn.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=oi(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ai(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ai(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){gr(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ci(oi(this.value))}}function ui(e){const t=[];return gr(e.fields,(e,n)=>{const r=new dn([e]);if(ai(n)){const e=ui(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new kr(t)}class di{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new di(e,0,En.min(),En.min(),En.min(),ci.empty(),0)}static newFoundDocument(e,t,n,r){return new di(e,1,t,En.min(),n,r,0)}static newNoDocument(e,t){return new di(e,2,t,En.min(),En.min(),ci.empty(),0)}static newUnknownDocument(e,t){return new di(e,3,t,En.min(),En.min(),ci.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(En.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ci.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ci.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=En.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof di&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new di(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class hi{constructor(e,t){this.position=e,this.inclusive=t}}function pi(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?hn.comparator(hn.fromName(s.referenceValue),n.key):Qr(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function fi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Gr(e.position[n],t.position[n]))return!1;return!0}class mi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function gi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class vi{}class yi extends vi{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new _i(e,t,n):"array-contains"===t?new Pi(e,n):"in"===t?new Ai(e,n):"not-in"===t?new ji(e,n):"array-contains-any"===t?new Di(e,n):new yi(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Ci(e,n):new Ti(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(Qr(t,this.value)):null!==t&&Wr(this.value)===Wr(t)&&this.matchesComparison(Qr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class bi extends vi{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new bi(e,t)}matches(e){return wi(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function wi(e){return"and"===e.op}function xi(e){return Si(e)&&wi(e)}function Si(e){for(const t of e.filters)if(t instanceof bi)return!1;return!0}function ki(e){if(e instanceof yi)return e.field.canonicalString()+e.op.toString()+$r(e.value);if(xi(e))return e.filters.map(e=>ki(e)).join(",");{const t=e.filters.map(e=>ki(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ei(e,t){return e instanceof yi?function(e,t){return t instanceof yi&&e.op===t.op&&e.field.isEqual(t.field)&&Gr(e.value,t.value)}(e,t):e instanceof bi?function(e,t){return t instanceof bi&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ei(n,t.filters[r]),!0)}(e,t):void Mt(19439)}function Ni(e){return e instanceof yi?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat($r(e.value))}(e):e instanceof bi?function(e){return e.op.toString()+" {"+e.getFilters().map(Ni).join(" ,")+"}"}(e):"Filter"}class _i extends yi{constructor(e,t,n){super(e,t,n),this.key=hn.fromName(n.referenceValue)}matches(e){const t=hn.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ci extends yi{constructor(e,t){super(e,"in",t),this.keys=Ii("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ti extends yi{constructor(e,t){super(e,"not-in",t),this.keys=Ii("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ii(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>hn.fromName(e.referenceValue))}class Pi extends yi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ni(t)&&Kr(t.arrayValue,this.value)}}class Ai extends yi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Kr(this.value.arrayValue,t)}}class ji extends yi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Kr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!Kr(this.value.arrayValue,t)}}class Di extends yi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ni(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Kr(this.value.arrayValue,e))}}class Ri{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Te=null}}function Li(e){return new Ri(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Oi(e){const t=zt(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ki(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),qn(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>$r(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>$r(e)).join(",")),t.Te=e}return t.Te}function Mi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!gi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ei(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!fi(e.startAt,t.startAt)&&fi(e.endAt,t.endAt)}function Fi(e){return hn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class qi{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zi(e,t,n,r,i,a,s,o){return new qi(e,t,n,r,i,a,s,o)}function Vi(e){return new qi(e)}function Ui(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Bi(e){return null!==e.collectionGroup}function Hi(e){const t=zt(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new xr(dn.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new mi(r,n))}),e.has(dn.keyField().canonicalString())||t.Ie.push(new mi(dn.keyField(),n))}return t.Ie}function Wi(e){const t=zt(e);return t.Ee||(t.Ee=Gi(t,Hi(e))),t.Ee}function Gi(e,t){if("F"===e.limitType)return Li(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new mi(e.field,t)});const n=e.endAt?new hi(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new hi(e.startAt.position,e.startAt.inclusive):null;return Li(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ki(e,t){const n=e.filters.concat([t]);return new qi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Qi(e,t,n){return new qi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Yi(e,t){return Mi(Wi(e),Wi(t))&&e.limitType===t.limitType}function Ji(e){return"".concat(Oi(Wi(e)),"|lt:").concat(e.limitType)}function $i(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Ni(e)).join(", "),"]")),qn(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>$r(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>$r(e)).join(",")),"Target(".concat(t,")")}(Wi(e)),"; limitType=").concat(e.limitType,")")}function Xi(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):hn.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Hi(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=pi(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hi(e),t))&&!(e.endAt&&!function(e,t,n){const r=pi(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hi(e),t))}(e,t)}function Zi(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function ea(e){return(t,n)=>{let r=!1;for(const i of Hi(e)){const e=ta(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function ta(e,t,n){const r=e.field.isKeyField()?hn.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Qr(r,i):Mt(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:e.dir})}}class na{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return vr(this.inner)}size(){return this.innerSize}}const ra=new yr(hn.comparator);function ia(){return ra}const aa=new yr(hn.comparator);function sa(){let e=aa;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function oa(e){let t=aa;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function la(){return ua()}function ca(){return ua()}function ua(){return new na(e=>e.toString(),(e,t)=>e.isEqual(t))}const da=new yr(hn.comparator),ha=new xr(hn.comparator);function pa(){let e=ha;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const fa=new xr(en);function ma(){return fa}function ga(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zn(t)?"-0":t}}function va(e){return{integerValue:""+e}}function ya(e,t){return Vn(t)?va(t):ga(e,t)}class ba{constructor(){this._=void 0}}function wa(e,t,n){return e instanceof ka?function(e,t){const n={fields:{[Ar]:{stringValue:Pr},[Dr]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Rr(t)&&(t=Lr(t)),t&&(n.fields[jr]=t),{mapValue:n}}(n,t):e instanceof Ea?Na(e,t):e instanceof _a?Ca(e,t):function(e,t){const n=Sa(e,t),r=Ia(n)+Ia(e.Ae);return ti(n)&&ti(e.Ae)?va(r):ga(e.serializer,r)}(e,t)}function xa(e,t,n){return e instanceof Ea?Na(e,t):e instanceof _a?Ca(e,t):n}function Sa(e,t){return e instanceof Ta?function(e){return ti(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class ka extends ba{}class Ea extends ba{constructor(e){super(),this.elements=e}}function Na(e,t){const n=Pa(t);for(const r of e.elements)n.some(e=>Gr(e,r))||n.push(r);return{arrayValue:{values:n}}}class _a extends ba{constructor(e){super(),this.elements=e}}function Ca(e,t){let n=Pa(t);for(const r of e.elements)n=n.filter(e=>!Gr(e,r));return{arrayValue:{values:n}}}class Ta extends ba{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Ia(e){return Tr(e.integerValue||e.doubleValue)}function Pa(e){return ni(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Aa{constructor(e,t){this.field=e,this.transform=t}}class ja{constructor(e,t){this.version=e,this.transformResults=t}}class Da{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Da}static exists(e){return new Da(void 0,e)}static updateTime(e){return new Da(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class La{}function Oa(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ga(e.key,Da.none()):new Va(e.key,e.data,Da.none());{const n=e.data,r=ci.empty();let i=new xr(dn.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Ua(e.key,r,new kr(i.toArray()),Da.none())}}function Ma(e,t,n){e instanceof Va?function(e,t,n){const r=e.value.clone(),i=Ha(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ua?function(e,t,n){if(!Ra(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ha(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ba(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Fa(e,t,n,r){return e instanceof Va?function(e,t,n,r){if(!Ra(e.precondition,t))return n;const i=e.value.clone(),a=Wa(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Ua?function(e,t,n,r){if(!Ra(e.precondition,t))return n;const i=Wa(e.fieldTransforms,r,t),a=t.data;return a.setAll(Ba(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Ra(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function qa(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Sa(r.transform,e||null);null!=i&&(null===n&&(n=ci.empty()),n.set(r.field,i))}return n||null}function za(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&sn(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Ea&&t instanceof Ea||e instanceof _a&&t instanceof _a?sn(e.elements,t.elements,Gr):e instanceof Ta&&t instanceof Ta?Gr(e.Ae,t.Ae):e instanceof ka&&t instanceof ka}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Va extends La{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ua extends La{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ba(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Ha(e,t,n){const r=new Map;qt(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,xa(s,o,n[i]))}return r}function Wa(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,wa(e,a,t))}return r}class Ga extends La{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ka extends La{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Qa{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ma(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Fa(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Fa(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=ca();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=Oa(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument(En.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pa())}isEqual(e){return this.batchId===e.batchId&&sn(this.mutations,e.mutations,(e,t)=>za(e,t))&&sn(this.baseMutations,e.baseMutations,(e,t)=>za(e,t))}}class Ya{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){qt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=da;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Ya(e,t,n,r)}}class Ja{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class $a{constructor(e,t){this.count=e,this.unchangedNames=t}}var Xa,Za;function es(e){switch(e){case Vt.OK:return Mt(64938);case Vt.CANCELLED:case Vt.UNKNOWN:case Vt.DEADLINE_EXCEEDED:case Vt.RESOURCE_EXHAUSTED:case Vt.INTERNAL:case Vt.UNAVAILABLE:case Vt.UNAUTHENTICATED:return!1;case Vt.INVALID_ARGUMENT:case Vt.NOT_FOUND:case Vt.ALREADY_EXISTS:case Vt.PERMISSION_DENIED:case Vt.FAILED_PRECONDITION:case Vt.ABORTED:case Vt.OUT_OF_RANGE:case Vt.UNIMPLEMENTED:case Vt.DATA_LOSS:return!0;default:return Mt(15467,{code:e})}}function ts(e){if(void 0===e)return Rt("GRPC error has no .code"),Vt.UNKNOWN;switch(e){case Xa.OK:return Vt.OK;case Xa.CANCELLED:return Vt.CANCELLED;case Xa.UNKNOWN:return Vt.UNKNOWN;case Xa.DEADLINE_EXCEEDED:return Vt.DEADLINE_EXCEEDED;case Xa.RESOURCE_EXHAUSTED:return Vt.RESOURCE_EXHAUSTED;case Xa.INTERNAL:return Vt.INTERNAL;case Xa.UNAVAILABLE:return Vt.UNAVAILABLE;case Xa.UNAUTHENTICATED:return Vt.UNAUTHENTICATED;case Xa.INVALID_ARGUMENT:return Vt.INVALID_ARGUMENT;case Xa.NOT_FOUND:return Vt.NOT_FOUND;case Xa.ALREADY_EXISTS:return Vt.ALREADY_EXISTS;case Xa.PERMISSION_DENIED:return Vt.PERMISSION_DENIED;case Xa.FAILED_PRECONDITION:return Vt.FAILED_PRECONDITION;case Xa.ABORTED:return Vt.ABORTED;case Xa.OUT_OF_RANGE:return Vt.OUT_OF_RANGE;case Xa.UNIMPLEMENTED:return Vt.UNIMPLEMENTED;case Xa.DATA_LOSS:return Vt.DATA_LOSS;default:return Mt(39323,{code:e})}}(Za=Xa||(Xa={}))[Za.OK=0]="OK",Za[Za.CANCELLED=1]="CANCELLED",Za[Za.UNKNOWN=2]="UNKNOWN",Za[Za.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Za[Za.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Za[Za.NOT_FOUND=5]="NOT_FOUND",Za[Za.ALREADY_EXISTS=6]="ALREADY_EXISTS",Za[Za.PERMISSION_DENIED=7]="PERMISSION_DENIED",Za[Za.UNAUTHENTICATED=16]="UNAUTHENTICATED",Za[Za.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Za[Za.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Za[Za.ABORTED=10]="ABORTED",Za[Za.OUT_OF_RANGE=11]="OUT_OF_RANGE",Za[Za.UNIMPLEMENTED=12]="UNIMPLEMENTED",Za[Za.INTERNAL=13]="INTERNAL",Za[Za.UNAVAILABLE=14]="UNAVAILABLE",Za[Za.DATA_LOSS=15]="DATA_LOSS";let ns=null;function rs(){return new TextEncoder}const is=new mt([4294967295,4294967295],0);function as(e){const t=rs().encode(e),n=new gt;return n.update(t),new Uint8Array(n.digest())}function ss(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new mt([n,r],0),new mt([i,a],0)]}class os{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new ls("Invalid padding: ".concat(t));if(n<0)throw new ls("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new ls("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new ls("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=mt.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(mt.fromNumber(n)));return 1===r.compare(is)&&(r=new mt([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=as(e),[n,r]=ss(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new os(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=as(e),[n,r]=ss(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.be(e)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class ls extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class cs{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,us.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new cs(En.min(),r,new yr(en),ia(),pa())}}class us{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new us(n,t,pa(),pa(),pa())}}class ds{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}}class hs{constructor(e,t){this.targetId=e,this.Ce=t}}class ps{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Nr.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class fs{constructor(){this.ve=0,this.Fe=vs(),this.Me=Nr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=pa(),t=pa(),n=pa();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Mt(38017,{changeType:i})}}),new us(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=vs()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ms{constructor(e){this.Ge=e,this.ze=new Map,this.je=ia(),this.He=gs(),this.Je=gs(),this.Ze=new yr(en)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:Mt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(Fi(a))if(0===n){const e=new hn(a.path);this.et(t,e,di.newNoDocument(e,En.min()))}else qt(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null===(i=ns)||void 0===i||i.lt(function(e,t,n,r,i){var a,s,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=Ir(n).toUint8Array()}catch(e){if(e instanceof Er)return Lt("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new os(a,r,i)}catch(e){return Lt(e instanceof ls?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&Fi(i.target)){const t=new hn(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,di.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}});let n=pa();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new cs(e,t,this.Ze,this.je,n);return this.je=ia(),this.He=gs(),this.Je=gs(),this.Ze=new yr(en),r}Ye(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new fs,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new xr(en),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new xr(en),this.He=this.He.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||Dt("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fs),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function gs(){return new yr(hn.comparator)}function vs(){return new yr(hn.comparator)}const ys={asc:"ASCENDING",desc:"DESCENDING"},bs={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ws={and:"AND",or:"OR"};class xs{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ss(e,t){return e.useProto3Json||qn(t)?t:{value:t}}function ks(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Es(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Ns(e,t){return ks(e,t.toTimestamp())}function _s(e){return qt(!!e,49232),En.fromTimestamp(function(e){const t=Cr(e);return new kn(t.seconds,t.nanos)}(e))}function Cs(e,t){return Ts(e,t).canonicalString()}function Ts(e,t){const n=function(e){return new cn(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Is(e){const t=cn.fromString(e);return qt(Ys(t),10190,{key:t.toString()}),t}function Ps(e,t){return Cs(e.databaseId,t.path)}function As(e,t){const n=Is(t);if(n.get(1)!==e.databaseId.projectId)throw new Ut(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ut(Vt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new hn(Ls(n))}function js(e,t){return Cs(e.databaseId,t)}function Ds(e){const t=Is(e);return 4===t.length?cn.emptyPath():Ls(t)}function Rs(e){return new cn(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Ls(e){return qt(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function Os(e,t,n){return{name:Ps(e,t),fields:n.value.mapValue.fields}}function Ms(e,t){let n;if(t instanceof Va)n={update:Os(e,t.key,t.value)};else if(t instanceof Ga)n={delete:Ps(e,t.key)};else if(t instanceof Ua)n={update:Os(e,t.key,t.data),updateMask:Qs(t.fieldMask)};else{if(!(t instanceof Ka))return Mt(16599,{dt:t.type});n={verify:Ps(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ka)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ea)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _a)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ta)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw Mt(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Ns(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Mt(27497)}(e,t.precondition)),n}function Fs(e,t){return{documents:[js(e,t.path)]}}function qs(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=js(e,i);const a=function(e){if(0!==e.length)return Ks(bi.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Ws(e.field),direction:Us(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Ss(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function zs(e){let t=Ds(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){qt(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=Vs(e);return t instanceof bi&&xi(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new mi(Gs(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,qn(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new hi(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new hi(n,t)}(n.endAt)),zi(t,i,s,a,o,"F",l,c)}function Vs(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gs(e.unaryFilter.field);return yi.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gs(e.unaryFilter.field);return yi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gs(e.unaryFilter.field);return yi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gs(e.unaryFilter.field);return yi.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}}(e):void 0!==e.fieldFilter?function(e){return yi.create(Gs(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return bi.create(e.compositeFilter.filters.map(e=>Vs(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}}(e.compositeFilter.op))}(e):Mt(30097,{filter:e})}function Us(e){return ys[e]}function Bs(e){return bs[e]}function Hs(e){return ws[e]}function Ws(e){return{fieldPath:e.canonicalString()}}function Gs(e){return dn.fromServerFormat(e.fieldPath)}function Ks(e){return e instanceof yi?function(e){if("=="===e.op){if(ii(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NAN"}};if(ri(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ii(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NOT_NAN"}};if(ri(e.value))return{unaryFilter:{field:Ws(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ws(e.field),op:Bs(e.op),value:e.value}}}(e):e instanceof bi?function(e){const t=e.getFilters().map(e=>Ks(e));return 1===t.length?t[0]:{compositeFilter:{op:Hs(e.op),filters:t}}}(e):Mt(54877,{filter:e})}function Qs(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ys(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Js(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class $s{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:En.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:En.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Nr.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new $s(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $s(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Xs{constructor(e){this.yt=e}}function Zs(e){const t=zs({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Qi(t,t.limit,"L"):t}class eo{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(Tr(e.integerValue));else if("doubleValue"in e){const n=Tr(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),zn(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Cr(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Ir(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?li(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):si(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):Mt(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=Hr,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(Tr(a)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),hn.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}eo.Wt=new eo;class to{constructor(){this.Sn=new no}addToCollectionParentIndex(e,t){return this.Sn.add(t),Rn.resolve()}getCollectionParents(e,t){return Rn.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return Rn.resolve()}deleteFieldIndex(e,t){return Rn.resolve()}deleteAllFieldIndexes(e){return Rn.resolve()}createTargetIndexes(e,t){return Rn.resolve()}getDocumentsMatchingTarget(e,t){return Rn.resolve(null)}getIndexType(e,t){return Rn.resolve(0)}getFieldIndexes(e,t){return Rn.resolve([])}getNextCollectionGroupToUpdate(e){return Rn.resolve(null)}getMinOffset(e,t){return Rn.resolve(In.min())}getMinOffsetFromCollectionGroup(e,t){return Rn.resolve(In.min())}updateCollectionGroup(e,t,n){return Rn.resolve()}updateIndexEntries(e,t){return Rn.resolve()}}class no{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new xr(cn.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new xr(cn.comparator)).toArray()}}new Uint8Array(0);const ro={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},io=41943040;class ao{static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(io,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class so{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new so(0)}static ar(){return new so(-1)}}const oo="LruGarbageCollector",lo=1048576;function co(e,t){let[n,r]=e,[i,a]=t;const s=en(n,i);return 0===s?en(r,a):s}class uo{constructor(e){this.Pr=e,this.buffer=new xr(co),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();co(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class ho{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){Dt(oo,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){On(e)?Dt(oo,"Ignoring IndexedDB error during garbage collection: ",e):await Dn(e)}await this.Ar(3e5)})}}class po{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return Rn.resolve(Mn.ce);const n=new uo(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),Rn.resolve(ro)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),ro):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),jt()<=G.DEBUG&&Dt("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),Rn.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function fo(e,t){return new po(e,t)}class mo{constructor(){this.changes=new na(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,di.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Rn.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class go{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class vo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Fa(n.mutation,e,kr.empty(),kn.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,pa()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pa();const r=la();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=sa();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=la();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,pa()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=ia();const a=ua(),s=ua();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Ua)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),Fa(s.mutation,t,s.mutation.getFieldMask(),kn.now())):a.set(t.key,kr.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new go(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=ua();let r=new yr((e,t)=>e-t),i=pa();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||kr.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||pa()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=ca();l.forEach(e=>{if(!i.has(e)){const r=Oa(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return Rn.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return hn.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bi(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Rn.resolve(la());let s=Nn,o=i;return a.next(t=>Rn.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Rn.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,pa())).next(e=>({batchId:s,changes:oa(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new hn(t)).next(e=>{let t=sa();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=sa();return this.indexManager.getCollectionParents(e,i).next(s=>Rn.forEach(s,s=>{const o=function(e,t){return new qi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,di.newInvalidDocument(r)))});let n=sa();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&Fa(a.mutation,r,kr.empty(),kn.now()),Xi(t,r)&&(n=n.insert(e,r))}),n})}}class yo{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return Rn.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:_s(e.createTime)}}(t)),Rn.resolve()}getNamedQuery(e,t){return Rn.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:Zs(e.bundledQuery),readTime:_s(e.readTime)}}(t)),Rn.resolve()}}class bo{constructor(){this.overlays=new yr(hn.comparator),this.Lr=new Map}getOverlay(e,t){return Rn.resolve(this.overlays.get(t))}getOverlays(e,t){const n=la();return Rn.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.bt(e,t,r)}),Rn.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(n)),Rn.resolve()}getOverlaysForCollection(e,t,n){const r=la(),i=t.length+1,a=new hn(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Rn.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new yr((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=la(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=la(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return Rn.resolve(s)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Ja(t,n));let i=this.Lr.get(t);void 0===i&&(i=pa(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}}class wo{constructor(){this.sessionToken=Nr.EMPTY_BYTE_STRING}getSessionToken(e){return Rn.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Rn.resolve()}}class xo{constructor(){this.kr=new xr(So.Kr),this.qr=new xr(So.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const n=new So(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new So(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){const t=new hn(new cn([])),n=new So(t,e),r=new So(t,e+1),i=[];return this.qr.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new hn(new cn([])),n=new So(t,e),r=new So(t,e+1);let i=pa();return this.qr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new So(e,0),n=this.kr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class So{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return hn.comparator(e.key,t.key)||en(e.Hr,t.Hr)}static Ur(e,t){return en(e.Hr,t.Hr)||hn.comparator(e.key,t.key)}}class ko{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new xr(So.Kr)}checkEmpty(e){return Rn.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Qa(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Jr=this.Jr.add(new So(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return Rn.resolve(a)}lookupMutationBatch(e,t){return Rn.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return Rn.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Rn.resolve(0===this.mutationQueue.length?Fn:this.Yn-1)}getAllMutationBatches(e){return Rn.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new So(t,0),r=new So(t,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),Rn.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new xr(en);return t.forEach(e=>{const t=new So(e,0),r=new So(e,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),Rn.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;hn.isDocumentKey(i)||(i=i.child(""));const a=new So(new hn(i),0);let s=new xr(en);return this.Jr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Hr)),!0)},a),Rn.resolve(this.Yr(s))}Yr(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){qt(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return Rn.forEach(t.mutations,r=>{const i=new So(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,t){const n=new So(t,0),r=this.Jr.firstAfterOrEqual(n);return Rn.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Rn.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Eo{constructor(e){this.ti=e,this.docs=new yr(hn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Rn.resolve(n?n.document.mutableCopy():di.newInvalidDocument(t))}getEntries(e,t){let n=ia();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():di.newInvalidDocument(e))}),Rn.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ia();const a=t.path,s=new hn(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Pn(Tn(s),n)<=0||(r.has(s.key)||Xi(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Rn.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Mt(9500)}ni(e,t){return Rn.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new No(this)}getSize(e){return Rn.resolve(this.size)}}class No extends mo{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)}),Rn.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class _o{constructor(e){this.persistence=e,this.ri=new na(e=>Oi(e),Mi),this.lastRemoteSnapshotVersion=En.min(),this.highestTargetId=0,this.ii=0,this.si=new xo,this.targetCount=0,this.oi=so._r()}forEachTarget(e,t){return this.ri.forEach((e,n)=>t(n)),Rn.resolve()}getLastRemoteSnapshotVersion(e){return Rn.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Rn.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),Rn.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),Rn.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new so(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,Rn.resolve()}updateTargetData(e,t){return this.lr(t),Rn.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,Rn.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ri.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),Rn.waitFor(i).next(()=>r)}getTargetCount(e){return Rn.resolve(this.targetCount)}getTargetData(e,t){const n=this.ri.get(t)||null;return Rn.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),Rn.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),Rn.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),Rn.resolve()}getMatchingKeysForTargetId(e,t){const n=this.si.jr(t);return Rn.resolve(n)}containsKey(e,t){return Rn.resolve(this.si.containsKey(t))}}class Co{constructor(e,t){this._i={},this.overlays={},this.ai=new Mn(0),this.ui=!1,this.ui=!0,this.ci=new wo,this.referenceDelegate=e(this),this.li=new _o(this),this.indexManager=new to,this.remoteDocumentCache=function(e){return new Eo(e)}(e=>this.referenceDelegate.hi(e)),this.serializer=new Xs(t),this.Pi=new yo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bo,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new ko(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){Dt("MemoryPersistence","Starting transaction:",e);const r=new To(this.ai.next());return this.referenceDelegate.Ti(),n(r).next(e=>this.referenceDelegate.Ii(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return Rn.or(Object.values(this._i).map(n=>()=>n.containsKey(e,t)))}}class To extends jn{constructor(e){super(),this.currentSequenceNumber=e}}class Io{constructor(e){this.persistence=e,this.Ri=new xo,this.Ai=null}static Vi(e){return new Io(e)}get di(){if(this.Ai)return this.Ai;throw Mt(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),Rn.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),Rn.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),Rn.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Rn.forEach(this.di,n=>{const r=hn.fromPath(n);return this.mi(e,r).next(e=>{e||t.removeEntry(r,En.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return Rn.or([()=>Rn.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Po{constructor(e,t){this.persistence=e,this.fi=new na(e=>Bn(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=fo(this,t)}static Vi(e,t){return new Po(e,t)}Ti(){}Ii(e){return Rn.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return Rn.forEach(this.fi,(n,r)=>this.wr(e,n,r).next(e=>e?Rn.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,r=>this.wr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,En.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),Rn.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Rn.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),Rn.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),Rn.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zr(e.data.value)),t}wr(e,t,n){return Rn.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.fi.get(t);return Rn.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ao{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(e,t){let n=pa(),r=pa();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ao(e,t.fromCache,n,r)}}class jo{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Do{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=T()?8:Ln(_())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new jo;return this.ys(e,t,n).next(r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)})}).next(()=>i.result)}ws(e,t,n,r){return n.documentReadCount<this.Vs?(jt()<=G.DEBUG&&Dt("QueryEngine","SDK will not create cache indexes for query:",$i(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Rn.resolve()):(jt()<=G.DEBUG&&Dt("QueryEngine","Query:",$i(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(jt()<=G.DEBUG&&Dt("QueryEngine","The SDK decides to create cache indexes for query:",$i(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(t))):Rn.resolve())}gs(e,t){if(Ui(t))return Rn.resolve(null);let n=Wi(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Qi(t,null,"F"),n=Wi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=pa(...r);return this.fs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.bs(t,r);return this.Ss(t,a,i,n.readTime)?this.gs(e,Qi(t,null,"F")):this.Ds(e,a,t,n)}))})))}ps(e,t,n,r){return Ui(t)||r.isEqual(En.min())?Rn.resolve(null):this.fs.getDocuments(e,n).next(i=>{const a=this.bs(t,i);return this.Ss(t,a,n,r)?Rn.resolve(null):(jt()<=G.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$i(t)),this.Ds(e,a,t,Cn(r,Nn)).next(e=>e))})}bs(e,t){let n=new xr(ea(e));return t.forEach((t,r)=>{Xi(e,r)&&(n=n.add(r))}),n}Ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return jt()<=G.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",$i(t)),this.fs.getDocumentsMatchingQuery(e,t,In.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const Ro="LocalStore";class Lo{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new yr(en),this.Fs=new na(e=>Oi(e),Mi),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vo(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}function Oo(e,t,n,r){return new Lo(e,t,n,r)}async function Mo(e,t){const n=zt(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=pa();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:a}))})})}function Fo(e){const t=zt(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.li.getLastRemoteSnapshotVersion(e))}function qo(e,t,n){let r=pa(),i=pa();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=ia();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(En.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Dt(Ro,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{Bs:r,Ls:i}})}function zo(e,t){const n=zt(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=Fn),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Vo(e,t){const n=zt(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.li.getTargetData(e,t).next(i=>i?(r=i,Rn.resolve(r)):n.li.allocateTargetId(e).next(i=>(r=new $s(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.li.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.vs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e})}async function Uo(e,t,n){const r=zt(e),i=r.vs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!On(e))throw e;Dt(Ro,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function Bo(e,t,n){const r=zt(e);let i=En.min(),a=pa();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=zt(e),i=r.Fs.get(n);return void 0!==i?Rn.resolve(r.vs.get(i)):r.li.getTargetData(t,n)}(r,e,Wi(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:En.min(),n?a:pa())).next(e=>(Ho(r,Zi(t),e),{documents:e,ks:a})))}function Ho(e,t,n){let r=e.Ms.get(t)||En.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ms.set(t,r)}class Wo{constructor(){this.activeTargetIds=ma()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Go{constructor(){this.vo=new Wo,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Wo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ko{Mo(e){}shutdown(){}}const Qo="ConnectivityMonitor";class Yo{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){Dt(Qo,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){Dt(Qo,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Jo=null;function $o(){return null===Jo?Jo=268435456+Math.round(2147483648*Math.random()):Jo++,"0x"+Jo.toString(16)}const Xo="RestConnection",Zo={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class el{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.$o=this.databaseId.database===Fr?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,i){const a=$o(),s=this.Qo(e,t.toUriEncodedString());Dt(Xo,"Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(o,r,i);const{host:l}=new URL(s),c=x(l);return this.zo(e,s,o,n,c).then(t=>(Dt(Xo,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw Lt(Xo,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}Go(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pt,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Qo(e,t){const n=Zo[e];let r="".concat(this.qo,"/v1/").concat(t,":").concat(n);return this.databaseInfo.apiKey&&(r="".concat(r,"?key=").concat(encodeURIComponent(this.databaseInfo.apiKey))),r}terminate(){}}class tl{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const nl="WebChannelConnection",rl=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};class il extends el{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!il.c_){const e=Nt();rl(e,Et.STAT_EVENT,e=>{e.stat===kt.PROXY?Dt(nl,"STAT_EVENT: detected buffering proxy"):e.stat===kt.NOPROXY&&Dt(nl,"STAT_EVENT: detected no buffering proxy")}),il.c_=!0}}zo(e,t,n,r,i){const a=$o();return new Promise((i,s)=>{const o=new bt;o.setWithCredentials(!0),o.listenOnce(xt.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case St.NO_ERROR:const n=o.getResponseJson();Dt(nl,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case St.TIMEOUT:Dt(nl,"RPC '".concat(e,"' ").concat(a," timed out")),s(new Ut(Vt.DEADLINE_EXCEEDED,"Request time out"));break;case St.HTTP_ERROR:const r=o.getStatus();if(Dt(nl,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vt).indexOf(t)>=0?t:Vt.UNKNOWN}(n.status);s(new Ut(e,n.message))}else s(new Ut(Vt.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Ut(Vt.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{Dt(nl,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);Dt(nl,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=$o(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;void 0!==o&&(s.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const l=i.join("");Dt(nl,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);const c=a.createWebChannel(l,s);this.I_(c);let u=!1,d=!1;const h=new tl({Ho:t=>{d?Dt(nl,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(Dt(nl,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),u=!0),Dt(nl,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Jo:()=>c.close()});return rl(c,wt.EventType.OPEN,()=>{d||(Dt(nl,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),h.i_())}),rl(c,wt.EventType.CLOSE,()=>{d||(d=!0,Dt(nl,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.o_(),this.E_(c))}),rl(c,wt.EventType.ERROR,t=>{d||(d=!0,Lt(nl,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),h.o_(new Ut(Vt.UNAVAILABLE,"The operation could not be completed")))}),rl(c,wt.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];qt(!!i,16349);const a=i,s=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){Dt(nl,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=Xa[e];if(void 0!==t)return ts(t)}(t),i=s.message;"NOT_FOUND"===t&&i.includes("database")&&i.includes("does not exist")&&i.includes(this.databaseId.database)&&Lt("Database '".concat(this.databaseId.database,"' not found. Please check your project configuration.")),void 0===n&&(n=Vt.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,h.o_(new Ut(n,i)),c.close()}else Dt(nl,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.__(i)}}),il.u_(),setTimeout(()=>{h.s_()},0),h}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _t()}}function al(e){return new il(e)}function sl(){return"undefined"!=typeof document?document:null}function ol(e){return new xs(e,!0)}il.c_=!1;class ll{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&Dt("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.d_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const cl="PersistentStream";class ul{constructor(e,t,n,r,i,a,s,o){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ll(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===Vt.RESOURCE_EXHAUSTED?(Rt(t.toString()),Rt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Vt.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new Ut(Vt.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Dt(cl,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(Dt(cl,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dl extends ul{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Mt(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(qt(void 0===t||"string"==typeof t,58123),Nr.fromBase64String(t||"")):(qt(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Nr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?Vt.UNKNOWN:ts(e.code);return new Ut(t,e.message||"")}(s);n=new ps(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=As(e,r.document.name),a=_s(r.document.updateTime),s=r.document.createTime?_s(r.document.createTime):En.min(),o=new ci({mapValue:{fields:r.document.fields}}),l=di.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ds(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=As(e,r.document),a=r.readTime?_s(r.readTime):En.min(),s=di.newNoDocument(i,a),o=r.removedTargetIds||[];n=new ds([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=As(e,r.document),a=r.removedTargetIds||[];n=new ds([],a,i,null)}else{if(!("filter"in t))return Mt(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new $a(r,i),s=e.targetId;n=new hs(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return En.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?En.min():t.readTime?_s(t.readTime):En.min()}(e);return this.listener.J_(t,n)}Z_(e){const t={};t.database=Rs(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Fi(r)?{documents:Fs(e,r)}:{query:qs(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Es(e,t.resumeToken);const r=Ss(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(En.min())>0){n.readTime=ks(e,t.snapshotVersion.toTimestamp());const r=Ss(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){const t={};t.database=Rs(this.serializer),t.removeTarget=e,this.K_(t)}}class hl extends ul{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return qt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,qt(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){qt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(qt(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?_s(e.updateTime):_s(t);return n.isEqual(En.min())&&(n=_s(t)),new ja(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=_s(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=Rs(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Ms(this.serializer,e))};this.K_(t)}}class pl{}class fl extends pl{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new Ut(Vt.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Wo(e,Ts(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ut(Vt.UNKNOWN,e.toString())})}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.jo(e,Ts(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Vt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ut(Vt.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function ml(e,t,n,r){return new fl(e,t,n,r)}class gl{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(Rt(t),this.aa=!1):Dt("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const vl="RemoteStore";class yl{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{n.enqueueAndForget(async()=>{Cl(this)&&(Dt(vl,"Restarting streams for network reachability change."),await async function(e){const t=zt(e);t.Ea.add(4),await wl(t),t.Va.set("Unknown"),t.Ea.delete(4),await bl(t)}(this))})}),this.Va=new gl(n,r)}}async function bl(e){if(Cl(e))for(const t of e.Ra)await t(!0)}async function wl(e){for(const t of e.Ra)await t(!1)}function xl(e,t){const n=zt(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),_l(n)?Nl(n):Gl(n).O_()&&kl(n,t))}function Sl(e,t){const n=zt(e),r=Gl(n);n.Ia.delete(t),r.O_()&&El(n,t),0===n.Ia.size&&(r.O_()?r.L_():Cl(n)&&n.Va.set("Unknown"))}function kl(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(En.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Gl(e).Z_(t)}function El(e,t){e.da.$e(t),Gl(e).X_(t)}function Nl(e){e.da=new ms({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),Gl(e).start(),e.Va.ua()}function _l(e){return Cl(e)&&!Gl(e).x_()&&e.Ia.size>0}function Cl(e){return 0===zt(e).Ea.size}function Tl(e){e.da=void 0}async function Il(e){e.Va.set("Online")}async function Pl(e){e.Ia.forEach((t,n)=>{kl(e,t)})}async function Al(e,t){Tl(e),_l(e)?(e.Va.ha(t),Nl(e)):e.Va.set("Unknown")}async function jl(e,t,n){if(e.Va.set("Online"),t instanceof ps&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){Dt(vl,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Dl(e,n)}else if(t instanceof ds?e.da.Xe(t):t instanceof hs?e.da.st(t):e.da.tt(t),!n.isEqual(En.min()))try{const t=await Fo(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.da.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Nr.EMPTY_BYTE_STRING,r.snapshotVersion)),El(e,t);const i=new $s(r.target,t,n,r.sequenceNumber);kl(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Dt(vl,"Failed to raise snapshot:",t),await Dl(e,t)}}async function Dl(e,t,n){if(!On(t))throw t;e.Ea.add(1),await wl(e),e.Va.set("Offline"),n||(n=()=>Fo(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Dt(vl,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await bl(e)})}function Rl(e,t){return t().catch(n=>Dl(e,n,t))}async function Ll(e){const t=zt(e),n=Kl(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Fn;for(;Ol(t);)try{const e=await zo(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,Ml(t,e)}catch(e){await Dl(t,e)}Fl(t)&&ql(t)}function Ol(e){return Cl(e)&&e.Ta.length<10}function Ml(e,t){e.Ta.push(t);const n=Kl(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function Fl(e){return Cl(e)&&!Kl(e).x_()&&e.Ta.length>0}function ql(e){Kl(e).start()}async function zl(e){Kl(e).ra()}async function Vl(e){const t=Kl(e);for(const n of e.Ta)t.ea(n.mutations)}async function Ul(e,t,n){const r=e.Ta.shift(),i=Ya.from(r,t,n);await Rl(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Ll(e)}async function Bl(e,t){t&&Kl(e).Y_&&await async function(e,t){if(function(e){return es(e)&&e!==Vt.ABORTED}(t.code)){const n=e.Ta.shift();Kl(e).B_(),await Rl(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await Ll(e)}}(e,t),Fl(e)&&ql(e)}async function Hl(e,t){const n=zt(e);n.asyncQueue.verifyOperationInProgress(),Dt(vl,"RemoteStore received new credentials");const r=Cl(n);n.Ea.add(3),await wl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await bl(n)}async function Wl(e,t){const n=zt(e);t?(n.Ea.delete(2),await bl(n)):t||(n.Ea.add(2),await wl(n),n.Va.set("Unknown"))}function Gl(e){return e.ma||(e.ma=function(e,t,n){const r=zt(e);return r.sa(),new dl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Il.bind(null,e),Yo:Pl.bind(null,e),t_:Al.bind(null,e),J_:jl.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),_l(e)?Nl(e):e.Va.set("Unknown")):(await e.ma.stop(),Tl(e))})),e.ma}function Kl(e){return e.fa||(e.fa=function(e,t,n){const r=zt(e);return r.sa(),new hl(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:zl.bind(null,e),t_:Bl.bind(null,e),ta:Vl.bind(null,e),na:Ul.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await Ll(e)):(await e.fa.stop(),e.Ta.length>0&&(Dt(vl,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class Ql{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Bt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new Ql(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ut(Vt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Yl(e,t){if(Rt("AsyncQueue","".concat(t,": ").concat(e)),On(e))return new Ut(Vt.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Jl{static emptySet(e){return new Jl(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||hn.comparator(t.key,n.key):(e,t)=>hn.comparator(e.key,t.key),this.keyedMap=sa(),this.sortedSet=new yr(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jl))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Jl;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class $l{constructor(){this.ga=new yr(hn.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Mt(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class Xl{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new Xl(e,t,Jl.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Zl{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class ec{constructor(){this.queries=tc(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=zt(e),r=n.queries;n.queries=tc(),r.forEach((e,n)=>{for(const r of n.ba)r.onError(t)})}(this,new Ut(Vt.ABORTED,"Firestore shutting down"))}}function tc(){return new na(e=>Ji(e),Yi)}async function nc(e,t){const n=zt(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new Zl,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Yl(e,"Initialization of query '".concat($i(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&sc(n)}async function rc(e,t){const n=zt(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ba.indexOf(t);e>=0&&(a.ba.splice(e,1),0===a.ba.length?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ic(e,t){const n=zt(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ba)e.Fa(i)&&(r=!0);t.wa=i}}r&&sc(n)}function ac(e,t,n){const r=zt(e),i=r.queries.get(t);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(t)}function sc(e){e.Ca.forEach(e=>{e.next()})}var oc,lc;(lc=oc||(oc={})).Ma="default",lc.Cache="cache";class cc{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Xl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=Xl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==oc.Cache}}class uc{constructor(e){this.key=e}}class dc{constructor(e){this.key=e}}class hc{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=pa(),this.mutatedKeys=pa(),this.eu=ea(e),this.tu=new Jl(this.eu)}get nu(){return this.Za}ru(e,t){const n=t?t.iu:new $l,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=Xi(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),p=!0):this.su(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(s=!0)),p&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Ss:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Xa;return this.Xa=o,0!==a.length||l?{snapshot:new Xl(this.query,e.tu,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $l,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=pa(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new dc(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new uc(n))}),t}cu(e){this.Za=e.ks,this.Ya=pa();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Xl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}const pc="SyncEngine";class fc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class mc{constructor(e){this.key=e,this.hu=!1}}class gc{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new na(e=>Ji(e),Yi),this.Iu=new Map,this.Eu=new Set,this.Ru=new yr(hn.comparator),this.Au=new Map,this.Vu=new xo,this.du={},this.mu=new Map,this.fu=so.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function vc(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Fc(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await bc(r,t,n,!0),i}async function yc(e,t){const n=Fc(e);await bc(n,t,!0,!1)}async function bc(e,t,n,r){const i=await Vo(e.localStore,Wi(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await wc(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&xl(e.remoteStore,i),o}async function wc(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await Bo(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return jc(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const a=await Bo(e.localStore,t,!0),s=new hc(t,a.ks),o=s.ru(a.documents),l=us.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);jc(e,n,c.au);const u=new fc(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function xc(e,t,n){const r=zt(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!Yi(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uo(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sl(r.remoteStore,i.targetId),Pc(r,i.targetId)}).catch(Dn)):(Pc(r,i.targetId),await Uo(r.localStore,i.targetId,!0))}async function Sc(e,t){const n=zt(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sl(n.remoteStore,r.targetId))}async function kc(e,t){const n=zt(e);try{const e=await function(e,t){const n=zt(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.li.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.li.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Nr.EMPTY_BYTE_STRING,En.min()).withLastLimboFreeSnapshotVersion(En.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.li.updateTargetData(e,c))});let o=ia(),l=pa();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(qo(e,a,t.documentUpdates).next(e=>{o=e.Bs,l=e.Ls})),!r.isEqual(En.min())){const t=n.li.getLastRemoteSnapshotVersion(e).next(t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return Rn.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.vs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(qt(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?qt(r.hu,14607):e.removedDocuments.size>0&&(qt(r.hu,42227),r.hu=!1))}),await Lc(n,e,t)}catch(e){await Dn(e)}}function Ec(e,t,n){const r=zt(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=zt(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.ba)i.va(t)&&(r=!0)}),r&&sc(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Nc(e,t,n){const r=zt(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new yr(hn.comparator);e=e.insert(a,di.newNoDocument(a,En.min()));const n=pa().add(a),i=new cs(En.min(),new Map,new yr(en),e,n);await kc(r,i),r.Ru=r.Ru.remove(a),r.Au.delete(t),Rc(r)}else await Uo(r.localStore,t,!1).then(()=>Pc(r,t,n)).catch(Dn)}async function _c(e,t){const n=zt(e),r=t.batch.batchId;try{const e=await function(e,t){const n=zt(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=Rn.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);qt(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=pa();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Ic(n,r,null),Tc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Lc(n,e)}catch(e){await Dn(e)}}async function Cc(e,t,n){const r=zt(e);try{const e=await function(e,t){const n=zt(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(qt(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Ic(r,t,n),Tc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Lc(r,e)}catch(n){await Dn(n)}}function Tc(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Ic(e,t,n){const r=zt(e);let i=r.du[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function Pc(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||Ac(e,t)})}function Ac(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);null!==n&&(Sl(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),Rc(e))}function jc(e,t,n){for(const r of n)r instanceof uc?(e.Vu.addReference(r.key,t),Dc(e,r)):r instanceof dc?(Dt(pc,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||Ac(e,r.key)):Mt(19791,{wu:r})}function Dc(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(Dt(pc,"New document in limbo: "+n),e.Eu.add(r),Rc(e))}function Rc(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new hn(cn.fromString(t)),r=e.fu.next();e.Au.set(r,new mc(n)),e.Ru=e.Ru.insert(n,r),xl(e.remoteStore,new $s(Wi(Vi(n.path)),r,"TargetPurposeLimboResolution",Mn.ce))}}async function Lc(e,t,n){const r=zt(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{s.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ao.Es(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(e,t){const n=zt(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>Rn.forEach(t,t=>Rn.forEach(t.Ts,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>Rn.forEach(t.Is,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!On(e))throw e;Dt(Ro,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.vs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(e,i)}}}(r.localStore,a))}async function Oc(e,t){const n=zt(e);if(!n.currentUser.isEqual(t)){Dt(pc,"User change. New user:",t.toKey());const e=await Mo(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new Ut(Vt.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Lc(n,e.Ns)}}function Mc(e,t){const n=zt(e),r=n.Au.get(t);if(r&&r.hu)return pa().add(r.key);{let e=pa();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function Fc(e){const t=zt(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=kc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Nc.bind(null,t),t.Pu.J_=ic.bind(null,t.eventManager),t.Pu.yu=ac.bind(null,t.eventManager),t}function qc(e){const t=zt(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=_c.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cc.bind(null,t),t}class zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ol(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Oo(this.persistence,new Do,e.initialUser,this.serializer)}Cu(e){return new Co(Io.Vi,this.serializer)}Du(e){return new Go}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zc.provider={build:()=>new zc};class Vc extends zc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){qt(this.persistence.referenceDelegate instanceof Po,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new ho(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new Co(e=>Po.Vi(e,t),this.serializer)}}class Uc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Ec(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Oc.bind(null,this.syncEngine),await Wl(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ec}createDatastore(e){const t=ol(e.databaseInfo.databaseId),n=al(e.databaseInfo);return ml(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new yl(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Ec(this.syncEngine,e,0),Yo.v()?new Yo:new Ko)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new gc(e,t,n,r,i,a);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=zt(e);Dt(vl,"RemoteStore shutting down."),t.Ea.add(5),await wl(t),t.Aa.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Uc.provider={build:()=>new Uc};class Bc{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const Hc="FirestoreClient";class Wc{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=It.UNAUTHENTICATED,this.clientId=Zt.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{Dt(Hc,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Dt(Hc,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Bt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Yl(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Gc(e,t){e.asyncQueue.verifyOperationInProgress(),Dt(Hc,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Mo(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function Kc(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Qc(e);Dt(Hc,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>Hl(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>Hl(t.remoteStore,n)),e._onlineComponents=t}async function Qc(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Dt(Hc,"Using user provided OfflineComponentProvider");try{await Gc(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Vt.FAILED_PRECONDITION||e.code===Vt.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Lt("Error using user provided cache. Falling back to memory cache: "+n),await Gc(e,new zc)}}else Dt(Hc,"Using default OfflineComponentProvider"),await Gc(e,new Vc(void 0));return e._offlineComponents}async function Yc(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Dt(Hc,"Using user provided OnlineComponentProvider"),await Kc(e,e._uninitializedComponentsProvider._online)):(Dt(Hc,"Using default OnlineComponentProvider"),await Kc(e,new Uc))),e._onlineComponents}function Jc(e){return Yc(e).then(e=>e.syncEngine)}async function $c(e){const t=await Yc(e),n=t.eventManager;return n.onListen=vc.bind(null,t.syncEngine),n.onUnlisten=xc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=yc.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Sc.bind(null,t.syncEngine),n}function Xc(e,t){const n=new Bt;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=qc(e);try{const e=await function(e,t){const n=zt(e),r=kn.now(),i=t.reduce((e,t)=>e.add(t.key),pa());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=ia(),l=pa();return n.xs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=qa(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new Ua(e.key,t,ui(t.value.mapValue),Da.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:oa(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||(r=new yr(en)),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await Lc(r,e.changes),await Ll(r.remoteStore)}catch(e){const t=Yl(e,"Failed to persist write");n.reject(t)}}(await Jc(e),t,n)),n.promise}function Zc(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const eu="ComponentProvider",tu=new Map;function nu(e,t,n,r,i){return new Mr(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Zc(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const ru="firestore.googleapis.com",iu=!0;class au{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ut(Vt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ru,this.ssl=iu}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:iu;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=io;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<lo)throw new Ut(Vt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ut(Vt.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zc(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ut(Vt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Ut(Vt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Ut(Vt.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class su{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new au({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ut(Vt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ut(Vt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new au(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Wt;switch(e.type){case"firstParty":return new Yt(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ut(Vt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=tu.get(e);t&&(Dt(eu,"Removing Datastore"),tu.delete(e),t.terminate())}(this),Promise.resolve()}}function ou(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=yn(e,su);const i=x(t),a=e._getSettings(),s=c(c({},a),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(S("https://".concat(o)),N("Firestore",!0)),a.host!==ru&&a.host!==o&&Lt("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},a),{},{host:o,ssl:i,emulatorOptions:r});if(!D(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=It.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[p(JSON.stringify({alg:"none",type:"JWT"})),p(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new Ut(Vt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new It(i)}e._authCredentials=new Gt(new Ht(t,n))}}class lu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new lu(this.firestore,e,this._query)}}class cu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new uu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new cu(this.firestore,e,this._key)}toJSON(){return{type:cu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(wn(t,cu._jsonSchema))return new cu(e,n||null,new hn(cn.fromString(t.referencePath)))}}cu._jsonSchemaVersion="firestore/documentReference/1.0",cu._jsonSchema={type:bn("string",cu._jsonSchemaVersion),referencePath:bn("string")};class uu extends lu{constructor(e,t,n){super(e,t,Vi(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new cu(this.firestore,null,new hn(e))}withConverter(e){return new uu(this.firestore,e,this._path)}}function du(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),pn("collection","path",t),e instanceof su){const n=cn.fromString(t,...r);return mn(n),new uu(e,null,n)}{if(!(e instanceof cu||e instanceof uu))throw new Ut(Vt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cn.fromString(t,...r));return mn(n),new uu(e.firestore,null,n)}}function hu(e,t){if(e=yn(e,su),pn("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new lu(e,null,function(e){return new qi(cn.emptyPath(),e)}(t))}function pu(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=z(e),1===arguments.length&&(t=Zt.newId()),pn("doc","path",t),e instanceof su){const n=cn.fromString(t,...r);return fn(n),new cu(e,null,new hn(n))}{if(!(e instanceof cu||e instanceof uu))throw new Ut(Vt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(cn.fromString(t,...r));return fn(n),new cu(e.firestore,e instanceof uu?e.converter:null,new hn(n))}}const fu="AsyncQueue";class mu{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ll(this,"async_queue_retry"),this._c=()=>{const e=sl();e&&Dt(fu,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=sl();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=sl();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Bt;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!On(e))throw e;Dt(fu,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,Rt("INTERNAL UNHANDLED ERROR: ",gu(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ql.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&Mt(47125,{Pc:gu(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function gu(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class vu extends su{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new mu,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mu(e),this._firestoreClient=void 0,await e}}}function yu(e){if(e._terminated)throw new Ut(Vt.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||bu(e),e._firestoreClient}function bu(e){var t,n,r,i;const a=e._freezeSettings(),s=nu(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,null===(n=e._app)||void 0===n?void 0:n.options.apiKey,a);e._componentsProvider||null!==(r=a.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(i=a.localCache)&&void 0!==i&&i._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new Wc(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class wu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wu(Nr.fromBase64String(e))}catch(e){throw new Ut(Vt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wu(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:wu._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wn(e,wu._jsonSchema))return wu.fromBase64String(e.bytes)}}wu._jsonSchemaVersion="firestore/bytes/1.0",wu._jsonSchema={type:bn("string",wu._jsonSchemaVersion),bytes:bn("string")};class xu{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Su{constructor(e){this._methodName=e}}class ku{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ut(Vt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ut(Vt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return en(this._lat,e._lat)||en(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ku._jsonSchemaVersion}}static fromJSON(e){if(wn(e,ku._jsonSchema))return new ku(e.latitude,e.longitude)}}ku._jsonSchemaVersion="firestore/geoPoint/1.0",ku._jsonSchema={type:bn("string",ku._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};class Eu{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Eu._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wn(e,Eu._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Eu(e.vectorValues);throw new Ut(Vt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Eu._jsonSchemaVersion="firestore/vectorValue/1.0",Eu._jsonSchema={type:bn("string",Eu._jsonSchemaVersion),vectorValues:bn("object")};const Nu=/^__.*__$/;class _u{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Ua(e,this.data,this.fieldMask,t,this.fieldTransforms):new Va(e,this.data,t,this.fieldTransforms)}}function Cu(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{dataSource:e})}}class Tu{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Tu(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Vu(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Cu(this.dataSource)&&Nu.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Iu{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||ol(e)}createContext(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Tu({dataSource:e,methodName:t,targetDoc:n,path:dn.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pu(e){const t=e._freezeSettings(),n=ol(e._databaseId);return new Iu(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Au(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);Mu("Data must be an object, but it was:",s,r);const o=Lu(r,s);let l,c;if(a.merge)l=new kr(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Fu(t,r,n);if(!s.contains(i))throw new Ut(Vt.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Uu(e,i)||e.push(i)}l=new kr(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new _u(new ci(o),l,c)}class ju extends Su{_toFieldTransform(e){return new Aa(e.path,new ka)}isEqual(e){return e instanceof ju}}function Du(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Ru(n,e.createContext(r?4:3,t))}function Ru(e,t){if(Ou(e=z(e)))return Mu("Unsupported field value:",t,e),Lu(e,t);if(e instanceof Su)return function(e,t){if(!Cu(t.dataSource))throw t.createError("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.createError("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ru(i,t.childContextForArray(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=z(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ya(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=kn.fromDate(e);return{timestampValue:ks(t.serializer,n)}}if(e instanceof kn){const n=new kn(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ks(t.serializer,n)}}if(e instanceof ku)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wu)return{bytesValue:Es(t.serializer,e._byteString)};if(e instanceof cu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Cs(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Eu)return function(e,t){const n=e instanceof Eu?e.toArray():e,r={fields:{[zr]:{stringValue:Br},[Hr]:{arrayValue:{values:n.map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return ga(t.serializer,e)})}}}};return{mapValue:r}}(e,t);if(Js(e))return e._toProto(t.serializer);throw t.createError("Unsupported field value: ".concat(vn(e)))}(e,t)}function Lu(e,t){const n={};return vr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):gr(e,(e,r)=>{const i=Ru(r,t.childContextForField(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Ou(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof kn||e instanceof ku||e instanceof wu||e instanceof cu||e instanceof Su||e instanceof Eu||Js(e))}function Mu(e,t,n){if(!Ou(n)||!gn(n)){const r=vn(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function Fu(e,t,n){if((t=z(t))instanceof xu)return t._internalPath;if("string"==typeof t)return zu(e,t);throw Vu("Field path arguments must be of type string or ",e,!1,void 0,n)}const qu=new RegExp("[~\\*/\\[\\]]");function zu(e,t,n){if(t.search(qu)>=0)throw Vu("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new xu(...t.split("."))._internalPath}catch(r){throw Vu("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vu(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new Ut(Vt.INVALID_ARGUMENT,o+e+l)}function Uu(e,t){return e.some(e=>e.isEqual(t))}class Bu{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ir(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return gr(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[Hr].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>Tr(e.doubleValue));return new Eu(n)}convertGeoPoint(e){return new ku(Tr(e.latitude),Tr(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Lr(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Or(e));default:return null}}convertTimestamp(e){const t=Cr(e);return new kn(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=cn.fromString(e);qt(Ys(n),9688,{name:e});const r=new qr(n.get(1),n.get(3)),i=new hn(n.popFirst(5));return r.isEqual(t)||Rt("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}class Hu extends Bu{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new cu(this.firestore,null,t)}}function Wu(){return new ju("serverTimestamp")}const Gu="@firebase/firestore",Ku="4.11.0";function Qu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Yu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new cu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Ju(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e,t;return null!==(e=null===(t=this._document)||void 0===t?void 0:t.data.clone().value.mapValue.fields)&&void 0!==e?e:void 0}get(e){if(this._document){const t=this._document.data.field(Fu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Ju extends Yu{data(){return super.data()}}function $u(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ut(Vt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xu{}class Zu extends Xu{}function ed(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof Xu&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof rd).length,n=e.filter(e=>e instanceof td).length;if(t>1||t>0&&n>0)throw new Ut(Vt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)e=s._apply(e);return e}class td extends Zu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new td(e,t,n)}_apply(e){const t=this._parse(e);return ld(e._query,t),new lu(e.firestore,e.converter,Ki(e._query,t))}_parse(e){const t=Pu(e.firestore),n=function(e,t,n,r,i,a,s){let o;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){od(s,a);const t=[];for(const n of s)t.push(sd(r,e,n));o={arrayValue:{values:t}}}else o=sd(r,e,s)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||od(s,a),o=Du(n,t,s,"in"===a||"not-in"===a);return yi.create(i,a,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function nd(e,t,n){const r=t,i=Fu("where",e);return td._create(i,r,n)}class rd extends Xu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rd(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:bi.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)ld(n,i),n=Ki(n,i)}(e._query,t),new lu(e.firestore,e.converter,Ki(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class id extends Zu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new id(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new mi(t,n)}(e._query,this._field,this._direction);return new lu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new qi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function ad(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Fu("orderBy",e);return id._create(n,t)}function sd(e,t,n){if("string"==typeof(n=z(n))){if(""===n)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bi(t)&&-1!==n.indexOf("/"))throw new Ut(Vt.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(cn.fromString(n));if(!hn.isDocumentKey(r))throw new Ut(Vt.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return ei(e,new hn(r))}if(n instanceof cu)return ei(e,n._key);throw new Ut(Vt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(vn(n),"."))}function od(e,t){if(!Array.isArray(e)||0===e.length)throw new Ut(Vt.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function ld(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ut(Vt.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Ut(Vt.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function cd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ud{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dd extends Yu{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new hd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Fu("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Ut(Vt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=dd._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}dd._jsonSchemaVersion="firestore/documentSnapshot/1.0",dd._jsonSchema={type:bn("string",dd._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class hd extends dd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class pd{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ud(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new hd(this._firestore,this._userDataWriter,n.key,n,new ud(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ut(Vt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new hd(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ud(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new hd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ud(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:fd(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Ut(Vt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=pd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Zt.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function fd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:e})}}pd._jsonSchemaVersion="firestore/querySnapshot/1.0",pd._jsonSchema={type:bn("string",pd._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};function md(e){e=yn(e,cu);const t=yn(e.firestore,vu);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Bt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Bc({next:o=>{a.Nu(),t.enqueueAndForget(()=>rc(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Ut(Vt.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Ut(Vt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new cc(Vi(n.path),a,{includeMetadataChanges:!0,Ka:!0});return nc(e,s)}(await $c(e),e.asyncQueue,t,n,r)),r.promise}(yu(t),e._key).then(n=>Sd(t,e,n))}function gd(e){e=yn(e,lu);const t=yn(e.firestore,vu),n=yu(t),r=new Hu(t);return $u(e._query),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Bt;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new Bc({next:n=>{a.Nu(),t.enqueueAndForget(()=>rc(e,s)),n.fromCache&&"server"===r.source?i.reject(new Ut(Vt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new cc(n,a,{includeMetadataChanges:!0,Ka:!0});return nc(e,s)}(await $c(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new pd(t,r,e,n))}function vd(e,t,n){e=yn(e,cu);const r=yn(e.firestore,vu),i=cd(e.converter,t,n);return xd(r,[Au(Pu(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Da.none())])}function yd(e){return xd(yn(e.firestore,vu),[new Ga(e._key,Da.none())])}function bd(e,t){const n=yn(e.firestore,vu),r=pu(e),i=cd(e.converter,t);return xd(n,[Au(Pu(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Da.exists(!1))]).then(()=>r)}function wd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=z(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||Qu(n[a])||(i=n[a++]);const s={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Qu(n[a])){var o,l,c;const e=n[a];n[a]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof cu)d=yn(e.firestore,vu),h=Vi(e._key.path),u={next:t=>{n[a]&&n[a](Sd(d,e,t))},error:n[a+1],complete:n[a+2]};else{const t=yn(e,lu);d=yn(t.firestore,vu),h=t._query;const r=new Hu(d);u={next:e=>{n[a]&&n[a](new pd(d,r,t,e))},error:n[a+1],complete:n[a+2]},$u(e._query)}return function(e,t,n,r){const i=new Bc(r),a=new cc(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>nc(await $c(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>rc(await $c(e),a))}}(yu(d),h,s,u)}function xd(e,t){return Xc(yu(e),t)}function Sd(e,t,n){const r=n.docs.get(t._key),i=new Hu(e);return new dd(e,i,t._key,r,new ud(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Pt=tt,Je(new V("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new vu(new Kt(e.getProvider("auth-internal")),new $t(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ut(Vt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qr(e.options.projectId,t)}(a,r),a);return i=c({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),it(Gu,Ku,e),it(Gu,Ku,"esm2020")}();const kd=nt({apiKey:"AIzaSyDCgl4dbGTJUH-0bsGsisO9KbWYoIN3KU4",authDomain:"herosiege-ef56f.firebaseapp.com",projectId:"herosiege-ef56f",storageBucket:"herosiege-ef56f.firebasestorage.app",messagingSenderId:"147989943940",appId:"1:147989943940:web:3b107b85598b7033fd94d1"}),Ed=function(e,t){const n="object"==typeof e?e:rt(),r="string"==typeof e?e:t||Fr,i=$e(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=v(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&ou(i,...e)}return i}(kd),Nd=kd;function _d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Cd=["providerId"],Td=["uid","auth","stsTokenManager"],Id=["providerId","signInMethod"];function Pd(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Ad=Pd,jd=new A("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Dd=new $("@firebase/auth");function Rd(e){if(Dd.logLevel<=G.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dd.error("Auth (".concat(tt,"): ").concat(e),...n)}}function Ld(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw qd(e,...n)}function Od(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return qd(e,...n)}function Md(e,t,n){const r=c(c({},Ad()),{},{[t]:n});return new A("auth","Firebase",r).create(t,{appName:e.name})}function Fd(e){return Md(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function qd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return jd.create(e,...n)}function zd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw qd(t,...r)}}function Vd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Rd(t),new Error(t)}function Ud(e,t){e||Vd(t)}function Bd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Hd(){return"http:"===Wd()||"https:"===Wd()}function Wd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Gd(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Hd()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Kd{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ud(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Gd()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Qd(e,t){Ud(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Yd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Vd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Vd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Vd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Jd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},$d=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xd=new Kd(3e4,6e4);function Zd(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function eh(e,t,n,r){return th(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=L(c({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&x(e.emulatorConfig.host)&&(l.credentials="include"),Yd.fetch()(await rh(e,e.config.apiHost,n,s),l)})}async function th(e,t,n){e._canInitEmulator=!1;const r=c(c({},Jd),t);try{const t=new ah(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw sh(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw sh(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw sh(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw sh(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw Md(e,o,s);Ld(e,o)}}catch(i){if(i instanceof P)throw i;Ld(e,"network-request-failed",{message:String(i)})}}async function nh(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await eh(e,t,n,r,i);return"mfaPendingCredential"in a&&Ld(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function rh(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,s=a.config.emulator?Qd(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if($d.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function ih(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ah{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Od(this.auth,"network-request-failed")),Xd.get())})}}function sh(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Od(e,t,r);return i.customData._tokenResponse=n,i}function oh(e){return void 0!==e&&void 0!==e.enterprise}class lh{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return ih(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ch(e,t){return eh(e,"GET","/v2/recaptchaConfig",Zd(e,t))}async function uh(e,t){return eh(e,"POST","/v1/accounts:lookup",t)}function dh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function hh(e){return 1e3*Number(e)}function ph(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const e=f(n);return e?JSON.parse(e):(Rd("Failed to decode base64 JWT payload"),null)}catch(i){return Rd("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function fh(e){const t=ph(e);return zd(t,"internal-error"),zd("undefined"!==typeof t.exp,"internal-error"),zd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function mh(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof P&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class gh{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class vh{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=dh(this.lastLoginAt),this.creationTime=dh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function yh(e){var t;const n=e.auth,r=await e.getIdToken(),i=await mh(e,uh(n,{idToken:r}));zd(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?bh(a.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new vh(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,p)}function bh(e){return e.map(e=>{let{providerId:t}=e,n=_d(e,Cd);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class wh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){zd(e.idToken,"internal-error"),zd("undefined"!==typeof e.idToken,"internal-error"),zd("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):fh(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){zd(0!==e.length,"internal-error");const t=fh(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(zd(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await th(e,{},async()=>{const n=L({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await rh(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&x(e.emulatorConfig.host)&&(o.credentials="include"),Yd.fetch()(a,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new wh;return n&&(zd("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(zd("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(zd("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wh,this.toJSON())}_performRefresh(){return Vd("not implemented")}}function xh(e,t){zd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Sh{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=_d(e,Td);this.providerId="firebase",this.proactiveRefresh=new gh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new vh(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await mh(this,this.stsTokenManager.getToken(this.auth,e));return zd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=z(e),r=await n.getIdToken(t),i=ph(r);zd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:dh(hh(i.auth_time)),issuedAtTime:dh(hh(i.iat)),expirationTime:dh(hh(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=z(e);await yh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(zd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Sh(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){zd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await yh(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xe(this.auth.app))return Promise.reject(Fd(this.auth));const e=await this.getIdToken();return await mh(this,async function(e,t){return eh(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,p=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:x,providerData:S,stsTokenManager:k}=t;zd(b&&k,e,"internal-error");const E=wh.fromJSON(this.name,k);zd("string"===typeof b,e,"internal-error"),xh(d,e.name),xh(h,e.name),zd("boolean"===typeof w,e,"internal-error"),zd("boolean"===typeof x,e,"internal-error"),xh(p,e.name),xh(f,e.name),xh(m,e.name),xh(g,e.name),xh(v,e.name),xh(y,e.name);const N=new Sh({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:f,phoneNumber:p,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return S&&Array.isArray(S)&&(N.providerData=S.map(e=>c({},e))),g&&(N._redirectEventId=g),N}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new wh;r.updateFromServerResponse(t);const i=new Sh({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await yh(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];zd(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?bh(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new wh;s.updateFromIdToken(n);const o=new Sh({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new vh(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const kh=new Map;function Eh(e){Ud(e instanceof Function,"Expected a class definition");let t=kh.get(e);return t?(Ud(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,kh.set(e,t),t)}class Nh{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Nh.type="NONE";const _h=Nh;function Ch(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Th{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ch(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ch("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await uh(this.auth,{idToken:e}).catch(()=>{});return t?Sh._fromGetAccountInfoResponse(this.auth,t,e):null}return Sh._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Th(Eh(_h),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Eh(_h);const a=Ch(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await uh(e,{idToken:t}).catch(()=>{});if(!r)break;n=await Sh._fromGetAccountInfoResponse(e,r,t)}else n=Sh._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new Th(i,e,n)):new Th(i,e,n)}}function Ih(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Dh(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ph(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Lh(t))return"Blackberry";if(Oh(t))return"Webos";if(Ah(t))return"Safari";if((t.includes("chrome/")||jh(t))&&!t.includes("edge/"))return"Chrome";if(Rh(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/firefox\//i.test(e)}function Ah(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/crios\//i.test(e)}function Dh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/iemobile/i.test(e)}function Rh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/android/i.test(e)}function Lh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/blackberry/i.test(e)}function Oh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/webos/i.test(e)}function Mh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Fh(){return function(){const e=_();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function qh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_();return Mh(e)||Rh(e)||Oh(e)||Lh(e)||/windows phone/i.test(e)||Dh(e)}function zh(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ih(_());break;case"Worker":t="".concat(Ih(_()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(tt,"/").concat(r)}class Vh{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Uh{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Bh{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wh(this),this.idTokenSubscription=new Wh(this),this.beforeStateQueue=new Vh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jd,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Eh(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Th.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await uh(this,{idToken:e}),n=await Sh._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Xe(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return zd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yh(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xe(this.app))return Promise.reject(Fd(this));const t=e?z(e):null;return t&&zd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&zd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xe(this.app)?Promise.reject(Fd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xe(this.app)?Promise.reject(Fd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Eh(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return eh(e,"GET","/v2/passwordPolicy",Zd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Uh(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new A("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return eh(e,"POST","/v2/accounts:revokeToken",Zd(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Eh(e)||this._popupRedirectResolver;zd(t,this,"argument-error"),this.redirectPersistenceManager=await Th.create(this,[Eh(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(zd(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return zd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=zh(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Xe(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if(Dd.logLevel<=G.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Dd.warn("Auth (".concat(tt,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Hh(e){return z(e)}class Wh{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new F(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return zd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kh(e){return Gh.loadJS(e)}function Qh(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Yh{constructor(){this.enterprise=new Jh}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Jh{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $h="NO_RECAPTCHA";class Xh{constructor(e){this.type="recaptcha-enterprise",this.auth=Hh(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;oh(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n($h)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Yh).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{ch(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new lh(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&oh(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Gh.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Kh(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Zh(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new Xh(e);let s;if(i)s=$h;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function ep(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Zh(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Zh(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await Zh(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Zh(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await Zh(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function tp(e){const t=Hh(e),n=await ch(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new lh(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new Xh(t).verify()}}function np(e,t,n){const r=Hh(e);zd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=rp(t),{host:s,port:o}=function(e){const t=rp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ip(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ip(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return zd(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void zd(D(c,r.config.emulator)&&D(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,x(s)?(S("".concat(a,"//").concat(s).concat(l)),N("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function rp(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ip(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class ap{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vd("not implemented")}_getIdTokenResponse(e){return Vd("not implemented")}_linkToIdToken(e,t){return Vd("not implemented")}_getReauthenticationResolver(e){return Vd("not implemented")}}async function sp(e,t){return eh(e,"POST","/v1/accounts:signUp",t)}async function op(e,t){return nh(e,"POST","/v1/accounts:signInWithPassword",Zd(e,t))}class lp extends ap{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new lp(e,t,"password")}static _fromEmailAndCode(e,t){return new lp(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ep(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",op,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return nh(e,"POST","/v1/accounts:signInWithEmailLink",Zd(e,t))}(e,{email:this._email,oobCode:this._password});default:Ld(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ep(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return nh(e,"POST","/v1/accounts:signInWithEmailLink",Zd(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ld(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function cp(e,t){return nh(e,"POST","/v1/accounts:signInWithIdp",Zd(e,t))}class up extends ap{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new up(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ld("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=_d(t,Id);if(!n||!r)return null;const a=new up(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return cp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,cp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,cp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=L(t)}return e}}async function dp(e,t){return eh(e,"POST","/v1/accounts:sendVerificationCode",Zd(e,t))}const hp={USER_NOT_FOUND:"user-not-found"};class pp extends ap{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new pp({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new pp({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return nh(e,"POST","/v1/accounts:signInWithPhoneNumber",Zd(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await nh(e,"POST","/v1/accounts:signInWithPhoneNumber",Zd(e,t));if(n.temporaryProof)throw sh(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return nh(e,"POST","/v1/accounts:signInWithPhoneNumber",Zd(e,c(c({},t),{},{operation:"REAUTH"})),hp)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new pp({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class fp{constructor(e){var t,n,r,i,a,s;const o=O(M(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);zd(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=O(M(e)).link,n=t?O(M(t)).deep_link_id:null,r=O(M(e)).deep_link_id;return(r?O(M(r)).link:null)||r||n||t||e}(e);try{return new fp(t)}catch(n){return null}}}class mp{constructor(){this.providerId=mp.PROVIDER_ID}static credential(e,t){return lp._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=fp.parseLink(t);return zd(n,"argument-error"),lp._fromEmailAndCode(e,n.code,n.tenantId)}}mp.PROVIDER_ID="password",mp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",mp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class vp extends gp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class yp extends vp{constructor(){super("facebook.com")}static credential(e){return up._fromParams({providerId:yp.PROVIDER_ID,signInMethod:yp.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return yp.credentialFromTaggedObject(e)}static credentialFromError(e){return yp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return yp.credential(t.oauthAccessToken)}catch(n){return null}}}yp.FACEBOOK_SIGN_IN_METHOD="facebook.com",yp.PROVIDER_ID="facebook.com";class bp extends vp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return up._fromParams({providerId:bp.PROVIDER_ID,signInMethod:bp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return bp.credentialFromTaggedObject(e)}static credentialFromError(e){return bp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return bp.credential(n,r)}catch(i){return null}}}bp.GOOGLE_SIGN_IN_METHOD="google.com",bp.PROVIDER_ID="google.com";class wp extends vp{constructor(){super("github.com")}static credential(e){return up._fromParams({providerId:wp.PROVIDER_ID,signInMethod:wp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wp.credentialFromTaggedObject(e)}static credentialFromError(e){return wp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return wp.credential(t.oauthAccessToken)}catch(n){return null}}}wp.GITHUB_SIGN_IN_METHOD="github.com",wp.PROVIDER_ID="github.com";class xp extends vp{constructor(){super("twitter.com")}static credential(e,t){return up._fromParams({providerId:xp.PROVIDER_ID,signInMethod:xp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xp.credentialFromTaggedObject(e)}static credentialFromError(e){return xp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return xp.credential(n,r)}catch(i){return null}}}xp.TWITTER_SIGN_IN_METHOD="twitter.com",xp.PROVIDER_ID="twitter.com";class Sp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Sh._fromIdTokenResponse(e,n,r),a=kp(n);return new Sp({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=kp(n);return new Sp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function kp(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Ep extends P{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Ep.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Ep(e,t,n,r)}}function Np(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Ep._fromErrorAndOperation(e,n,t,r);throw n})}async function _p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await mh(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Sp._forOperation(e,"link",r)}async function Cp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Xe(r.app))return Promise.reject(Fd(r));const i="reauthenticate";try{const a=await mh(e,Np(r,i,t,e),n);zd(a.idToken,r,"internal-error");const s=ph(a.idToken);zd(s,r,"internal-error");const{sub:o}=s;return zd(e.uid===o,r,"user-mismatch"),Sp._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&Ld(r,"user-mismatch"),a}}async function Tp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Xe(e.app))return Promise.reject(Fd(e));const r="signIn",i=await Np(e,r,t),a=await Sp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Ip(e,t){return Tp(Hh(e),t)}async function Pp(e){const t=Hh(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Ap(e){return z(e).signOut()}function jp(e,t){return eh(e,"POST","/v2/accounts/mfaEnrollment:start",Zd(e,t))}new WeakMap;const Dp="__sak";class Rp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dp,"1"),this.storage.removeItem(Dp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Lp extends Rp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qh(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Fh()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Lp.type="LOCAL";const Op=Lp;function Mp(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function Fp(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class qp{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Fp(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Mp(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Fp(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=Fp(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Mp(n);const i=setInterval(()=>{const e=Mp(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}qp.type="COOKIE";class zp extends Rp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}zp.type="SESSION";const Vp=zp;class Up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Up(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Bp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Up.receivers=[];class Hp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=Bp("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function Wp(){return window}function Gp(){return"undefined"!==typeof Wp().WorkerGlobalScope&&"function"===typeof Wp().importScripts}const Kp="firebaseLocalStorageDb",Qp="firebaseLocalStorage",Yp="fbase_key";class Jp{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function $p(e,t){return e.transaction([Qp],t?"readwrite":"readonly").objectStore(Qp)}function Xp(){const e=indexedDB.open(Kp,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Qp,{keyPath:Yp})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Qp)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Kp);return new Jp(e).toPromise()}(),t(await Xp()))})})}async function Zp(e,t,n){const r=$p(e,!0).put({[Yp]:t,value:n});return new Jp(r).toPromise()}function ef(e,t){const n=$p(e,!0).delete(t);return new Jp(n).toPromise()}class tf{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Xp()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gp()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Up._getInstance(Gp()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new Hp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xp();return await Zp(e,Dp,"1"),await ef(e,Dp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Zp(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=$p(e,!1).get(t),r=await new Jp(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>ef(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=$p(e,!1).getAll();return new Jp(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}tf.type="LOCAL";const nf=tf;function rf(e,t){return eh(e,"POST","/v2/accounts/mfaSignIn:start",Zd(e,t))}Qh("rcb"),new Kd(3e4,6e4);const af="recaptcha";async function sf(e,t,n){if(!e._getRecaptchaConfig())try{await tp(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){zd("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=ep(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===$h){zd((null===n||void 0===n?void 0:n.type)===af,e,"argument-error");return jp(e,await of(e,t,n))}return jp(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;zd("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;zd(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=ep(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===$h){zd((null===n||void 0===n?void 0:n.type)===af,e,"argument-error");return rf(e,await of(e,t,n))}return rf(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ep(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===$h){zd((null===n||void 0===n?void 0:n.type)===af,e,"argument-error");return dp(e,await of(e,t,n))}return dp(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function of(e,t,n){zd(n.type===af,e,"argument-error");const r=await n.verify();zd("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class lf{constructor(e){this.providerId=lf.PROVIDER_ID,this.auth=Hh(e)}verifyPhoneNumber(e,t){return sf(this.auth,e,z(t))}static credential(e,t){return pp._fromVerification(e,t)}static credentialFromResult(e){const t=e;return lf.credentialFromTaggedObject(t)}static credentialFromError(e){return lf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?pp._fromTokenResponse(n,r):null}}function cf(e,t){return t?Eh(t):(zd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lf.PROVIDER_ID="phone",lf.PHONE_SIGN_IN_METHOD="phone";class uf extends ap{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return cp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return cp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function df(e){return Tp(e.auth,new uf(e),e.bypassAuthState)}function hf(e){const{auth:t,user:n}=e;return zd(n,t,"internal-error"),Cp(n,new uf(e),e.bypassAuthState)}async function pf(e){const{auth:t,user:n}=e;return zd(n,t,"internal-error"),_p(n,new uf(e),e.bypassAuthState)}class ff{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return df;case"linkViaPopup":case"linkViaRedirect":return pf;case"reauthViaPopup":case"reauthViaRedirect":return hf;default:Ld(this.auth,"internal-error")}}resolve(e){Ud(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ud(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const mf=new Kd(2e3,1e4);class gf extends ff{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,gf.currentPopupAction&&gf.currentPopupAction.cancel(),gf.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return zd(e,this.auth,"internal-error"),e}async onExecution(){Ud(1===this.filter.length,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Od(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Od(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gf.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Od(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,mf.get())};e()}}gf.currentPopupAction=null;const vf=new Map;class yf extends ff{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=vf.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=xf(t),r=wf(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}vf.set(this.auth._key(),e)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function bf(e,t){vf.set(e._key(),t)}function wf(e){return Eh(e._redirectPersistence)}function xf(e){return Ch("pendingRedirect",e.config.apiKey,e.name)}async function Sf(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Xe(e.app))return Promise.reject(Fd(e));const r=Hh(e),i=cf(r,t),a=new yf(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class kf{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Nf(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Nf(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Od(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ef(e))}saveEventToCache(e){this.cachedEventUids.add(Ef(e)),this.lastProcessedEventTime=Date.now()}}function Ef(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Nf(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const _f=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Cf=/^https?/;async function Tf(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return eh(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(If(r))return}catch(n){}Ld(e,"unauthorized-domain")}function If(e){const t=Bd(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Cf.test(n))return!1;if(_f.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Pf=new Kd(3e4,6e4);function Af(){const e=Wp().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function jf(e){return new Promise((t,n)=>{var r,i;function a(){Af(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Af(),n(Od(e,"network-request-failed"))},timeout:Pf.get()})}if(null!==(r=Wp().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=Wp().gapi)||void 0===i||!i.load){const t=Qh("iframefcb");return Wp()[t]=()=>{gapi.load?a():n(Od(e,"network-request-failed"))},Kh("".concat(Gh.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Df=null,e})}let Df=null;const Rf=new Kd(5e3,15e3),Lf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Of=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mf(e){const t=e.config;zd(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Qd(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:tt},i=Of.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(L(r).slice(1))}async function Ff(e){const t=await function(e){return Df=Df||jf(e),Df}(e),n=Wp().gapi;return zd(n,e,"internal-error"),t.open({where:document.body,url:Mf(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Lf,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Od(e,"network-request-failed"),a=Wp().setTimeout(()=>{r(i)},Rf.get());function s(){Wp().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const qf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class zf{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Vf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=c(c({},qf),{},{width:r.toString(),height:i.toString(),top:a,left:s}),u=_().toLowerCase();n&&(o=jh(u)?"_blank":n),Ph(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return Mh(arguments.length>0&&void 0!==arguments[0]?arguments[0]:_())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new zf(null);const h=window.open(t||"",o,d);zd(h,e,"popup-blocked");try{h.focus()}catch(p){}return new zf(h)}const Uf="__/auth/handler",Bf="emulator/auth/handler",Hf=encodeURIComponent("fac");async function Wf(e,t,n,r,i,a){zd(e.config.authDomain,e,"auth-domain-config-required"),zd(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:tt,eventId:i};if(t instanceof gp){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof vp){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Hf,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Uf);return Qd(t,Bf)}(e),"?").concat(L(o).slice(1)).concat(c)}const Gf="webStorageSupport";const Kf=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vp,this._completeRedirectFn=Sf,this._overrideRedirectResult=bf}async _openPopup(e,t,n,r){var i;Ud(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Vf(e,await Wf(e,t,n,Bd(),r),Bp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Wp().location.href=e}(await Wf(e,t,n,Bd(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Ud(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Ff(e),n=new kf(e);return t.register("authEvent",t=>{zd(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gf,{type:Gf},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[Gf];void 0!==i&&t(!!i),Ld(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Tf(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qh()||Ah()||Mh()}};var Qf="@firebase/auth",Yf="1.12.0";class Jf{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){zd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const $f=b("authIdTokenMaxAge")||300;let Xf=null;function Zf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt();const t=$e(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$e(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(D(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ld(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Kf,persistence:[nf,Op,Vp]}),r=b("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>$f)return;const r=null===t||void 0===t?void 0:t.token;Xf!==r&&(Xf=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){z(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){z(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=v("auth");return a&&np(n,"http://".concat(a)),n}var em;Gh={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Od("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},em="Browser",Je(new V("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;zd(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:em,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:zh(em)},c=new Bh(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Eh);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),Je(new V("auth-internal",e=>(e=>new Jf(e))(Hh(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),it(Qf,Yf,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(em)),it(Qf,Yf,"esm2020");var tm=n(579);const nm="rodrigo@dev.com",rm="hfsHCehqYgen7OAfXUYl58fEPo02",im=["Viking","Pyromancer","Marksman","Pirate","Nomad","Redneck","Necromancer","Samurai","Paladin","Amazon","Demon Slayer","Demonspawn","Shaman","White Mage","Marauder","Plague Doctor","Shield Lancer","J\xf6tunn","Illusionist","Exo","Butcher","Stormweaver","Bard"];function am(){const e=window.location.hash||"";return e.startsWith("#painel/blog")?"blog":e.startsWith("#painel/comentarios")?"comments":e.startsWith("#painel/mensagens")?"messages":e.startsWith("#painel/login")?"login":e.startsWith("#painel/forum")?"forum":e.startsWith("#painel/homepage")?"homepage":"dashboard"}function sm(){return(0,tm.jsx)("style",{children:"\n    :root { --bg:#f8fafc; --panel:#ffffff; --card:#ffffff; --muted:#6b7280; --fg:#0f172a; --accent:#b91c1c; }\n    html,body { height:100%; margin:0; }\n    body { background: radial-gradient(circle at top, #e5e7eb 0, #f8fafc 45%, #e5e7eb 100%); color: var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; min-height:100vh; }\n    header { display:flex; align-items:center; justify-content:space-between; padding:18px 32px; border-bottom:1px solid rgba(15,23,42,.08); background:linear-gradient(90deg,#020617,#111827); color:#f9fafb; }\n    .painel-brand { display:flex; align-items:center; gap:12px; }\n    .painel-logo { width: 40px; height: 40px; display:grid; place-items:center; background: linear-gradient(135deg,#b91c1c,#f97316); border-radius: 12px; border: 1px solid rgba(248,113,113,.6); font-size:20px; }\n    .painel-button { background: rgba(15,23,42,.85); color: #e5e7eb; border: 1px solid rgba(248,250,252,.12); padding: 10px 16px; cursor:pointer; font-size:11px; text-transform:uppercase; letter-spacing:.18em; border-radius:999px; }\n    .painel-button:hover { border-color: #f97316; background:#0b1120; }\n    .painel-layout { max-width: 1280px; margin: 32px auto; padding: 0 24px 32px; display:flex; gap:24px; align-items:stretch; min-height:calc(100vh - 120px); }\n    .painel-sidebar { width: 240px; background:#ffffff; border-radius:24px; border:1px solid #e5e7eb; padding:20px 18px; box-shadow:0 18px 40px rgba(15,23,42,.08); color:#0f172a; }\n    .painel-sidebar-title { font-size:11px; text-transform:uppercase; letter-spacing:.18em; color:#9ca3af; margin-bottom:14px; }\n    .painel-sidebar-nav { display:flex; flex-direction:column; gap:8px; }\n    .painel-nav-item { font-size:12px; padding:10px 12px; border-radius:999px; color:#4b5563; text-decoration:none; display:flex; justify-content:space-between; align-items:center; background:transparent; transition:all .2s ease; cursor:pointer; }\n    .painel-nav-item span { font-size:10px; text-transform:uppercase; letter-spacing:.18em; }\n    .painel-nav-item:hover { background:#f3f4f6; color:#111827; }\n    .painel-nav-item.active { background:linear-gradient(135deg,#b91c1c,#f97316); color:#ffffff; box-shadow:0 18px 40px rgba(248,113,113,.35); }\n    .painel-nav-badge { font-size:9px; background:#f9fafb; padding:2px 8px; border-radius:999px; border:1px solid #e5e7eb; color:#111827; }\n    .painel-main { flex:1; display:flex; flex-direction:column; gap:24px; }\n    .painel-page-header { display:flex; justify-content:space-between; align-items:flex-start; gap:16px; }\n    .painel-page-title { font-size:24px; font-weight:900; text-transform:uppercase; letter-spacing:.16em; }\n    .painel-page-sub { font-size:13px; color:var(--muted); margin-top:6px; max-width:460px; }\n    .painel-badge-live { display:inline-flex; align-items:center; gap:6px; font-size:10px; text-transform:uppercase; letter-spacing:.18em; color:#16a34a; padding:4px 10px; border-radius:999px; background:#dcfce7; border:1px solid #bbf7d0; }\n    .painel-badge { display:inline-flex; align-items:center; gap:6px; font-size:10px; text-transform:uppercase; letter-spacing:.18em; color:#334155; padding:4px 10px; border-radius:999px; background:#f1f5f9; border:1px solid #e5e7eb; }\n    .painel-badge-live-dot { width:7px; height:7px; border-radius:999px; background:#16a34a; box-shadow:0 0 10px rgba(34,197,94,.9); }\n    .painel-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap: 20px; }\n    .painel-card { background: var(--card); border:1px solid #e5e7eb; padding:20px; border-radius:24px; min-height:120px; box-shadow:0 20px 40px rgba(15,23,42,.08); position:relative; overflow:hidden; }\n    .painel-card::before { content:''; position:absolute; inset:-40%; background:radial-gradient(circle at top left,rgba(248,113,113,.12),transparent 55%); opacity:1; filter:blur(0); }\n    .painel-card-inner { position:relative; z-index:1; }\n    .painel-card h2 { margin: 0 0 8px; font-size: 14px; font-weight: 800; letter-spacing: .18em; text-transform:uppercase; color:#6b7280; }\n    .painel-card p { margin: 0; color: var(--muted); font-size: 13px; }\n    .painel-stat { font-size: 30px; font-weight: 900; margin-top:10px; color:#0f172a; }\n    .painel-stat-detail { margin-top:6px; font-size:12px; color:#6b7280; }\n    .painel-metrics { display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:12px; }\n    .painel-metric-card { display:flex; align-items:center; gap:10px; padding:12px 14px; border-radius:18px; border:1px solid rgba(15,23,42,.08); box-shadow:0 14px 30px rgba(15,23,42,.06); }\n    .painel-metric-icon { font-size:28px; line-height:1; }\n    .painel-metric-data .value { font-size:22px; font-weight:900; line-height:1; }\n    .painel-metric-data .label { margin-top:4px; font-size:11px; letter-spacing:.12em; text-transform:uppercase; opacity:.9; }\n    :root {\n      --posts-dark-bg:#f59e0b; --posts-light-bg:#ffedd5;\n      --comments-dark-bg:#10b981; --comments-light-bg:#d1fae5;\n      --messages-dark-bg:#3b82f6; --messages-light-bg:#dbeafe;\n      --builds-dark-bg:#8b5cf6; --builds-light-bg:#ede9fe;\n    }\n    .metric-posts-dark { background: var(--posts-dark-bg); color:#0b0f19; }\n    .metric-posts-light { background: var(--posts-light-bg); color:#7c2d12; }\n    .metric-comments-dark { background: var(--comments-dark-bg); color:#052e1c; }\n    .metric-comments-light { background: var(--comments-light-bg); color:#065f46; }\n    .metric-messages-dark { background: var(--messages-dark-bg); color:#06102b; }\n    .metric-messages-light { background: var(--messages-light-bg); color:#1e3a8a; }\n    .metric-builds-dark { background: var(--builds-dark-bg); color:#1c1917; }\n    .metric-builds-light { background: var(--builds-light-bg); color:#312e81; }\n    .painel-activity { display:grid; grid-template-columns: minmax(0,2fr) minmax(0,1.5fr); gap:20px; }\n    .painel-activity-list { background:var(--card); border-radius:24px; border:1px solid #e5e7eb; padding:18px 20px; box-shadow:0 18px 40px rgba(15,23,42,.04); }\n    .painel-activity-title { font-size:11px; text-transform:uppercase; letter-spacing:.2em; color:#9ca3af; margin-bottom:12px; }\n    .painel-activity-item { font-size:13px; padding:10px 0; border-bottom:1px solid #e5e7eb; display:flex; justify-content:space-between; align-items:center; }\n    .painel-activity-item:last-child { border-bottom:none; }\n    .painel-chip { font-size:10px; text-transform:uppercase; letter-spacing:.18em; padding:4px 8px; border-radius:999px; border:1px solid #e5e7eb; color:#6b7280; background:#f9fafb; }\n    .painel-table-wrapper { margin-top:12px; overflow:auto; max-height:380px; }\n    table.painel-table { width:100%; border-collapse:collapse; font-size:13px; }\n    table.painel-table th, table.painel-table td { padding:8px 6px; border-bottom:1px solid #e5e7eb; text-align:left; }\n    table.painel-table th { font-size:11px; text-transform:uppercase; letter-spacing:.12em; color:#9ca3af; }\n    table.painel-table tbody tr:hover { background:#f9fafb; }\n    .painel-tag { font-size:10px; padding:2px 6px; border:1px solid #e5e7eb; text-transform:uppercase; letter-spacing:.12em; border-radius:999px; color:#6b7280; background:#ffffff; }\n    .painel-row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }\n    .painel-homepage-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(80px,1fr)); gap:10px; margin-top:16px; }\n    .painel-homepage-thumb { position:relative; border-radius:12px; border:2px solid transparent; overflow:hidden; cursor:pointer; background:#0f172a; }\n    .painel-homepage-thumb img { width:100%; height:80px; object-fit:contain; display:block; background:#020617; }\n    .painel-homepage-thumb span { position:absolute; inset:auto 0 0 0; padding:4px 6px; font-size:9px; text-transform:uppercase; letter-spacing:.14em; background:linear-gradient(to top,rgba(15,23,42,.9),transparent); color:#e5e7eb; text-align:center; }\n    .painel-homepage-thumb.active { border-color:#f97316; box-shadow:0 0 0 1px rgba(249,115,22,.4); }\n    .painel-homepage-thumb.random { border-style:dashed; }\n    .painel-homepage-preview { margin-top:20px; display:flex; gap:18px; align-items:center; }\n    .painel-homepage-preview-img { width:180px; height:180px; border-radius:24px; overflow:hidden; border:1px solid #e5e7eb; background:#020617; display:flex; align-items:center; justify-content:center; }\n    .painel-homepage-preview-img img { width:100%; height:100%; object-fit:contain; }\n    .painel-homepage-preview-info { font-size:13px; color:#4b5563; max-width:420px; }\n    .painel-input, .painel-select, .painel-textarea { width:100%; box-sizing:border-box; padding:10px; background:#f9fafb; color:#0f172a; border:1px solid #e5e7eb; }\n    .painel-textarea { min-height: 140px; resize:vertical; }\n    .painel-muted { color:var(--muted); font-size:12px; }\n    .painel-list { display:flex; flex-direction:column; gap:10px; max-height:380px; overflow:auto; }\n    .painel-list-item { border:1px solid #e5e7eb; padding:10px; display:flex; justify-content:space-between; align-items:flex-start; gap:10px; background:#f9fafb; border-radius:12px; }\n    .painel-danger-text { color:#b91c1c; }\n    .painel-actions-cell { display:flex; gap:6px; justify-content:flex-end; }\n    .painel-action-btn { width:28px; height:28px; border-radius:999px; display:grid; place-items:center; padding:0; font-size:15px; border:none; cursor:pointer; }\n    .painel-action-edit { background:#eef2ff; color:#4338ca; }\n    .painel-action-edit:hover { background:#e0e7ff; }\n    .painel-action-toggle-published { background:#dcfce7; color:#15803d; }\n    .painel-action-toggle-published:hover { background:#bbf7d0; }\n    .painel-action-toggle-draft { background:#fee2e2; color:#b91c1c; }\n    .painel-action-toggle-draft:hover { background:#fecaca; }\n    .painel-action-delete { background:#fee2e2; color:#b91c1c; }\n    .painel-action-delete:hover { background:#fecaca; }\n    .painel-modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:40; padding:16px; box-sizing:border-box; }\n    .painel-modal.hidden { display:none; }\n    .painel-modal-backdrop { position:absolute; inset:0; background:rgba(15,23,42,.6); backdrop-filter:blur(10px); }\n    .painel-modal-content { position:relative; z-index:1; width:100%; max-width:520px; max-height:80vh; background:#ffffff; border-radius:20px; border:1px solid #e5e7eb; padding:16px 18px; box-shadow:0 24px 70px rgba(15,23,42,.25); display:flex; flex-direction:column; }\n    .painel-modal-content.small { max-width:420px; }\n    .painel-modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }\n    .painel-modal-title { font-size:13px; font-weight:800; letter-spacing:.16em; text-transform:uppercase; color:#6b7280; }\n    .painel-modal-close { border-radius:999px; width:26px; height:26px; display:grid; place-items:center; border:1px solid #e5e7eb; background:#f9fafb; color:#374151; cursor:pointer; }\n    .painel-modal-body { margin-top:4px; overflow:auto; }\n    .painel-login-container { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; }\n    .painel-login-card { width:100%; max-width: 420px; background:#151923; border: 1px solid rgba(255,255,255,.06); padding: 28px; box-sizing: border-box; color:#e5e7eb; }\n    .painel-login-brand { display:flex; align-items:center; gap:10px; margin-bottom: 18px; }\n    .painel-login-logo { width: 36px; height: 36px; display:grid; place-items:center; background: rgba(239,68,68,.12); border: 1px solid rgba(239,68,68,.35); }\n    .painel-login-badge { display:inline-block; margin-top: 8px; font-size:10px; font-weight:700; text-transform:uppercase; letter-spacing:.14em; color:#f59e0b; }\n    .painel-login-title { margin: 0 0 8px; font-size: 22px; font-weight: 800; letter-spacing: .02em; }\n    .painel-login-sub { margin: 0; color: #9aa4b2; font-size: 13px; }\n    .painel-login-label { display:block; font-size: 11px; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: #9ca3af; margin-bottom: 8px; }\n    .painel-login-input { width:100%; padding: 12px; background: rgba(0,0,0,.35); color: #e5e7eb; border: 1px solid rgba(255,255,255,.08); outline: none; }\n    .painel-login-input:focus { border-color: var(--accent); }\n    .painel-login-button { width:100%; padding: 12px; border: 1px solid rgba(255,255,255,.12); background: #fff; color:#000; font-weight: 900; text-transform: uppercase; letter-spacing: .08em; cursor: pointer; }\n    .painel-login-button[disabled] { opacity:.6; cursor: not-allowed; }\n    .painel-login-error { margin-top: 12px; padding: 10px; background: rgba(239,68,68,.12); border: 1px solid rgba(239,68,68,.35); color: #fecaca; font-size: 12px; }\n    .painel-login-hint { margin-top: 12px; font-size: 12px; color: #9aa4b2; }\n    @media (max-width: 900px) {\n      .painel-layout { flex-direction:column; padding:16px 16px 32px; margin-top:16px; }\n      .painel-sidebar { width:100%; display:flex; overflow-x:auto; border-radius:20px; }\n      .painel-sidebar-nav { flex-direction:row; }\n      .painel-nav-item { min-width:150px; }\n      .painel-activity { grid-template-columns: 1fr; }\n    }\n  "})}function om(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)("");return(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsx)(sm,{}),(0,tm.jsx)("div",{className:"painel-login-container",children:(0,tm.jsxs)("div",{className:"painel-login-card",children:[(0,tm.jsxs)("div",{className:"painel-login-brand",children:[(0,tm.jsx)("div",{className:"painel-login-logo",children:"\ud83d\udd25"}),(0,tm.jsxs)("div",{children:[(0,tm.jsx)("h1",{className:"painel-login-title",children:"Hero Siege Brasil \u2014 Painel"}),(0,tm.jsx)("p",{className:"painel-login-sub",children:"Acesso restrito ao administrador"})]})]}),(0,tm.jsx)("div",{className:"painel-login-badge",children:"Season 9"}),(0,tm.jsxs)("form",{className:"mt-6",onSubmit:async t=>{t.preventDefault(),l("");const r=(e||"").trim();if(r&&n){s(!0);try{const e=Zf(Nd),t=await function(e,t,n){return Xe(e.app)?Promise.reject(Fd(e)):Ip(z(e),mp.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Pp(e),t})}(e,r,n),i=t.user;if(!i||(i.email||"").toLowerCase()!==nm||i.uid!==rm)return await Ap(e),void l("Usu\xe1rio n\xe3o autorizado para o painel.");window.location.hash="#painel"}catch(i){const e=i&&i.code?i.code:"";l("auth/operation-not-allowed"===e?"M\xe9todo Email/Senha desativado no Firebase Auth. Ative-o nas configura\xe7\xf5es.":"auth/unauthorized-domain"===e?"Dom\xednio n\xe3o autorizado no Firebase Auth. Adicione este dom\xednio em \u201cAuthorized domains\u201d.":"auth/invalid-credential"===e||"auth/invalid-login-credentials"===e||"auth/wrong-password"===e?"E-mail ou senha inv\xe1lidos.":i.message||"Falha na autentica\xe7\xe3o.")}finally{s(!1)}}else l("Informe e-mail e senha.")},children:[(0,tm.jsxs)("div",{className:"mt-6",children:[(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-email",children:"E-mail"}),(0,tm.jsx)("input",{id:"painel-email",type:"email",className:"painel-login-input",autoComplete:"username",value:e,onChange:e=>t(e.target.value)})]}),(0,tm.jsxs)("div",{className:"mt-6",children:[(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-password",children:"Senha"}),(0,tm.jsx)("input",{id:"painel-password",type:"password",className:"painel-login-input",autoComplete:"current-password",value:n,onChange:e=>i(e.target.value)})]}),(0,tm.jsxs)("div",{className:"mt-6",children:[(0,tm.jsx)("button",{type:"submit",className:"painel-login-button",disabled:a,children:a?"Autenticando...":"Entrar"}),o&&(0,tm.jsx)("div",{className:"painel-login-error",children:o}),(0,tm.jsx)("div",{className:"painel-login-hint",children:"Seguran\xe7a: autentica\xe7\xe3o por Firebase. Tentativas s\xe3o registradas."})]})]})]})})]})}function lm(e){let{onLogout:t}=e;return(0,tm.jsxs)("header",{children:[(0,tm.jsxs)("div",{className:"painel-brand",children:[(0,tm.jsx)("div",{className:"painel-logo",children:"\u2699\ufe0f"}),(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{style:{fontWeight:900,letterSpacing:".18em",fontSize:11,textTransform:"uppercase"},children:"Painel \u2014 Hero Siege Brasil"}),(0,tm.jsx)("div",{style:{fontSize:12,color:"#9aa4b2"},children:"\xc1rea de administra\xe7\xe3o \xb7 Acesso restrito"})]})]}),(0,tm.jsx)("button",{type:"button",className:"painel-button",title:"Encerrar sess\xe3o",onClick:t,children:"Sair"})]})}function cm(e){let{view:t,onChange:n}=e;const r=e=>{"dashboard"===e?window.location.hash="#painel":"blog"===e?window.location.hash="#painel/blog":"comments"===e?window.location.hash="#painel/comentarios":"messages"===e?window.location.hash="#painel/mensagens":"forum"===e?window.location.hash="#painel/forum":"homepage"===e&&(window.location.hash="#painel/homepage"),n(e)};return(0,tm.jsxs)("aside",{className:"painel-sidebar",children:[(0,tm.jsx)("div",{className:"painel-sidebar-title",children:"Navega\xe7\xe3o"}),(0,tm.jsxs)("div",{className:"painel-sidebar-nav",children:[(0,tm.jsxs)("div",{className:"painel-nav-item ".concat("dashboard"===t?"active":""),onClick:()=>r("dashboard"),children:[(0,tm.jsx)("span",{children:"Dashboard"}),"dashboard"===t&&(0,tm.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,tm.jsxs)("div",{className:"painel-nav-item ".concat("blog"===t?"active":""),onClick:()=>r("blog"),children:[(0,tm.jsx)("span",{children:"Blog"}),"blog"===t&&(0,tm.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,tm.jsxs)("div",{className:"painel-nav-item ".concat("comments"===t?"active":""),onClick:()=>r("comments"),children:[(0,tm.jsx)("span",{children:"Coment\xe1rios"}),"comments"===t&&(0,tm.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,tm.jsxs)("div",{className:"painel-nav-item ".concat("messages"===t?"active":""),onClick:()=>r("messages"),children:[(0,tm.jsx)("span",{children:"Mensagens"}),"messages"===t&&(0,tm.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,tm.jsxs)("div",{className:"painel-nav-item ".concat("forum"===t?"active":""),onClick:()=>r("forum"),children:[(0,tm.jsx)("span",{children:"Forum"}),"forum"===t&&(0,tm.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,tm.jsxs)("div",{className:"painel-nav-item ".concat("homepage"===t?"active":""),onClick:()=>r("homepage"),children:[(0,tm.jsx)("span",{children:"Homepage"}),"homepage"===t&&(0,tm.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]})]})]})}function um(){const[e,t]=(0,r.useState)("\u2013"),[n,i]=(0,r.useState)("\u2013"),[a,s]=(0,r.useState)("\u2013"),[o,l]=(0,r.useState)("\u2013"),[c,u]=(0,r.useState)("\u2013"),[d,h]=(0,r.useState)("\u2013"),[p,f]=(0,r.useState)("\u2013"),[m,g]=(0,r.useState)("\u2013"),[v,y]=(0,r.useState)("\u2013"),[b,w]=(0,r.useState)("\u2013");return(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const n=await gd(du(Ed,"item_categories"));if(!e)return;t(String(n.size)),n.forEach(()=>{})}catch(n){if(!e)return}try{if(await gd(du(Ed,"classes")),!e)return;i(String(im.length))}catch(r){if(!e)return;i(String(im.length))}try{const t=await gd(du(Ed,"posts"));if(!e)return;let n=0,r=0;t.forEach(e=>{const t=(e.data()||{}).status||"draft";"published"===t?n+=1:"draft"===t&&(r+=1)}),s(String(n)),l(String(r))}catch(a){if(!e)return;s("0"),l("0")}try{const t=await gd(du(Ed,"builds"));if(!e)return;let n=0,r=0;t.forEach(e=>{"published"===((e.data()||{}).status||"draft")?n+=1:r+=1}),u(String(n)),h(String(r))}catch(o){if(!e)return;u("0"),h("0")}try{const t=await gd(hu(Ed,"comments"));if(!e)return;let n=0,r=0;t.forEach(e=>{!0===(e.data()||{}).approved?n+=1:r+=1}),f(String(n)),g(String(r))}catch(c){if(!e)return;f("0"),g("0")}try{const t=await gd(du(Ed,"messages"));if(!e)return;let n=0,r=0;t.forEach(e=>{!0===(e.data()||{}).read?n+=1:r+=1}),y(String(n)),w(String(r))}catch(d){if(!e)return;y("0"),w("0")}})(),()=>{e=!1}},[]),(0,tm.jsxs)("div",{className:"painel-main",children:[(0,tm.jsxs)("div",{className:"painel-page-header",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"painel-page-title",children:"Dashboard"}),(0,tm.jsx)("div",{className:"painel-page-sub",children:"Resumo r\xe1pido das entidades que alimentam o site (categorias, classes e blog)."})]}),(0,tm.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[(0,tm.jsxs)("div",{className:"painel-badge-live",children:[(0,tm.jsx)("span",{className:"painel-badge-live-dot"}),(0,tm.jsx)("span",{children:"Online"})]}),(0,tm.jsxs)("div",{className:"painel-badge",children:["\ud83d\uddc3 ",(0,tm.jsxs)("span",{children:["Categorias: ",e]})]}),(0,tm.jsxs)("div",{className:"painel-badge",children:["\ud83e\udde9 ",(0,tm.jsxs)("span",{children:["Classes: ",n]})]})]})]}),(0,tm.jsxs)("div",{className:"painel-metrics",children:[(0,tm.jsxs)("div",{className:"painel-metric-card metric-posts-dark",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udce2"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:a}),(0,tm.jsx)("div",{className:"label",children:"Posts publicados"})]})]}),(0,tm.jsxs)("div",{className:"painel-metric-card metric-comments-dark",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udcac"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:p}),(0,tm.jsx)("div",{className:"label",children:"Coment\xe1rios aprovados"})]})]}),(0,tm.jsxs)("div",{className:"painel-metric-card metric-messages-dark",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\u2709\ufe0f"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:v}),(0,tm.jsx)("div",{className:"label",children:"Mensagens lidas"})]})]}),(0,tm.jsxs)("div",{className:"painel-metric-card metric-builds-dark",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udde1\ufe0f"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:c}),(0,tm.jsx)("div",{className:"label",children:"Builds publicadas"})]})]})]}),(0,tm.jsxs)("div",{className:"painel-metrics",style:{marginTop:12},children:[(0,tm.jsxs)("div",{className:"painel-metric-card metric-posts-light",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udcdd"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:o}),(0,tm.jsx)("div",{className:"label",children:"Posts em rascunho"})]})]}),(0,tm.jsxs)("div",{className:"painel-metric-card metric-comments-light",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\u23f3"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:m}),(0,tm.jsx)("div",{className:"label",children:"Coment\xe1rios pendentes"})]})]}),(0,tm.jsxs)("div",{className:"painel-metric-card metric-messages-light",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\u23f3"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:b}),(0,tm.jsx)("div",{className:"label",children:"Mensagens n\xe3o lidas"})]})]}),(0,tm.jsxs)("div",{className:"painel-metric-card metric-builds-light",children:[(0,tm.jsx)("div",{className:"painel-metric-icon",children:"\u23f3"}),(0,tm.jsxs)("div",{className:"painel-metric-data",children:[(0,tm.jsx)("div",{className:"value",children:d}),(0,tm.jsx)("div",{className:"label",children:"Builds pendentes"})]})]})]})]})}function dm(e){return String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function hm(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)("all"),[a,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[w,x]=(0,r.useState)(""),[S,k]=(0,r.useState)("draft"),[E,N]=(0,r.useState)(""),[_,C]=(0,r.useState)(!1),[T,I]=(0,r.useState)(null),[P,A]=(0,r.useState)(""),j=e=>{const t=e||"draft";return"published"===t?"Publicado":"pending"===t?"Pendente":"draft"===t?"Rascunho":t},D=async()=>{s(!0);try{const e=await gd(du(Ed,"builds")),n=[];e.forEach(e=>n.push(c({id:e.id},e.data()))),n.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),t(n)}finally{s(!1)}};(0,r.useEffect)(()=>{D()},[]);const R=(0,r.useMemo)(()=>"all"===n?e:e.filter(e=>(e.status||"draft")===n),[e,n]),L=()=>{d(null),p(""),m(""),v(""),b(""),x(""),k("draft"),N("")};return(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsxs)("div",{className:"painel-main",children:[(0,tm.jsxs)("div",{className:"painel-page-header",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"painel-page-title",children:"Forum \u2014 Builds"}),(0,tm.jsx)("div",{className:"painel-page-sub",children:"Modere, edite, publique ou exclua builds enviadas pelo bot\xe3o \u201cNova Build\u201d."})]}),(0,tm.jsx)("div",{children:(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>{L(),l(!0)},children:"Nova Build"})})]}),(0,tm.jsx)("div",{className:"painel-grid",children:(0,tm.jsx)("div",{className:"painel-card",children:(0,tm.jsxs)("div",{className:"painel-card-inner",children:[(0,tm.jsx)("h2",{children:"Builds"}),(0,tm.jsxs)("div",{className:"painel-row",children:[(0,tm.jsx)("label",{style:{margin:0,fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:".12em",color:"#9ca3af"},children:"Filtro"}),(0,tm.jsxs)("select",{className:"painel-select",value:n,onChange:e=>i(e.target.value),style:{maxWidth:220},children:[(0,tm.jsx)("option",{value:"all",children:"Todas"}),(0,tm.jsx)("option",{value:"published",children:"Publicadas"}),(0,tm.jsx)("option",{value:"pending",children:"Pendentes"}),(0,tm.jsx)("option",{value:"draft",children:"Rascunhos"})]}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:D,children:a?"Carregando...":"Recarregar"})]}),(0,tm.jsx)("div",{className:"painel-table-wrapper",children:(0,tm.jsxs)("table",{className:"painel-table",children:[(0,tm.jsx)("thead",{children:(0,tm.jsxs)("tr",{children:[(0,tm.jsx)("th",{children:"T\xedtulo"}),(0,tm.jsx)("th",{children:"Classe"}),(0,tm.jsx)("th",{children:"Autor"}),(0,tm.jsx)("th",{children:"Forum"}),(0,tm.jsx)("th",{children:"Status"}),(0,tm.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,tm.jsx)("tbody",{children:0===R.length?(0,tm.jsx)("tr",{children:(0,tm.jsx)("td",{colSpan:6,className:"painel-muted",children:"Nenhuma build encontrada."})}):R.map(e=>{const t=e.className||e.heroClass||"",n=e.forum||e.classSlug||(t?dm(t):"");return(0,tm.jsxs)("tr",{children:[(0,tm.jsx)("td",{children:(0,tm.jsx)("strong",{children:e.title||"(sem t\xedtulo)"})}),(0,tm.jsx)("td",{children:t}),(0,tm.jsx)("td",{children:e.author||""}),(0,tm.jsx)("td",{children:n}),(0,tm.jsx)("td",{children:(0,tm.jsx)("span",{className:"painel-tag",children:j(e.status)})}),(0,tm.jsxs)("td",{className:"painel-actions-cell",children:[(0,tm.jsx)("button",{type:"button",className:"painel-action-btn painel-action-edit",title:"Editar build",onClick:()=>{return d(t=e),p(t.title||""),m(t.author||""),v(t.className||t.heroClass||""),b(t.content_html||""),x(Array.isArray(t.tags)?t.tags.join(", "):""),k(t.status||"draft"),N("Editando: ".concat(t.title||t.id)),void l(!0);var t},children:"\u270f\ufe0f"}),(0,tm.jsx)("button",{type:"button",className:"painel-action-btn ".concat("published"===e.status?"painel-action-toggle-published":"painel-action-toggle-draft"),title:"published"===e.status?"Mover para rascunho":"pending"===e.status?"Aprovar e publicar":"Publicar",onClick:()=>(async e=>{let t="published";"published"===e.status&&(t="draft"),"draft"===e.status&&(t="published"),"pending"===e.status&&(t="published");const n=e.className||e.heroClass||"",r=n?dm(n):e.classSlug||"";await vd(pu(Ed,"builds",e.id),{status:t,forum:r,classSlug:r,updatedAt:Wu()},{merge:!0}),D()})(e),children:"published"===e.status?"\u2601\ufe0f":"\ud83d\udce4"}),(0,tm.jsx)("button",{type:"button",className:"painel-action-btn painel-action-delete",title:"Excluir build",onClick:()=>{return I(t=e),A(t.title||"(sem t\xedtulo)"),void C(!0);var t},children:"\ud83d\uddd1\ufe0f"})]})]},e.id)})})]})})]})})})]}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(o?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>l(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content",children:[(0,tm.jsxs)("div",{className:"painel-modal-header",children:[(0,tm.jsx)("div",{className:"painel-modal-title",children:u?"Editar Build":"Nova Build"}),(0,tm.jsx)("button",{type:"button",className:"painel-modal-close",onClick:()=>l(!1),children:"\xd7"})]}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsx)("label",{className:"painel-login-label",children:"T\xedtulo"}),(0,tm.jsx)("input",{className:"painel-input",value:h,onChange:e=>p(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Autor"}),(0,tm.jsx)("input",{className:"painel-input",value:f,onChange:e=>m(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Classe"}),(0,tm.jsxs)("select",{className:"painel-select",value:g,onChange:e=>v(e.target.value),children:[(0,tm.jsx)("option",{value:"",children:"Selecione"}),im.map(e=>(0,tm.jsx)("option",{value:e,children:e},e))]}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Conte\xfado (HTML)"}),(0,tm.jsx)("textarea",{className:"painel-textarea",value:y,onChange:e=>b(e.target.value),placeholder:"<p>...</p>"}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Tags (separadas por v\xedrgula)"}),(0,tm.jsx)("input",{className:"painel-input",value:w,onChange:e=>x(e.target.value),placeholder:"ex.: season 9, viking, endgame"}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Status"}),(0,tm.jsxs)("select",{className:"painel-select",value:S,onChange:e=>k(e.target.value),children:[(0,tm.jsx)("option",{value:"draft",children:"Rascunho"}),(0,tm.jsx)("option",{value:"pending",children:"Pendente"}),(0,tm.jsx)("option",{value:"published",children:"Publicado"})]}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:L,children:"Limpar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{N("Salvando...");const e=(w||"").split(",").map(e=>e.trim()).filter(Boolean),t=Array.from(new Set(e)),n=g||u&&(u.className||u.heroClass)||"",r=n?dm(n):"",i={title:h||"",author:f||"",className:n||"",heroClass:n||"",classSlug:r||"",forum:r||"",content_html:y||"",tags:t,status:S||"draft",updatedAt:Wu()};try{u&&u.id?(await vd(pu(Ed,"builds",u.id),i,{merge:!0}),N("Build atualizada.")):(await bd(du(Ed,"builds"),c(c({},i),{},{createdAt:Wu()})),N("Build criada.")),l(!1),L(),D()}catch(a){const e=a&&a.code?a.code:"";N("Falha ao salvar build (".concat(e||"erro",")."))}},children:"Salvar"})]}),(0,tm.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:E})]})]})]}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(_?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>C(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content small",children:[(0,tm.jsx)("div",{className:"painel-modal-header",children:(0,tm.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsxs)("p",{className:"painel-muted",children:['Tem certeza que deseja excluir a build "',P,'"?']}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>C(!1),children:"Cancelar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(T)try{await yd(pu(Ed,"builds",T.id))}finally{C(!1),I(null),D()}else C(!1)},children:"Excluir"})]})]})]})]})]})}function pm(){const e=im,[t,n]=(0,r.useState)(null),[i,a]=(0,r.useState)("fixed"),[s,o]=(0,r.useState)(!1),[l,u]=(0,r.useState)(""),[d,h]=(0,r.useState)({S:["Necromancer","Pyromancer","Viking"],A:["Samurai","Paladin","Marksman","Nomad"],B:["Redneck","Pirate","Shield Lancer"],C:[],D:[],E:[]}),[p,f]=(0,r.useState)(!1),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(()=>e.length?Math.floor(Math.random()*e.length):0);(0,r.useEffect)(()=>{const e=wd(pu(Ed,"config","homepage"),e=>{const t=e.data()||{};n(t.featuredClass||null),a(t.mode||"fixed")});return()=>e()},[]),(0,r.useEffect)(()=>{"random"===i&&e.length&&w(Math.floor(Math.random()*e.length))},[i,e.length]),(0,r.useEffect)(()=>{const e=wd(pu(Ed,"config","tierlist"),e=>{const t=e.data()||{},n={S:Array.isArray(t.S)?t.S:["Necromancer","Pyromancer","Viking"],A:Array.isArray(t.A)?t.A:["Samurai","Paladin","Marksman","Nomad"],B:Array.isArray(t.B)?t.B:["Redneck","Pirate","Shield Lancer"],C:Array.isArray(t.C)?t.C:[],D:Array.isArray(t.D)?t.D:[],E:Array.isArray(t.E)?t.E:[]};h(n)});return()=>e()},[]);const x=async(e,t,r,i)=>{const s=pu(Ed,"config","homepage");o(!0),u("Salvando...");try{return await vd(s,{featuredClass:"fixed"===t?e:null,mode:t,updatedAt:Wu()},{merge:!0}),u("Configura\xe7\xe3o salva."),!0}catch(l){const e=l&&l.code?l.code:"erro";try{console.error("Erro ao salvar config homepage:",l)}catch(c){}return u("Falha ao salvar (".concat(e,").")),n(r),a(i),!1}finally{o(!1),setTimeout(()=>u(""),3e3)}},S=()=>{const e=t,r=i;a("random"),n(null),x(null,"random",e,r)},k=e=>{const t=String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"");return"".concat("","/images/").concat(t,".webp")},E=(0,r.useMemo)(()=>new Set([...d.S||[],...d.A||[],...d.B||[],...d.C||[],...d.D||[],...d.E||[]]),[d]),N=(0,r.useMemo)(()=>e.filter(e=>!E.has(e)),[e,E]),_=async e=>{f(!0),g("Salvando tierlist...");try{await vd(pu(Ed,"config","tierlist"),{S:e.S||[],A:e.A||[],B:e.B||[],C:e.C||[],D:e.D||[],E:e.E||[],updatedAt:Wu()},{merge:!0}),g("Tierlist salva.")}catch(t){const e=t&&t.code?t.code:"erro";g("Falha ao salvar tierlist (".concat(e,")."))}finally{f(!1),setTimeout(()=>g(""),3e3)}},C=(e,t,n)=>{try{e.dataTransfer.setData("text/plain",JSON.stringify({cls:t,from:n}))}catch(r){e.dataTransfer.setData("text/plain",t)}},T=async()=>{const e={S:"#dc2626",A:"#f97316",B:"#eab308",C:"#84cc16",D:"#22c55e",E:"#6b7280"},t=24,n=48;let r=t;const i=[];["S","A","B","C","D","E"].forEach(e=>{const a=Math.max(n,40)+t;i.push({key:e,y:r,h:a}),r+=a+16}),r+=t;const a=document.createElement("canvas");a.width=1024,a.height=r;const s=a.getContext("2d");s.fillStyle="#151923",s.fillRect(0,0,1024,r),s.font="bold 20px Segoe UI, sans-serif",s.textBaseline="middle",s.textAlign="center";const o=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>t(null),n.src=e,n.crossOrigin="anonymous"}),l=[];i.forEach(r=>{const i=r.key,a=r.y;s.fillStyle=e[i]||"#6b7280",s.fillRect(t,a,n,n),s.fillStyle="#ffffff",s.fillText(i,48,a+24);let o=88;(d[i]||[]).forEach(e=>{const t=k(e);l.push({x:o,y:a+Math.max(0,4),src:t}),o+=48})});for(let d=0;d<l.length;d++){const e=l[d],t=await o(e.src);t&&s.drawImage(t,e.x,e.y,40,40)}const c=a.toDataURL("image/png"),u=document.createElement("a");u.href=c,u.download="tierlist.png",u.click()},I="random"===i?"Rota\xe7\xe3o aleat\xf3ria entre as classes":t?"Classe destacada: ".concat(t):"Nenhuma classe selecionada",P=k("random"===i?e[b]||e[0]:t||e[0]);return(0,tm.jsxs)("div",{className:"painel-main",children:[(0,tm.jsxs)("div",{className:"painel-page-header",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"painel-page-title",children:"Homepage"}),(0,tm.jsx)("div",{className:"painel-page-sub",children:"Defina qual classe aparece na imagem principal da homepage ou ative rota\xe7\xe3o aleat\xf3ria."})]}),(0,tm.jsxs)("div",{style:{textAlign:"right"},children:[(0,tm.jsx)("div",{className:"painel-badge",children:"Homepage"}),l&&(0,tm.jsx)("div",{style:{fontSize:11,color:"#6b7280",marginTop:4},children:l})]})]}),(0,tm.jsx)("div",{className:"painel-card",children:(0,tm.jsxs)("div",{className:"painel-card-inner",children:[(0,tm.jsx)("h2",{children:"Visualiza\xe7\xe3o atual"}),(0,tm.jsxs)("div",{className:"painel-homepage-preview",children:[(0,tm.jsx)("div",{className:"painel-homepage-preview-img",children:(0,tm.jsx)("img",{src:P,alt:t||e[0]})}),(0,tm.jsxs)("div",{className:"painel-homepage-preview-info",children:[(0,tm.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:I}),(0,tm.jsx)("div",{children:"Quando o modo aleat\xf3rio estiver ativo, a homepage ir\xe1 alternar automaticamente entre as classes a cada 30 segundos."})]})]}),(0,tm.jsxs)("div",{style:{marginTop:20,display:"flex",gap:10,flexWrap:"wrap"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>a("fixed"),style:"fixed"===i?{background:"#0b1120",borderColor:"#f97316"}:{},disabled:s,children:"Modo fixo"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:S,style:"random"===i?{background:"#0b1120",borderColor:"#22c55e"}:{},disabled:s,children:"Modo aleat\xf3rio"})]}),(0,tm.jsx)("div",{style:{marginTop:24,fontSize:11,textTransform:"uppercase",letterSpacing:".18em",color:"#9ca3af"},children:"Selecione a classe destacada"}),(0,tm.jsxs)("div",{className:"painel-homepage-grid",children:[e.map(e=>{const r=k(e),o="fixed"===i&&t===e;return(0,tm.jsxs)("button",{type:"button",className:"painel-homepage-thumb ".concat(o?"active":""),onClick:()=>(e=>{const r=t,s=i;a("fixed"),n(e),x(e,"fixed",r,s)})(e),disabled:s,children:[(0,tm.jsx)("img",{src:r,alt:e}),(0,tm.jsx)("span",{children:e})]},e)}),(0,tm.jsx)("button",{type:"button",className:"painel-homepage-thumb random ".concat("random"===i?"active":""),onClick:S,disabled:s,children:(0,tm.jsx)("span",{children:"Modo aleat\xf3rio"})})]})]})}),(0,tm.jsx)("div",{className:"painel-card",children:(0,tm.jsxs)("div",{className:"painel-card-inner",children:[(0,tm.jsx)("h2",{children:"Season 9 Tier List"}),(0,tm.jsx)("div",{className:"painel-page-sub",style:{marginBottom:16},children:"Arraste as classes para as categorias desejadas. As mudan\xe7as s\xe3o salvas automaticamente."}),m&&(0,tm.jsx)("div",{className:"painel-muted",style:{fontSize:11,marginBottom:8},children:m}),(0,tm.jsx)("div",{style:{display:"grid",gap:12},children:["S","A","B","C","D","E"].map(e=>(0,tm.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,tm.jsx)("div",{style:{width:48,height:48,display:"grid",placeItems:"center",fontWeight:900,color:"#fff",background:"S"===e?"#dc2626":"A"===e?"#f97316":"B"===e?"#eab308":"C"===e?"#84cc16":"D"===e?"#22c55e":"#6b7280",boxShadow:"S"===e?"0 0 15px rgba(220,38,38,.5)":"A"===e?"0 0 15px rgba(249,115,22,.5)":"B"===e?"0 0 15px rgba(234,179,8,.5)":"none"},children:e}),(0,tm.jsx)("div",{onDragOver:e=>e.preventDefault(),onDrop:t=>((e,t)=>{e.preventDefault();let n=null;try{n=JSON.parse(e.dataTransfer.getData("text/plain"))}catch(a){n={cls:e.dataTransfer.getData("text/plain"),from:null}}const r=n&&n.cls?n.cls:null;if(!r)return;const i=c(c({},d),{},{S:[...d.S],A:[...d.A],B:[...d.B],C:[...d.C],D:[...d.D],E:[...d.E]});["S","A","B","C","D","E"].forEach(e=>{const t=i[e].indexOf(r);t>=0&&i[e].splice(t,1)}),i[t]=[...i[t],r],h(i),_(i)})(t,e),style:{flex:1,display:"flex",gap:8,flexWrap:"wrap",minHeight:48,border:"1px dashed #e5e7eb",padding:8,borderRadius:8},children:(d[e]||[]).map(t=>(0,tm.jsx)("img",{draggable:!0,onDragStart:n=>C(n,t,e),src:k(t),alt:t,title:t,style:{width:40,height:40,objectFit:"contain",filter:"drop-shadow(0 2px 4px rgba(0,0,0,.4))",background:"#0b0f19"}},t))})]},e))}),(0,tm.jsxs)("div",{style:{marginTop:16},children:[(0,tm.jsx)("div",{className:"painel-page-sub",style:{marginBottom:8},children:"Dispon\xedveis (n\xe3o atribu\xeddas a nenhuma tier):"}),(0,tm.jsx)("div",{onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();let t=null;try{t=JSON.parse(e.dataTransfer.getData("text/plain"))}catch(i){t={cls:e.dataTransfer.getData("text/plain"),from:null}}const n=t&&t.cls?t.cls:null;if(!n)return;const r=c(c({},d),{},{S:[...d.S],A:[...d.A],B:[...d.B],C:[...d.C],D:[...d.D],E:[...d.E]});["S","A","B","C","D","E"].forEach(e=>{const t=r[e].indexOf(n);t>=0&&r[e].splice(t,1)}),h(r),_(r)},style:{display:"flex",gap:8,flexWrap:"wrap",border:"1px dashed #e5e7eb",padding:8,borderRadius:8,minHeight:48},children:N.map(e=>(0,tm.jsx)("img",{draggable:!0,onDragStart:t=>C(t,e,"pool"),src:k(e),alt:e,title:e,style:{width:40,height:40,objectFit:"contain",filter:"drop-shadow(0 2px 4px rgba(0,0,0,.4))",background:"#0b0f19"}},e))})]}),(0,tm.jsxs)("div",{style:{marginTop:16,display:"flex",gap:8},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>y(!0),children:"Ver tierlist completa"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:T,disabled:p,children:"Baixar imagem"})]})]})}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(v?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>y(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content",children:[(0,tm.jsxs)("div",{className:"painel-modal-header",children:[(0,tm.jsx)("div",{className:"painel-modal-title",children:"Tier List Completa"}),(0,tm.jsx)("button",{type:"button",className:"painel-modal-close",onClick:()=>y(!1),children:"\u2715"})]}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsx)("div",{style:{display:"grid",gap:12},children:["S","A","B","C","D","E"].map(e=>(0,tm.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,tm.jsx)("div",{style:{width:48,height:48,display:"grid",placeItems:"center",fontWeight:900,color:"#fff",background:"S"===e?"#dc2626":"A"===e?"#f97316":"B"===e?"#eab308":"C"===e?"#84cc16":"D"===e?"#22c55e":"#6b7280",boxShadow:"S"===e?"0 0 15px rgba(220,38,38,.5)":"A"===e?"0 0 15px rgba(249,115,22,.5)":"B"===e?"0 0 15px rgba(234,179,8,.5)":"none"},children:e}),(0,tm.jsx)("div",{style:{flex:1,display:"flex",gap:8,flexWrap:"wrap",minHeight:48},children:(d[e]||[]).map(e=>(0,tm.jsx)("img",{src:k(e),alt:e,title:e,style:{width:40,height:40,objectFit:"contain",filter:"drop-shadow(0 2px 4px rgba(0,0,0,.4))",background:"#0b0f19"}},e))})]},e))}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:T,children:"Baixar imagem"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>y(!1),children:"Fechar"})]})]})]})]})]})}function fm(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)("all"),[a,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,p]=(0,r.useState)(""),[f,m]=(0,r.useState)(""),[g,v]=(0,r.useState)((new Date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})),[y,b]=(0,r.useState)(""),[w,x]=(0,r.useState)(""),[S,k]=(0,r.useState)(""),[E,N]=(0,r.useState)(""),[_,C]=(0,r.useState)("draft"),[T,I]=(0,r.useState)(""),[P,A]=(0,r.useState)(null),[j,D]=(0,r.useState)(!1),[R,L]=(0,r.useState)(""),O=(0,r.useMemo)(()=>{let t=e;return"all"!==n&&(t=t.filter(e=>(e.status||"draft")===n)),t},[e,n]),M=async()=>{s(!0);try{const e=await gd(du(Ed,"posts")),n=[];e.forEach(e=>n.push(c({id:e.id},e.data()))),n.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),t(n)}finally{s(!1)}};(0,r.useEffect)(()=>{M()},[]);const F=()=>{d(null),p(""),m(""),b(""),x(""),k(""),N(""),C("draft"),v((new Date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})),I("")};return(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsxs)("div",{className:"painel-main",children:[(0,tm.jsxs)("div",{className:"painel-page-header",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"painel-page-title",children:"Gerenciar Blog"}),(0,tm.jsx)("div",{className:"painel-page-sub",children:"Crie, edite e publique not\xedcias para o site Hero Siege Brasil."})]}),(0,tm.jsx)("div",{children:(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>{F(),l(!0)},children:"Nova Postagem"})})]}),(0,tm.jsx)("div",{className:"painel-grid",children:(0,tm.jsx)("div",{className:"painel-card",children:(0,tm.jsxs)("div",{className:"painel-card-inner",children:[(0,tm.jsx)("h2",{children:"Posts"}),(0,tm.jsxs)("div",{className:"painel-row",children:[(0,tm.jsx)("label",{style:{margin:0,fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:".12em",color:"#9ca3af"},children:"Filtro"}),(0,tm.jsxs)("select",{className:"painel-select",value:n,onChange:e=>i(e.target.value),style:{maxWidth:180},children:[(0,tm.jsx)("option",{value:"all",children:"Todos"}),(0,tm.jsx)("option",{value:"published",children:"Publicados"}),(0,tm.jsx)("option",{value:"draft",children:"Rascunhos"})]}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:M,children:a?"Carregando...":"Recarregar"})]}),(0,tm.jsx)("div",{className:"painel-table-wrapper",children:(0,tm.jsxs)("table",{className:"painel-table",children:[(0,tm.jsx)("thead",{children:(0,tm.jsxs)("tr",{children:[(0,tm.jsx)("th",{children:"T\xedtulo"}),(0,tm.jsx)("th",{children:"Data"}),(0,tm.jsx)("th",{children:"Autor"}),(0,tm.jsx)("th",{children:"Tags"}),(0,tm.jsx)("th",{children:"Status"}),(0,tm.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,tm.jsx)("tbody",{children:0===O.length?(0,tm.jsx)("tr",{children:(0,tm.jsx)("td",{colSpan:6,className:"painel-muted",children:"Nenhum post encontrado."})}):O.map(e=>{const t=Array.isArray(e.tags)?e.tags:[],n=(e.status,"painel-tag");return(0,tm.jsxs)("tr",{children:[(0,tm.jsx)("td",{children:(0,tm.jsx)("strong",{children:e.title||"(sem t\xedtulo)"})}),(0,tm.jsx)("td",{children:e.date||""}),(0,tm.jsx)("td",{children:e.author||""}),(0,tm.jsx)("td",{children:t.map(e=>(0,tm.jsx)("span",{className:"painel-tag",children:e},e))}),(0,tm.jsx)("td",{children:(0,tm.jsx)("span",{className:n,children:e.status||"draft"})}),(0,tm.jsxs)("td",{className:"painel-actions-cell",children:[(0,tm.jsx)("button",{type:"button",className:"painel-action-btn painel-action-edit",title:"Editar post",onClick:()=>(e=>{d(e),p(e.author||""),m(e.title||""),v(e.date||""),b(e.image||""),x(e.excerpt||""),k(e.content_html||""),N(Array.isArray(e.tags)?e.tags.join(", "):""),C(e.status||"draft"),I("Editando: ".concat(e.title||e.id)),l(!0)})(e),children:"\u270f\ufe0f"}),(0,tm.jsx)("button",{type:"button",className:"painel-action-btn ".concat("published"===e.status?"painel-action-toggle-published":"painel-action-toggle-draft"),title:"published"===e.status?"Mover para rascunho":"Publicar post",onClick:()=>(async e=>{const t="published"===e.status?"draft":"published";await vd(pu(Ed,"posts",e.id),{status:t,updatedAt:Wu()},{merge:!0}),M()})(e),children:"published"===e.status?"\u2601\ufe0f":"\ud83d\udce4"}),(0,tm.jsx)("button",{type:"button",className:"painel-action-btn painel-action-delete",title:"Excluir post",onClick:()=>(e=>{A(e),L(e.title||"(sem t\xedtulo)"),D(!0)})(e),children:"\ud83d\uddd1\ufe0f"})]})]},e.id)})})]})})]})})})]}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(o?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>l(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content",children:[(0,tm.jsxs)("div",{className:"painel-modal-header",children:[(0,tm.jsx)("div",{className:"painel-modal-title",children:u?"Editar Postagem":"Nova Postagem"}),(0,tm.jsx)("button",{type:"button",className:"painel-modal-close",onClick:()=>l(!1),children:"\xd7"})]}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-author",children:"Autor"}),(0,tm.jsx)("input",{id:"painel-author",className:"painel-input",value:h,onChange:e=>p(e.target.value),placeholder:"Nome do autor"}),(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-title",children:"T\xedtulo"}),(0,tm.jsx)("input",{id:"painel-title",className:"painel-input",value:f,onChange:e=>m(e.target.value),placeholder:"T\xedtulo da not\xedcia"}),(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-date",children:"Data (exibi\xe7\xe3o)"}),(0,tm.jsx)("input",{id:"painel-date",className:"painel-input",value:g,onChange:e=>v(e.target.value),placeholder:"Ex.: Mar 10, 2026"}),(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-image",children:"Imagem (URL)"}),(0,tm.jsx)("input",{id:"painel-image",className:"painel-input",value:y,onChange:e=>b(e.target.value),placeholder:"https://..."}),(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-excerpt",children:"Resumo"}),(0,tm.jsx)("input",{id:"painel-excerpt",className:"painel-input",value:w,onChange:e=>x(e.target.value),placeholder:"Resumo curto"}),(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-content",children:"Conte\xfado (HTML)"}),(0,tm.jsx)("textarea",{id:"painel-content",className:"painel-textarea",value:S,onChange:e=>k(e.target.value),placeholder:"<p>...</p>"}),(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-tags",children:"Tags (separadas por v\xedrgula)"}),(0,tm.jsx)("input",{id:"painel-tags",className:"painel-input",value:E,onChange:e=>N(e.target.value),placeholder:"ex.: season 9, prophet, patch"}),(0,tm.jsx)("label",{className:"painel-login-label",htmlFor:"painel-status",children:"Status"}),(0,tm.jsxs)("select",{id:"painel-status",className:"painel-select",value:_,onChange:e=>C(e.target.value),children:[(0,tm.jsx)("option",{value:"draft",children:"Rascunho"}),(0,tm.jsx)("option",{value:"published",children:"Publicado"})]}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:F,children:"Limpar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{I("Salvando...");const e=(E||"").split(",").map(e=>e.trim()).filter(Boolean),t=Array.from(new Set(e)),n={author:h||"",title:f||"",date:g||"",image:y||"",excerpt:w||"",content_html:S||"",tags:t,status:_||"draft",updatedAt:Wu()};try{u&&u.id?(await vd(pu(Ed,"posts",u.id),n,{merge:!0}),I("Post atualizado.")):(await bd(du(Ed,"posts"),c(c({},n),{},{createdAt:Wu()})),I("Post criado.")),F(),l(!1),M()}catch(r){const e=r&&r.code?r.code:"";I("permission-denied"===e?"Permiss\xe3o negada: verifique as Regras do Firestore para o projeto.":"Falha ao salvar post (erro: ".concat(e||"desconhecido",")."))}},children:"Salvar"})]}),(0,tm.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:T})]})]})]}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(j?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>D(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content small",children:[(0,tm.jsx)("div",{className:"painel-modal-header",children:(0,tm.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsxs)("p",{className:"painel-muted",children:['Tem certeza que deseja excluir o post "',R,'"?']}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>D(!1),children:"Cancelar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(P)try{await yd(pu(Ed,"posts",P.id))}finally{D(!1),A(null),M()}else D(!1)},children:"Excluir"})]})]})]})]})]})}function mm(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)("all"),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[x,S]=(0,r.useState)(null),[k,E]=(0,r.useState)(""),N=async()=>{i(!0),s("");const e=[];try{const n=await gd(hu(Ed,"comments"));if(n.empty)return t([]),s("Sem coment\xe1rios."),void i(!1);const r=[];n.forEach(t=>{const n=t.data(),i=t.ref.parent.parent;r.push((async()=>{let r="(post)",a="";if(i){const e=await md(i);r=e&&e.exists()?e.data().title||e.id:"(post)",a=i.id}e.push({id:t.id,ref:t.ref,author:n&&n.author?n.author:"An\xf4nimo",text:n&&n.text?n.text:"",approved:n&&!0===n.approved,postTitle:r,postId:a})})())}),await Promise.all(r),0===e.length?(t([]),s("Sem coment\xe1rios.")):t(e)}catch(n){const e=n&&n.code?n.code:"erro";t([]),s("Falha ao carregar coment\xe1rios (".concat(e,")."))}finally{i(!1)}};(0,r.useEffect)(()=>{N()},[]);const _=(0,r.useMemo)(()=>"pending"===o?e.filter(e=>!e.approved):"approved"===o?e.filter(e=>e.approved):e,[e,o]);return(0,tm.jsxs)("div",{className:"painel-main",children:[(0,tm.jsxs)("div",{className:"painel-page-header",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"painel-page-title",children:"Moderar Coment\xe1rios"}),(0,tm.jsx)("div",{className:"painel-page-sub",children:"Aprove, edite ou exclua coment\xe1rios nas p\xe1ginas de classes e posts."})]}),(0,tm.jsxs)("div",{className:"painel-row",children:[(0,tm.jsxs)("select",{className:"painel-select",value:o,onChange:e=>l(e.target.value),style:{maxWidth:180},children:[(0,tm.jsx)("option",{value:"all",children:"Todos"}),(0,tm.jsx)("option",{value:"pending",children:"Pendentes"}),(0,tm.jsx)("option",{value:"approved",children:"Aprovados"})]}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:N,children:n?"Atualizando...":"Recarregar"})]})]}),(0,tm.jsx)("div",{className:"painel-card",children:(0,tm.jsxs)("div",{className:"painel-card-inner",children:[(0,tm.jsx)("h2",{children:"Coment\xe1rios"}),a&&(0,tm.jsx)("div",{className:"painel-muted",style:{marginTop:8},children:a}),(0,tm.jsx)("div",{className:"painel-list",style:{marginTop:10},children:_.map(e=>(0,tm.jsxs)("div",{className:"painel-list-item",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("strong",{children:e.author})," em ",(0,tm.jsx)("em",{children:e.postTitle}),(0,tm.jsx)("span",{className:"painel-tag",style:{marginLeft:8},children:e.approved?"Aprovado":"Pendente"})]}),(0,tm.jsx)("div",{className:"painel-muted",children:e.text})]}),(0,tm.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(async e=>{const t=!e.approved;await vd(e.ref,{approved:t,updatedAt:Wu()},{merge:!0}),N()})(e),title:e.approved?"Marcar como pendente":"Aprovar",children:e.approved?"\u23f3 Pendente":"\u2705 Aprovar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(e=>{h(e),f(e.author||""),g(e.text||""),y(!!e.approved),u(!0)})(e),title:"Editar",children:"\u270f\ufe0f Editar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:()=>(e=>{S(e),E(e&&e.text?e.text.length>60?e.text.slice(0,60)+"\u2026":e.text:(null===e||void 0===e?void 0:e.id)||""),w(!0)})(e),children:"\ud83d\uddd1\ufe0f Excluir"})]})]},e.id))})]})}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(b?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>w(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content small",children:[(0,tm.jsx)("div",{className:"painel-modal-header",children:(0,tm.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsx)("p",{className:"painel-muted",children:"Tem certeza que deseja excluir este coment\xe1rio?"}),(0,tm.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:k}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>w(!1),children:"Cancelar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(x)try{await yd(x.ref)}finally{w(!1),S(null),N()}else w(!1)},children:"Excluir"})]})]})]})]}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(c?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>u(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content small",children:[(0,tm.jsx)("div",{className:"painel-modal-header",children:(0,tm.jsx)("div",{className:"painel-modal-title",children:"Editar coment\xe1rio"})}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsx)("label",{className:"painel-login-label",children:"Autor"}),(0,tm.jsx)("input",{className:"painel-input",value:p,onChange:e=>f(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Texto"}),(0,tm.jsx)("textarea",{className:"painel-textarea",value:m,onChange:e=>g(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Status"}),(0,tm.jsxs)("select",{className:"painel-select",value:v?"approved":"pending",onChange:e=>y("approved"===e.target.value),children:[(0,tm.jsx)("option",{value:"pending",children:"Pendente"}),(0,tm.jsx)("option",{value:"approved",children:"Aprovado"})]}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>u(!1),children:"Cancelar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{d?(await vd(d.ref,{author:p||"An\xf4nimo",text:m||"",approved:!!v,updatedAt:Wu()},{merge:!0}),u(!1),h(null),N()):u(!1)},children:"Salvar"})]})]})]})]})]})}function gm(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)("all"),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[p,f]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(""),[b,w]=(0,r.useState)(""),[x,S]=(0,r.useState)(""),[k,E]=(0,r.useState)(""),[N,_]=(0,r.useState)(""),[C,T]=(0,r.useState)(!1),[I,P]=(0,r.useState)(!1),[A,j]=(0,r.useState)(null),[D,R]=(0,r.useState)(""),L=async()=>{i(!0),s("");const e=[];try{const n=await gd(du(Ed,"messages"));if(n.empty)return t([]),s("Sem mensagens."),void i(!1);n.forEach(t=>{const n=t.data()||{};e.push({id:t.id,ref:t.ref,name:n.name||"",email:n.email||"",category:n.category||"",text:n.message||"",imageUrl:n.imageUrl||"",read:!0===n.read,createdAt:n.createdAt||null})}),e.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),t(e)}catch(n){const e=n&&n.code?n.code:"erro";t([]),s("Falha ao carregar mensagens (".concat(e,")."))}finally{i(!1)}};(0,r.useEffect)(()=>{L()},[]);const O=e=>{const t=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:null;if(!t)return"";const n=new Date(1e3*t),r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getFullYear()),s=String(n.getHours()).padStart(2,"0"),o=String(n.getMinutes()).padStart(2,"0");return"".concat(r,"/").concat(i,"/").concat(a," ").concat(s,":").concat(o)},M=(0,r.useMemo)(()=>"unread"===o?e.filter(e=>!e.read):"read"===o?e.filter(e=>e.read):e,[e,o]);return(0,tm.jsxs)("div",{className:"painel-main",children:[(0,tm.jsxs)("div",{className:"painel-page-header",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"painel-page-title",children:"Mensagens"}),(0,tm.jsx)("div",{className:"painel-page-sub",children:"Leia, edite e modere as mensagens recebidas pelo formul\xe1rio de contato."})]}),(0,tm.jsxs)("div",{className:"painel-row",children:[(0,tm.jsxs)("select",{className:"painel-select",value:o,onChange:e=>l(e.target.value),style:{maxWidth:200},children:[(0,tm.jsx)("option",{value:"all",children:"Todas"}),(0,tm.jsx)("option",{value:"unread",children:"N\xe3o lidas"}),(0,tm.jsx)("option",{value:"read",children:"Lidas"})]}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:L,children:n?"Atualizando...":"Recarregar"})]})]}),(0,tm.jsx)("div",{className:"painel-card",children:(0,tm.jsxs)("div",{className:"painel-card-inner",children:[(0,tm.jsx)("h2",{children:"Caixa de entrada"}),a&&(0,tm.jsx)("div",{className:"painel-muted",style:{marginTop:8},children:a}),(0,tm.jsx)("div",{className:"painel-list",style:{marginTop:10},children:M.map(e=>(0,tm.jsxs)("div",{className:"painel-list-item",children:[(0,tm.jsxs)("div",{onClick:()=>(async e=>{h(e),u(!0),e.read||(await vd(e.ref,{read:!0,updatedAt:Wu()},{merge:!0}),L())})(e),style:{cursor:"pointer"},children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("strong",{children:e.name||"Sem nome"}),e.email&&(0,tm.jsx)("span",{style:{marginLeft:6,fontSize:11,color:"#6b7280"},children:e.email})]}),(0,tm.jsxs)("div",{style:{fontSize:11,color:"#6b7280",marginTop:2},children:[e.category||"Sem categoria"," \xb7 ",O(e)]}),(0,tm.jsx)("div",{className:"painel-muted",children:(e.text||"").length>120?"".concat(e.text.slice(0,120),"\u2026"):e.text})]}),(0,tm.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,tm.jsx)("span",{className:"painel-tag",style:{background:e.read?"#dcfce7":"#fee2e2",color:e.read?"#166534":"#991b1b"},children:e.read?"Lida":"N\xe3o lida"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(async e=>{const t=!e.read;await vd(e.ref,{read:t,updatedAt:Wu()},{merge:!0}),L()})(e),children:e.read?"Marcar como n\xe3o lida":"Marcar como lida"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(e=>{g(e),y(e.name||""),w(e.email||""),S(e.category||""),E(e.text||""),_(e.imageUrl||""),T(!!e.read),f(!0)})(e),children:"\u270f\ufe0f Editar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:()=>(e=>{j(e);const t=e.text||"";R(t.length>60?"".concat(t.slice(0,60),"\u2026"):t||e.id),P(!0)})(e),children:"\ud83d\uddd1\ufe0f Excluir"})]})]},e.id))})]})}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(c?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>u(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content small",children:[(0,tm.jsx)("div",{className:"painel-modal-header",children:(0,tm.jsx)("div",{className:"painel-modal-title",children:"Detalhes da mensagem"})}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[d&&(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsxs)("div",{className:"painel-muted",style:{marginBottom:8},children:[O(d)," \xb7 ",d.category||"Sem categoria"]}),(0,tm.jsxs)("div",{style:{marginBottom:8},children:[(0,tm.jsx)("strong",{children:d.name||"Sem nome"}),d.email&&(0,tm.jsx)("div",{className:"painel-muted",children:d.email})]}),(0,tm.jsx)("div",{style:{marginBottom:8},children:d.text}),d.imageUrl&&(0,tm.jsxs)("div",{className:"painel-muted",children:["Link de imagem: ",d.imageUrl]})]}),(0,tm.jsx)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>u(!1),children:"Fechar"})})]})]})]}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(I?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>P(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content small",children:[(0,tm.jsx)("div",{className:"painel-modal-header",children:(0,tm.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsx)("p",{className:"painel-muted",children:"Tem certeza que deseja excluir esta mensagem?"}),(0,tm.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:D}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>P(!1),children:"Cancelar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(A)try{await yd(A.ref)}finally{P(!1),j(null),L()}else P(!1)},children:"Excluir"})]})]})]})]}),(0,tm.jsxs)("div",{className:"painel-modal ".concat(p?"":"hidden"),children:[(0,tm.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>f(!1)}),(0,tm.jsxs)("div",{className:"painel-modal-content small",children:[(0,tm.jsx)("div",{className:"painel-modal-header",children:(0,tm.jsx)("div",{className:"painel-modal-title",children:"Editar mensagem"})}),(0,tm.jsxs)("div",{className:"painel-modal-body",children:[(0,tm.jsx)("label",{className:"painel-login-label",children:"Nome"}),(0,tm.jsx)("input",{className:"painel-input",value:v,onChange:e=>y(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"E-mail"}),(0,tm.jsx)("input",{className:"painel-input",value:b,onChange:e=>w(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Categoria"}),(0,tm.jsx)("input",{className:"painel-input",value:x,onChange:e=>S(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Mensagem"}),(0,tm.jsx)("textarea",{className:"painel-textarea",value:k,onChange:e=>E(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Link de imagem"}),(0,tm.jsx)("input",{className:"painel-input",value:N,onChange:e=>_(e.target.value)}),(0,tm.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Status"}),(0,tm.jsxs)("select",{className:"painel-select",value:C?"read":"unread",onChange:e=>T("read"===e.target.value),children:[(0,tm.jsx)("option",{value:"unread",children:"N\xe3o lida"}),(0,tm.jsx)("option",{value:"read",children:"Lida"})]}),(0,tm.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:()=>f(!1),children:"Cancelar"}),(0,tm.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{m?(await vd(m.ref,{name:v||"",email:b||"",category:x||"",message:k||"",imageUrl:N||"",read:!!C,updatedAt:Wu()},{merge:!0}),f(!1),g(null),L()):f(!1)},children:"Salvar"})]})]})]})]})]})}const vm=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[a,s]=(0,r.useState)(()=>am());(0,r.useEffect)(()=>{const e=function(e,t,n,r){return z(e).onAuthStateChanged(t,n,r)}(Zf(Nd),e=>{e&&e.email&&e.email.toLowerCase()===nm&&e.uid===rm?i(e):i(null),t(!0)});return()=>{e()}},[]),(0,r.useEffect)(()=>{const e=()=>{s(am())};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);const o=(0,r.useMemo)(()=>n?"login"===a?"dashboard":a:"login",[n,a]);return e?n?(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsx)(sm,{}),(0,tm.jsx)(lm,{onLogout:async()=>{const e=Zf(Nd);await Ap(e),window.location.hash="#painel/login"}}),(0,tm.jsxs)("div",{className:"painel-layout",children:[(0,tm.jsx)(cm,{view:o,onChange:s}),"dashboard"===o&&(0,tm.jsx)(um,{}),"blog"===o&&(0,tm.jsx)(fm,{}),"comments"===o&&(0,tm.jsx)(mm,{}),"messages"===o&&(0,tm.jsx)(gm,{}),"forum"===o&&(0,tm.jsx)(hm,{}),"homepage"===o&&(0,tm.jsx)(pm,{})]})]}):(0,tm.jsx)(om,{}):(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsx)(sm,{}),(0,tm.jsx)("div",{className:"painel-login-container",children:(0,tm.jsx)("div",{className:"painel-login-card",children:(0,tm.jsx)("p",{className:"painel-login-sub",children:"Carregando painel..."})})})]})},ym=r.memo(function(e){let{postId:t}=e;const[n,i]=(0,r.useState)([]),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)(""),[u,d]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const r=du(Ed,"posts",t,"comments");let a;try{a=ed(r,nd("approved","==",!0))}catch(n){a=r}const s=await gd(a),o=[];s.forEach(e=>{const t=e.data();!0===t.approved&&o.push(c({id:e.id},t))}),o.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),e&&i(o)}catch(r){e&&i([])}})(),()=>{e=!1}},[t]);return(0,tm.jsxs)("div",{children:[(0,tm.jsxs)("div",{className:"space-y-3 mb-6",children:[0===n.length&&(0,tm.jsx)("div",{className:"text-gray-500 text-sm",children:"Sem coment\xe1rios aprovados ainda."}),n.map(e=>(0,tm.jsxs)("div",{className:"border border-white/10 p-3 bg-black/30",children:[(0,tm.jsx)("div",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:e.author||"An\xf4nimo"}),(0,tm.jsx)("div",{className:"text-sm text-gray-200 mt-1",children:e.text})]},e.id))]}),(0,tm.jsxs)("div",{className:"border border-white/10 p-4 bg-black/30",children:[(0,tm.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,tm.jsx)("input",{value:a,onChange:e=>s(e.target.value),placeholder:"Seu nome",className:"bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 outline-none"}),(0,tm.jsx)("input",{value:o,onChange:e=>l(e.target.value),placeholder:"Seu coment\xe1rio",className:"bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 outline-none"})]}),(0,tm.jsxs)("div",{className:"mt-3 flex items-center gap-3",children:[(0,tm.jsx)("button",{onClick:async()=>{if(a&&o)try{await bd(du(Ed,"posts",t,"comments"),{author:a,text:o,approved:!1,createdAt:Wu()}),s(""),l(""),d(!0)}catch(e){}},className:"border border-white/10 text-white font-bold uppercase px-6 py-3 text-xs tracking-widest hover:bg-white/5 transition-colors",children:"Enviar"}),u&&(0,tm.jsx)("span",{className:"text-xs text-gray-400",children:"Enviado para aprova\xe7\xe3o."})]})]})]})}),bm=ym,wm=[{name:"Barbed Shield",stats:["Dmg Returned"],l1:["10%"],l5:["60%"],l10:["200%"]},{name:"Bonsai Tree",stats:["Vitality","Magic Find"],l1:["+2","2%"],l5:["+10","10%"],l10:["+20","20%"]},{name:"Bracer of Life",stats:["Replenish Life"],l1:["5%"],l5:["25%"],l10:["50%"]},{name:"Butterfly Knife",stats:["Atk Speed","Crit Dmg"],l1:["+2%","+2%"],l5:["+10%","+10%"],l10:["+20%","+20%"]},{name:"Cake",stats:["Life Increased"],l1:["2%"],l5:["10%"],l10:["20%"]},{name:"Charmed Blood",stats:["Life Stolen"],l1:["1%"],l5:["5%"],l10:["10%"]},{name:"Cheese Burger",stats:["Replenish Life","Life"],l1:["5%","+25"],l5:["25%","+245"],l10:["50%","+580"]},{name:"Commander's Sword",stats:["Move Speed","Atk Damage"],l1:["-2%","10%"],l5:["-10%","50%"],l10:["-20%","100%"]},{name:"Cookies & Milk",img:"https://herosiege.wiki.gg/images/Relics_Cookies_%26_Milk.png",stats:["Replenish Life","Replenish Mana"],l1:["3%","3%"],l5:["15%","15%"],l10:["30%","30%"]},{name:"Damned Buckler",stats:["Armor","FHR"],l1:["+5","2%"],l5:["+16","10%"],l10:["+32","20%"]},{name:"Dirge",stats:["Atk Rating","Add Phys Dmg"],l1:["+12","+8"],l5:["+110","+128"],l10:["+475","+1896"]},{name:"Doom Flute",stats:["Strength","Dexterity"],l1:["+4","+4"],l5:["+12","+12"],l10:["+22","+22"]},{name:"Fortune Card",stats:["Extra Gold","Magic Find"],l1:["3%","3%"],l5:["15%","15%"],l10:["30%","30%"]},{name:"Half Eaten Mochi",stats:["Life After Kill","Mana After Kill"],l1:["+3","+3"],l5:["+11","+11"],l10:["+21","+21"]},{name:"Hand of Midas",stats:["Extra Gold"],l1:["+4%"],l5:["+20%"],l10:["+40%"]},{name:"Hand Scythe",stats:["Atk Speed","Atk Rating"],l1:["+3%","+2%"],l5:["+15%","+10%"],l10:["+30%","+20%"]},{name:"Hellscream Axe",stats:["Add Phys Dmg","Add Fire Dmg"],l1:["+8","+8"],l5:["+128","+128"],l10:["+1696","+1696"]},{name:"Horned Mask",stats:["Dmg Returned","Phys Dmg Reduct"],l1:["2%","1%"],l5:["10%","5%"],l10:["20%","10%"]},{name:"Jefre's Subscription",img:"https://herosiege.wiki.gg/images/Relics_Jefre%27s_Subscription.png",stats:["Light Radius","Magic Find"],l1:["+1","3%"],l5:["+5","15%"],l10:["+10","30%"]},{name:"King's Crown",img:"https://herosiege.wiki.gg/images/Relics_King%27s_Crown.png",stats:["Extra Gold"],l1:["3%"],l5:["18%"],l10:["35%"]},{name:"Light Katana",stats:["Atk Speed"],l1:["+4%"],l5:["+20%"],l10:["+40%"]},{name:"Lost Wand",stats:["Cast Rate","Energy"],l1:["+4%","+5"],l5:["+20%","+25"],l10:["+40%","+50"]},{name:"Magic Mushroom",stats:["All Attributes"],l1:["+3"],l5:["+15"],l10:["+30"]},{name:"Mayo's Old Sock",img:"https://herosiege.wiki.gg/images/Relics_Mayo%27s_Old_Sock.png",stats:["Vitality","Life"],l1:["+2","+10"],l5:["+10","+110"],l10:["+20","+600"]},{name:"Monkey King Bar",stats:["Move Speed","Atk Damage"],l1:["3%","2%"],l5:["+15%","10%"],l10:["+30%","20%"]},{name:"Newt Tail",stats:["Move Speed","Magic Find"],l1:["3%","2%"],l5:["15%","10%"],l10:["30%","20%"]},{name:"Nunchucks",stats:["Atk Speed","Crit Dmg"],l1:["3%","3%"],l5:["15%","15%"],l10:["30%","30%"]},{name:"Odd Book of Spells",stats:["Magic Skill Dmg"],l1:["1%"],l5:["5%"],l10:["10%"]},{name:"Razer Blade",stats:["Crit Dmg"],l1:["+5%"],l5:["+25%"],l10:["+50%"]},{name:"Rock Belt",stats:["Move Speed","Strength"],l1:["3%","+3"],l5:["15%","+15"],l10:["30%","+30"]},{name:"Sausage",stats:["Life Inc.","Mana Inc."],l1:["1%","1%"],l5:["5%","5%"],l10:["10%","10%"]},{name:"Skull Axe",stats:["Atk Rating","Strength"],l1:["+10","+4"],l5:["+80","+20"],l10:["+250","+40"]},{name:"Spirit Skull",stats:["Strength","Vitality"],l1:["+3","+3"],l5:["+15","+15"],l10:["+30","+30"]},{name:"Steam Sale",stats:["Merchant Prices Reduced"],l1:["1%"],l5:["5%"],l10:["10%"]},{name:"Stigmata",stats:["Mana Costs","Replenish Mana"],l1:["3%","1%"],l5:["15%","5%"],l10:["30%","10%"]},{name:"The Amputation Kit",stats:["Move Speed"],l1:["+5%"],l5:["+25%"],l10:["+50%"]},{name:"The Holy Bible",stats:["All Attributes","All Skills"],l1:["+1","+1"],l5:["+5","+2"],l10:["+10","---"]},{name:"The Spoon",stats:["Replenish Mana","Mana"],l1:["3%","+5"],l5:["15%","+25"],l10:["30%","+50"]},{name:"Token of Luck",stats:["Magic Find"],l1:["2%"],l5:["18%"],l10:["50%"]},{name:"Triforce",stats:["All Stats","All Resistances"],l1:["+3","+3%"],l5:["+15","+15%"],l10:["+30","+30%"]},{name:"Twin Blade",stats:["Crit Chance","Crit Dmg"],l1:["1%","3%"],l5:["5%","15%"],l10:["10%","30%"]},{name:"Whip",stats:["Atk Speed","Add Phys Dmg"],l1:["3%","+5"],l5:["15%","+25"],l10:["30%","+50"]}].slice().sort((e,t)=>e.name.localeCompare(t.name)),xm=()=>{const[e,t]=(0,r.useState)(""),n=(0,r.useMemo)(()=>{const t=e.trim().toLowerCase();return t?wm.filter(e=>{const n=(e.name||"").toLowerCase(),r=(e.stats||[]).join(" ").toLowerCase();return n.includes(t)||r.includes(t)}):wm},[e]),i=e=>{if(!e)return"text-gray-300";const t=String(e).trim();return"---"===t?"text-gray-400":t.startsWith("-")?"text-red-400":"text-green-400"},a=(e,t)=>{const n=e.stats||[],r=e[t]||[];return n.map((n,a)=>{const s=r[a]||"---";return(0,tm.jsxs)("div",{className:"text-xs",children:[(0,tm.jsxs)("span",{className:"text-[10px] text-gray-400 mr-1",children:[n,":"]}),(0,tm.jsx)("span",{className:i(s),children:s})]},"".concat(e.name,"-").concat(t,"-").concat(a))})},s=e=>{if(e.img)return(t=e.img)&&"string"===typeof t?t.replace(/^http:/i,"https:"):"";var t;const n=String(e.name||"").replace(/ /g,"_").replace(/'/g,"%27");return"https://herosiege.wiki.gg/images/Relics_".concat(n,".png")};return(0,tm.jsxs)("div",{className:"space-y-4",children:[(0,tm.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[(0,tm.jsxs)("div",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Rel\xedquias Passivas \xb7 ",n.length," itens"]}),(0,tm.jsx)("div",{children:(0,tm.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Buscar rel\xedquia...",className:"w-full md:w-80 bg-[#1c1c21] border border-white/10 px-3 py-2 text-sm text-white rounded focus:outline-none focus:border-yellow-400"})})]}),(0,tm.jsxs)("div",{className:"overflow-x-auto border border-white/10 bg-[#151923] rounded",children:[(0,tm.jsxs)("table",{className:"min-w-full text-sm",children:[(0,tm.jsx)("thead",{children:(0,tm.jsxs)("tr",{className:"bg-[#1c1c21] border-b border-white/10",children:[(0,tm.jsx)("th",{className:"px-4 py-3 text-left text-[11px] font-bold uppercase tracking-widest text-yellow-300",children:"Rel\xedquia"}),(0,tm.jsx)("th",{className:"px-4 py-3 text-left text-[11px] font-bold uppercase tracking-widest text-yellow-300",children:"Level 1"}),(0,tm.jsx)("th",{className:"px-4 py-3 text-left text-[11px] font-bold uppercase tracking-widest text-yellow-300",children:"Level 5"}),(0,tm.jsx)("th",{className:"px-4 py-3 text-left text-[11px] font-bold uppercase tracking-widest text-yellow-300",children:"Level 10"})]})}),(0,tm.jsx)("tbody",{children:n.map((e,t)=>(0,tm.jsxs)("tr",{className:"border-t border-black/40 ".concat(t%2===0?"bg-black/40":"bg-black/20"," hover:bg-black/60"),children:[(0,tm.jsx)("td",{className:"px-4 py-3",children:(0,tm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tm.jsx)("img",{src:s(e),alt:e.name,className:"w-8 h-8 object-contain",onError:e=>{e.currentTarget.src="https://via.placeholder.com/32?text=?"}}),(0,tm.jsx)("span",{className:"text-sm font-bold text-white",children:e.name})]})}),(0,tm.jsx)("td",{className:"px-4 py-3 align-top",children:a(e,"l1")}),(0,tm.jsx)("td",{className:"px-4 py-3 align-top",children:a(e,"l5")}),(0,tm.jsx)("td",{className:"px-4 py-3 align-top",children:a(e,"l10")})]},e.name))})]}),0===n.length&&(0,tm.jsx)("div",{className:"px-4 py-3 text-xs text-gray-400",children:"Nenhuma rel\xedquia encontrada para esse termo."})]})]})},Sm=e=>{let{activeFilter:t,setActiveFilter:n,filteredClasses:r,onSelectClass:i,classImagePath:a}=e;return(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsxs)("div",{className:"flex items-end justify-between mb-12 border-b border-white/10 pb-6",children:[(0,tm.jsxs)("h2",{className:"text-4xl font-black text-white uppercase italic tracking-tighter",children:["Lista de ",(0,tm.jsx)("span",{className:"text-red-600",children:"Classes"})]}),(0,tm.jsxs)("div",{className:"flex gap-2 text-sm font-bold text-gray-500",children:[(0,tm.jsx)("span",{onClick:()=>n("ALL"),className:"cursor-pointer transition-colors ".concat("ALL"===t?"text-white border-b-2 border-red-600":"hover:text-white"),children:"ALL"}),(0,tm.jsx)("span",{onClick:()=>n("MELEE"),className:"cursor-pointer transition-colors ".concat("MELEE"===t?"text-white border-b-2 border-red-600":"hover:text-white"),children:"MELEE"}),(0,tm.jsx)("span",{onClick:()=>n("RANGED"),className:"cursor-pointer transition-colors ".concat("RANGED"===t?"text-white border-b-2 border-red-600":"hover:text-white"),children:"RANGED"}),(0,tm.jsx)("span",{onClick:()=>n("MAGIC"),className:"cursor-pointer transition-colors ".concat("MAGIC"===t?"text-white border-b-2 border-red-600":"hover:text-white"),children:"MAGIC"})]})]}),(0,tm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:r.map(e=>(0,tm.jsxs)("div",{onClick:()=>i(e.name),className:"group relative h-64 bg-[#151923] border border-white/5 overflow-hidden cursor-pointer hover:border-red-500/50 transition-all duration-300",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-transparent to-transparent z-10"}),(0,tm.jsx)("img",{src:a(e.name),onError:t=>{const n=t.currentTarget;n.dataset.fallback||(n.dataset.fallback="1",n.src=a(e.name,"png"))},alt:e.name,className:"w-full h-full object-cover object-top opacity-60 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500"}),(0,tm.jsxs)("div",{className:"absolute bottom-0 left-0 w-full p-4 z-20",children:[(0,tm.jsx)("h3",{className:"text-white font-black uppercase text-lg italic tracking-wider group-hover:text-red-500 transition-colors",children:e.name}),(0,tm.jsx)("div",{className:"h-1 w-8 bg-red-600 mt-2 transform origin-left scale-x-0 group-hover:scale-x-100 transition-transform duration-300"})]})]},e.name))})]})},km=e=>{const t=(e||"").toLowerCase();return t.includes("satanic set")?{text:"text-green-400",glow:"0 0 18px rgba(74,222,128,0.55)",hex:"#4ade80"}:t.includes("satanic")?{text:"text-red-500",glow:"0 0 18px rgba(239,68,68,0.55)",hex:"#ef4444"}:t.includes("angelic")?{text:"text-yellow-300",glow:"0 0 18px rgba(253,224,71,0.55)",hex:"#fde047"}:t.includes("heroic")?{text:"text-emerald-400",glow:"0 0 18px rgba(52,211,153,0.55)",hex:"#34d399"}:t.includes("unholy")?{text:"text-pink-400",glow:"0 0 18px rgba(244,114,182,0.55)",hex:"#f472b6"}:t.includes("legend")?{text:"text-amber-400",glow:"0 0 18px rgba(251,191,36,0.55)",hex:"#fbbf24"}:t.includes("epic")?{text:"text-purple-400",glow:"0 0 18px rgba(192,132,252,0.55)",hex:"#c084fc"}:t.includes("rare")?{text:"text-blue-400",glow:"0 0 18px rgba(96,165,250,0.55)",hex:"#60a5fa"}:t.includes("magic")?{text:"text-indigo-400",glow:"0 0 18px rgba(129,140,248,0.55)",hex:"#818cf8"}:t.includes("common")||t.includes("normal")?{text:"text-gray-300",glow:"0 0 10px rgba(209,213,219,0.35)",hex:"#d1d5db"}:{text:"text-white",glow:"0 0 0 rgba(0,0,0,0)",hex:"#ffffff"}},Em=e=>{let{itemCategories:t,selectedItemCategory:n,itemsList:r,itemsLoading:i,selectedItem:a,onSelectCategory:s,onBackToCategories:o,onSelectItem:l,onCloseItem:c}=e;return(0,tm.jsxs)("div",{className:"space-y-8",children:[!n&&(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsxs)("div",{className:"flex items-end justify-between mb-2 border-b border-white/10 pb-6",children:[(0,tm.jsxs)("h2",{className:"text-4xl font-black text-white uppercase italic tracking-tighter",children:["Banco de ",(0,tm.jsx)("span",{className:"text-red-600",children:"Itens"})]}),(0,tm.jsx)("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest",children:i?"Carregando...":"".concat(t.length," categorias")})]}),0===t.length&&!i&&(0,tm.jsx)("div",{className:"p-6 border border-white/10 bg-[#151923] text-gray-400 text-sm",children:"Nenhuma categoria encontrada. Importe os dados para o Firestore e recarregue."}),(()=>{const e={};t.forEach(t=>{let n=t.group||"Outros";(t.title||"").toLowerCase().includes("throwing")&&(n="Weapons"),e[n]||(e[n]=[]),e[n].push(t)});return["Weapons","Armor","Jewellery","Special Items","Misc","Outros"].filter(t=>{var n;return null===(n=e[t])||void 0===n?void 0:n.length}).map(t=>(0,tm.jsxs)("div",{children:[(0,tm.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-3",children:t}),(0,tm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 mb-8",children:e[t].map(e=>(0,tm.jsxs)("div",{onClick:()=>s(e),className:"group relative h-44 bg-[#151923] border border-white/5 overflow-hidden cursor-pointer hover:border-orange-500/50 transition-all duration-300",children:[(0,tm.jsx)("div",{className:"absolute inset-0 z-10 pointer-events-none"}),(0,tm.jsx)("div",{className:"w-full h-full flex items-center justify-center p-4",children:(0,tm.jsx)("img",{src:e.image||"https://herosiege.wiki.gg/images/Item_Chest.png",alt:e.title||e.id,className:"max-h-full max-w-full object-contain"})}),(0,tm.jsx)("div",{className:"absolute bottom-0 left-0 w-full p-3 z-20 bg-black/40 backdrop-blur-sm",children:(0,tm.jsx)("h4",{className:"text-white font-bold uppercase text-xs tracking-wider",children:e.title||e.id})})]},e.id))})]},t))})()]}),n&&(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("button",{onClick:o,className:"text-xs uppercase tracking-widest font-bold text-gray-400 hover:text-white",children:"\u2190 Voltar"}),(0,tm.jsx)("h2",{className:"mt-2 text-3xl font-black text-white uppercase italic tracking-tighter",children:n.title||n.id})]}),(0,tm.jsx)("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest",children:i?"Carregando...":"".concat(r.length," itens")})]}),0===r.length&&!i&&(0,tm.jsx)("div",{className:"p-6 border border-white/10 bg-[#151923] text-gray-400 text-sm",children:"Nenhum item encontrado para esta categoria."}),(()=>{const e=r.filter(e=>e.name&&!e.name.includes("\u25cf")),t={};e.forEach(e=>{const n=e.rarity||"Sem raridade";t[n]||(t[n]=[]),t[n].push(e)});return["Satanic","Satanic Set","Heroic","Unholy","Angelic","Legendary","Epic","Rare","Magic","Normal","Common","Sem raridade"].filter(e=>{var n;return null===(n=t[e])||void 0===n?void 0:n.length}).map(e=>(0,tm.jsxs)("div",{className:"mb-10",children:[(0,tm.jsxs)("div",{className:"flex items-center gap-3 mb-3",children:[(0,tm.jsx)("div",{className:"px-3 py-1 text-[10px] font-bold uppercase tracking-widest border ".concat(km(e).text),style:{borderColor:km(e).hex},children:e}),(0,tm.jsx)("div",{className:"h-px bg-white/10 flex-1"})]}),(0,tm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4",children:t[e].map(e=>(0,tm.jsxs)("div",{onClick:()=>l(e),className:"bg-[#151923] border-2 p-4 transition-colors cursor-pointer",style:{boxShadow:km(e.rarity).glow,borderColor:km(e.rarity).hex},children:[(0,tm.jsx)("div",{className:"h-24 w-full flex items-center justify-center mb-3 bg-black/30",children:e.image?(0,tm.jsx)("img",{src:e.image,alt:e.name,className:"max-h-full max-w-full object-contain"}):(0,tm.jsx)("span",{className:"text-gray-600 text-3xl",children:"\ud83c\udf92"})}),(0,tm.jsx)("h4",{className:"font-bold text-sm leading-tight ".concat(km(e.rarity).text),children:e.name||e.id}),e.rarity&&(0,tm.jsx)("span",{className:"mt-1 inline-block text-[10px] uppercase font-bold tracking-widest text-gray-400",children:e.rarity})]},e.id))})]},e))})()]}),a&&(0,tm.jsx)("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-start md:items-center justify-center p-4 md:p-6",onClick:c,children:(0,tm.jsxs)("div",{className:"w-full max-w-2xl max-h-[85vh] overflow-y-auto bg-[#0f111a] border border-white/10 relative rounded-sm",onClick:e=>e.stopPropagation(),children:[(0,tm.jsx)("div",{className:"sticky top-0 z-10 flex justify-end p-3 bg-[#0f111a]/80 backdrop-blur border-b border-white/10",children:(0,tm.jsx)("button",{onClick:c,className:"text-gray-400 hover:text-white text-xl leading-none","aria-label":"Fechar",children:"\xd7"})}),(0,tm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-0",children:[(0,tm.jsx)("div",{className:"p-6 border-b md:border-b-0 md:border-r border-white/10 flex items-center justify-center bg-[#151923]",children:a.image?(0,tm.jsx)("img",{src:a.image,alt:a.name,className:"max-h-40 object-contain"}):(0,tm.jsx)("span",{className:"text-5xl",children:"\ud83c\udf92"})}),(0,tm.jsxs)("div",{className:"p-6 md:col-span-2",children:[(0,tm.jsx)("h3",{className:"text-2xl font-black uppercase italic tracking-tighter ".concat(km(a.rarity).text),children:a.name}),a.rarity&&(0,tm.jsx)("div",{className:"mt-1 inline-block text-[10px] uppercase font-bold tracking-widest text-gray-400",children:a.rarity}),a.description&&(0,tm.jsx)("p",{className:"mt-4 text-gray-300 text-sm leading-relaxed",children:a.description}),a.data&&(0,tm.jsxs)("div",{className:"mt-6",children:[(0,tm.jsx)("h4",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-2",children:"Detalhes"}),(0,tm.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 text-sm text-gray-300",children:Object.entries(a.data).map(e=>{let[t,n]=e;return(0,tm.jsxs)("div",{className:"flex justify-between gap-3 border-b border-white/5 py-1",children:[(0,tm.jsx)("span",{className:"text-gray-500",children:t}),(0,tm.jsx)("span",{className:"text-white",children:n})]},t)})})]})]})]})]})})]})},Nm=[{name:"Old",tier:"D",lvl:11,stats:"+25% Enhanced Damage"},{name:"Ol",tier:"D",lvl:11,stats:"+50 to Attack Rating"},{name:"Tor",tier:"D",lvl:13,stats:"+2 Mana After each Kill"},{name:"Naf",tier:"D",lvl:13,stats:"+15% Defense vs Missiles"},{name:"Uth",tier:"D",lvl:15,stats:"+15% of Damage Taken goes to Mana"},{name:"Eth",tier:"D",lvl:15,stats:"+5% of target Defense ignored"},{name:"Tul",tier:"D",lvl:17,stats:"Poison Skill Damage +5%"},{name:"Rex",tier:"C",lvl:19,stats:"Fire Skill Damage +5%"},{name:"Ert",tier:"C",lvl:21,stats:"Lightning Skill Damage +5%"},{name:"Thal",tier:"C",lvl:23,stats:"Cold Skill Damage +5%"},{name:"Ymn",tier:"C",lvl:25,stats:"+7% Life stolen per Hit"},{name:"Nut",tier:"C",lvl:29,stats:"+4% Increased Attack Speed"},{name:"Del",tier:"C",lvl:31,stats:"Arcane Skill Damage +5%"},{name:"Hel",tier:"C",lvl:33,stats:"Cooldown Recovery +4%"},{name:"Io",tier:"C",lvl:35,stats:"+10 Vitality"},{name:"Lum",tier:"C",lvl:37,stats:"+10 Energy"},{name:"Co",tier:"C",lvl:39,stats:"+10 Dexterity"},{name:"Fel",tier:"C",lvl:41,stats:"+10 Strength"},{name:"Lem",tier:"A",lvl:43,stats:"+5% Extra Gold Dropped"},{name:"Pul",tier:"A",lvl:45,stats:"Mana Costs decreased by 3%"},{name:"Um",tier:"A",lvl:47,stats:"+8% to All Resistances"},{name:"Mal",tier:"A",lvl:49,stats:"Magic Damage Taken Reduced by 4%"},{name:"Ist",tier:"A",lvl:51,stats:"+15% Increased Magic Find"},{name:"Gul",tier:"A",lvl:53,stats:"+15% Increased Attack Rating"},{name:"Vex",tier:"A",lvl:55,stats:"+7% Mana stolen per Hit"},{name:"Qi",tier:"S",lvl:57,stats:"Attack Damage increased by 20%"},{name:"Xo",tier:"S",lvl:59,stats:"+25% Chance for a Deadly Blow"},{name:"Sur",tier:"S",lvl:61,stats:"Mana Increased by 10%"},{name:"Ber",tier:"S",lvl:63,stats:"+8% Chance for a Crushing Blow"},{name:"Jah",tier:"S",lvl:65,stats:"Life Increased by 10%"},{name:"Drax",tier:"S",lvl:67,stats:"Cannot be Frozen"},{name:"Zed",tier:"S",lvl:69,stats:"Magic Skill Damage +13%"},{name:"Fawn",tier:"ANG",lvl:100,stats:"All Damage Taken Reduced by 3%"},{name:"Flo",tier:"ANG",lvl:100,stats:"+2% to Maximum All Resists"},{name:"Nju",tier:"ANG",lvl:100,stats:"-3% to All Enemy Resistances"},{name:"Jol",tier:"ANG",lvl:100,stats:"+1 to Projectile Speed"}],_m=e=>{if(!e)return"https://via.placeholder.com/32?text=R";const t=String(e).trim();return"https://herosiege.wiki.gg/images/Rune_".concat(t,".png")},Cm=e=>{const t=(e||"").toUpperCase();return"D"===t?"bg-gray-600 text-white":"C"===t?"bg-blue-700 text-white":"A"===t?"bg-red-700 text-white":"S"===t?"bg-purple-700 text-white":"ANG"===t?"bg-yellow-300 text-black shadow-[0_0_8px_rgba(250,204,21,0.8)]":"bg-gray-700 text-white"},Tm=()=>{const[e,t]=(0,r.useState)(""),n=(0,r.useMemo)(()=>{const t=e.trim().toUpperCase();return t?Nm.filter(e=>"".concat(e.name," ").concat(e.tier).concat(e.lvl," ").concat(e.stats).toUpperCase().includes(t)):Nm},[e]);return(0,tm.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,tm.jsxs)("div",{className:"flex items-end justify-between mb-4 border-b border-white/10 pb-4",children:[(0,tm.jsx)("h2",{className:"text-4xl font-black text-white uppercase italic tracking-tighter",children:"Runas"}),(0,tm.jsxs)("div",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest",children:[n.length," runas"]})]}),(0,tm.jsx)("div",{className:"flex justify-center mb-4",children:(0,tm.jsx)("input",{type:"text",placeholder:"Buscar por nome, tier ou efeito...",value:e,onChange:e=>t(e.target.value),className:"w-full max-w-xl bg-[#1c1c21] border border-white/10 text-white text-sm px-4 py-3 rounded-sm outline-none focus:border-amber-400"})}),(0,tm.jsx)("div",{className:"overflow-x-auto border border-white/10 bg-[#151518]",children:(0,tm.jsxs)("table",{className:"min-w-full divide-y divide-white/10",children:[(0,tm.jsx)("thead",{children:(0,tm.jsxs)("tr",{className:"bg-[#1c1c21]",children:[(0,tm.jsx)("th",{className:"px-4 py-3 text-left text-[11px] font-bold uppercase tracking-widest text-amber-400 border-b border-amber-400",children:"Runa"}),(0,tm.jsx)("th",{className:"px-4 py-3 text-left text-[11px] font-bold uppercase tracking-widest text-amber-400 border-b border-amber-400",children:"Tier/Lvl"}),(0,tm.jsx)("th",{className:"px-4 py-3 text-left text-[11px] font-bold uppercase tracking-widest text-amber-400 border-b border-amber-400",children:"Efeito"})]})}),(0,tm.jsx)("tbody",{children:n.map(e=>(0,tm.jsxs)("tr",{className:"hover:bg-[#1a1a1f] border-b border-white/5",children:[(0,tm.jsx)("td",{className:"px-4 py-3",children:(0,tm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tm.jsx)("img",{src:_m(e.name),alt:e.name,onError:e=>{e.currentTarget.src="https://via.placeholder.com/32?text=R"},className:"w-7 h-7 object-contain",style:{imageRendering:"pixelated"}}),(0,tm.jsx)("span",{className:"text-white font-bold text-sm",children:e.name})]})}),(0,tm.jsx)("td",{className:"px-4 py-3",children:(0,tm.jsxs)("span",{className:"inline-block text-[10px] font-bold px-2 py-1 rounded ".concat(Cm(e.tier)),children:[e.tier,e.lvl]})}),(0,tm.jsx)("td",{className:"px-4 py-3",children:(0,tm.jsx)("span",{className:"text-amber-400 font-semibold text-sm",children:e.stats})})]},"".concat(e.name,"-").concat(e.lvl)))})]})})]})},Im=e=>{var t;let{onBack:n}=e;const[i,a]=(0,r.useState)("home"),[s,o]=(0,r.useState)("ALL"),[l,u]=(0,r.useState)(!1),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=e=>{d&&d.current&&!d.current.contains(e.target)&&u(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,r.useEffect)(()=>{u(!1)},[i]);const h=[{name:"Viking",type:"MELEE"},{name:"Pyromancer",type:"MAGIC"},{name:"Marksman",type:"RANGED"},{name:"Pirate",type:"RANGED"},{name:"Nomad",type:"MELEE"},{name:"Redneck",type:"MELEE"},{name:"Necromancer",type:"MAGIC"},{name:"Samurai",type:"MELEE"},{name:"Paladin",type:"MELEE"},{name:"Amazon",type:"RANGED"},{name:"Demon Slayer",type:"RANGED"},{name:"Demonspawn",type:"MELEE"},{name:"Shaman",type:"MAGIC"},{name:"White Mage",type:"MAGIC"},{name:"Marauder",type:"MELEE"},{name:"Plague Doctor",type:"MAGIC"},{name:"Shield Lancer",type:"MELEE"},{name:"J\xf6tunn",type:"MELEE"},{name:"Illusionist",type:"MAGIC"},{name:"Exo",type:"MELEE"},{name:"Butcher",type:"MELEE"},{name:"Stormweaver",type:"MAGIC"},{name:"Bard",type:"MAGIC"}],p="ALL"===s?h:h.filter(e=>e.type===s),[f,m]=(0,r.useState)(null),[g,v]=(0,r.useState)("Viking"),[y,b]=(0,r.useState)(null),[w,x]=(0,r.useState)(!1),[S,k]=(0,r.useState)(0),[E,N]=(0,r.useState)({days:0,hours:0,minutes:0}),[_,C]=(0,r.useState)([]),[T,I]=(0,r.useState)(null),[P,A]=(0,r.useState)([]),[j,D]=(0,r.useState)(!1),[R,L]=(0,r.useState)(null),[O,M]=(0,r.useState)([]),[F,q]=(0,r.useState)(null),z=(0,r.useRef)(null),[V,U]=(0,r.useState)(""),[B,H]=(0,r.useState)(""),[W,G]=(0,r.useState)("Contato"),[K,Q]=(0,r.useState)(""),[Y,J]=(0,r.useState)(""),[$,X]=(0,r.useState)(""),[Z,ee]=(0,r.useState)(0),[te,ne]=(0,r.useState)(0),[re,ie]=(0,r.useState)("+"),[ae,se]=(0,r.useState)(!1),[oe,le]=(0,r.useState)(!1),[ce,ue]=(0,r.useState)(""),[de,he]=(0,r.useState)({S:[],A:[],B:[],C:[],D:[],E:[]}),[pe,fe]=(0,r.useState)(!1),[me,ge]=(0,r.useState)(null),[ve,ye]=(0,r.useState)({}),[be,we]=(0,r.useState)({}),[xe,Se]=(0,r.useState)(null),[ke,Ee]=(0,r.useState)(!1),Ne=()=>{const e=Math.floor(10*Math.random()),t=Math.floor(10*Math.random());if(Math.random()<.5){const n=Math.max(e,t),r=Math.min(e,t);ee(n),ne(r),ie("-")}else ee(e),ne(t),ie("+");X("")};(0,r.useEffect)(()=>{"contact"===i&&Ne()},[i]);(0,r.useEffect)(()=>{const e=wd(pu(Ed,"config","tierlist"),e=>{const t=e.data()||{},n={S:Array.isArray(t.S)?t.S:[],A:Array.isArray(t.A)?t.A:[],B:Array.isArray(t.B)?t.B:[],C:Array.isArray(t.C)?t.C:[],D:Array.isArray(t.D)?t.D:[],E:Array.isArray(t.E)?t.E:[]};he(n)});return()=>e()},[]);const _e=(0,r.useMemo)(()=>xe&&xe.content_html?ze(xe.content_html):"",[xe]);(0,r.useEffect)(()=>{const e=wd(du(Ed,"builds"),e=>{const t={},n={};e.forEach(e=>{const r=e.data()||{};if("published"!==(r.status||"draft"))return;const i=r.className||r.heroClass||"",a=r.forum||r.classSlug||(i?Fe(i):"");a&&(t[a]=(t[a]||0)+1,n[a]||(n[a]=[]),n[a].push(c({id:e.id},r)))}),ye(t),we(n)});return()=>e()},[]);const Ce=e=>{const t=String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"");return"".concat("images","/").concat(t,".webp")},Te=e=>"S"===e?{backgroundColor:"rgba(220,38,38,0.12)",borderLeft:"4px solid #dc2626"}:"A"===e?{backgroundColor:"rgba(249,115,22,0.12)",borderLeft:"4px solid #f97316"}:"B"===e?{backgroundColor:"rgba(234,179,8,0.12)",borderLeft:"4px solid #eab308"}:"C"===e?{backgroundColor:"rgba(132,204,22,0.12)",borderLeft:"4px solid #84cc16"}:"D"===e?{backgroundColor:"rgba(34,197,94,0.12)",borderLeft:"4px solid #22c55e"}:{backgroundColor:"rgba(107,114,128,0.12)",borderLeft:"4px solid #6b7280"},[Ie,Pe]=(0,r.useState)(null),[Ae,je]=(0,r.useState)(!1),De=(0,r.useRef)({}),Re=(0,r.useRef)({}),Le=(e,t)=>{const n={viking:["Berserker","Shield Bearer"],pyromancer:["Fire Mage","Burning Soul"],marksman:["Hunter","Marksman"],pirate:["Shipmaster","Cannoneer"],nomad:["Sand Walker","Desert Blade"],redneck:["Hillbilly","Moonshiner"],necromancer:["Summoner","Lich"],samurai:["Bushido","Ronin"],paladin:["Holy Knight","Crusader"],amazon:["Spear Maiden","Huntress"],demon_slayer:["Executioner","Inquisitor"],demonspawn:["Hellfire","Demonic"],shaman:["Elemental","Totemic"],white_mage:["Holy Beam","Benediction"],marauder:["Bombardier","Wrecker"],plague_doctor:["Infection","Medicine"],illusionist:["Phantasm","Mirror"],exo:["Gravity","Force"],butcher:["Meat","Blood"],stormweaver:["Thunder","Storm"],bard:["Minstrel","Troubadour"]}[(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"_").trim()];return n&&t<n.length?n[t]:"Especializa\xe7\xe3o ".concat(t+1)},Oe=e=>(e=>e&&"string"===typeof e?e.replace(/^http:/i,"https:"):"")(e)||"https://herosiege.wiki.gg/images/Item_Chest.png",Me=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"webp";const n=(e=>String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,""))(e);return"".concat("images","/").concat(n,".").concat(t)},Fe=e=>String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),qe=e=>{var t;let n=null;if(null!==e&&void 0!==e&&null!==(t=e.createdAt)&&void 0!==t&&t.seconds)n=new Date(1e3*e.createdAt.seconds);else if(null!==e&&void 0!==e&&e.date){const t=new Date(e.date);isNaN(t.getTime())||(n=t)}if(!n)return(null===e||void 0===e?void 0:e.date)||"";const r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),a=n.getFullYear(),s=String(n.getHours()).padStart(2,"0"),o=String(n.getMinutes()).padStart(2,"0");return"".concat(r,"/").concat(i,"/").concat(a," ").concat(s,":").concat(o)},ze=e=>e?e.replace(/http:/g,"https:"):"",Ve=(0,r.useMemo)(()=>ze((null===F||void 0===F?void 0:F.content_html)||""),[null===F||void 0===F?void 0:F.content_html]),Ue=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(Ue.current){Ue.current.innerHTML=Ve;try{Ue.current.querySelectorAll("img").forEach(e=>{e.src.startsWith("http:")&&(e.src=e.src.replace(/^http:/i,"https:")),e.style.maxWidth="100%",e.style.height="auto",e.onerror=()=>{e.src="https://herosiege.wiki.gg/images/Item_Chest.png"}});Ue.current.querySelectorAll("iframe").forEach(e=>{e.src&&e.src.startsWith("http:")&&(e.src=e.src.replace(/^http:/i,"https:")),e.style.width="100%",e.style.height="auto"})}catch(e){}}},[Ve]),(0,r.useEffect)(()=>{let e=!1;const t=async()=>{try{const r=async()=>{const e="undefined"!==typeof window&&window.STEAM_ENDPOINT_URL?window.STEAM_ENDPOINT_URL:"";if(!e)throw new Error("No custom endpoint");const t=await fetch(e,{cache:"no-store"});if(!t.ok)throw new Error("Custom endpoint error");return t.json()},i=async()=>{const e=await fetch("https://api.steampowered.com/ISteamUserStats/GetNumberOfCurrentPlayers/v1/?appid=269210",{cache:"no-store",mode:"cors"});if(!e.ok)throw new Error("Steam API error");return e.json()},a=async()=>{const e=await fetch("https://cors.isomorphic-git.org/https://api.steampowered.com/ISteamUserStats/GetNumberOfCurrentPlayers/v1/?appid=269210",{cache:"no-store"});if(!e.ok)throw new Error("Proxy API error");return e.json()};let s=null;try{s=await r()}catch(t){try{s=await i()}catch(n){s=await a()}}if(!e){const e=s&&"number"===typeof s.player_count?s.player_count:s&&s.response&&"number"===typeof s.response.player_count?s.response.player_count:null;Pe(e)}}catch(r){e||Pe(null)}};t();const n=setInterval(t,6e4);return()=>{e=!0,clearInterval(n)}},[]),(0,r.useEffect)(()=>{if("home"!==i)return;const e=new Date("2026-04-03T00:00:00"),t=()=>{const t=new Date,n=e-t;if(n>0){const e=Math.floor(n/864e5),t=Math.floor(n/36e5%24),r=Math.floor(n/1e3/60%60);N({days:e,hours:t,minutes:r})}else N({days:0,hours:0,minutes:0})};t();const n=setInterval(t,1e3);return()=>clearInterval(n)},[i]);(0,r.useEffect)(()=>{if("home"===i||"blog"===i){const t=du(Ed,"posts");let n;try{n=ed(t,nd("status","==","published"),ad("createdAt","desc"))}catch(e){n=t}const r=wd(n,e=>{const t=[];e.forEach(e=>{const r=e.data();(n||"published"===(r.status||"draft"))&&t.push(c({id:e.id},r))}),n||t.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),M(t)},e=>{console.error("Erro assinando posts do blog",e),(async()=>{try{const e=await gd(du(Ed,"posts")),t=[];e.forEach(e=>{const n=e.data();"published"===(n.status||"draft")&&t.push(c({id:e.id},n))}),t.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),M(t)}catch(e){console.error("Fallback de leitura de posts falhou",e),M([])}})()});return z.current=r,()=>{z.current&&(z.current(),z.current=null)}}z.current&&(z.current(),z.current=null)},[i]),(0,r.useEffect)(()=>{const e=async()=>{const e=(window.location.hash||"").match(/^#blog\/(.+)$/);if(e&&e[1]){0===O.length&&await(async()=>{try{const t=du(Ed,"posts");let n;try{n=ed(t,nd("status","==","published"),ad("createdAt","desc"))}catch(e){n=t}const r=await gd(n||t),i=[];r.forEach(e=>{const t=e.data();(n||"published"===(t.status||"draft"))&&i.push(c({id:e.id},t))}),n||i.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),M(i)}catch(t){console.error("Erro carregando posts do blog",t),M([])}})();const t=O.find(t=>t.id===e[1]);t&&(q(t),a("blog"))}};e();const t=()=>e();return window.addEventListener("hashchange",t),()=>window.removeEventListener("hashchange",t)},[O]),(0,r.useEffect)(()=>{if("builder"!==i)return;const e=e=>{e.preventDefault()};return document.addEventListener("contextmenu",e),je(!0),()=>{document.removeEventListener("contextmenu",e),je(!1)}},[i]),(0,r.useEffect)(()=>{if("builder"!==i||!Ae)return;let e=100,t=20;const n={},r={},a=e=>(e||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim(),s={viking:{t1:"Berserker",t2:"Shield Bearer",s1:[{id:"vk1",n:"Seismic Slam",r:1,c:1,req:null,hasPlus:!0},{id:"vk2",n:"Brute Force",r:1,c:3,req:null,hasPlus:!1},{id:"vk3",n:"Throw!",r:2,c:1,req:"vk1",hasPlus:!0},{id:"vk4",n:"Zeal",r:2,c:2,req:null,hasPlus:!0},{id:"vk5",n:"Ymir's Champion",r:3,c:2,req:"vk4",hasPlus:!0},{id:"vk6",n:"Whirlwind",r:3,c:3,req:"vk2",hasPlus:!0},{id:"vk7",n:"Shockwave",r:4,c:1,req:"vk3",hasPlus:!0},{id:"vk8",n:"Berserk",r:4,c:2,req:"vk5",hasPlus:!0},{id:"vk9",n:"Demolishing Winds",r:5,c:3,req:"vk6",hasPlus:!1}],s2:[{id:"vk10",n:"Weapon Master",r:1,c:2,req:null,hasPlus:!1},{id:"vk11",n:"Charge",r:1,c:3,req:null,hasPlus:!0},{id:"vk12",n:"Stoneskin",r:2,c:1,req:null,hasPlus:!1},{id:"vk13",n:"Devastating Charge",r:2,c:3,req:"vk11",hasPlus:!1},{id:"vk14",n:"Norse Resistance",r:3,c:1,req:"vk12",hasPlus:!1},{id:"vk15",n:"Defensive Shout",r:3,c:2,req:null,hasPlus:!1},{id:"vk16",n:"Odin's Fury",r:4,c:2,req:"vk15",hasPlus:!0},{id:"vk17",n:"Battle Agility",r:4,c:3,req:"vk13",hasPlus:!1},{id:"vk18",n:"Combat Orders",r:5,c:2,req:"vk16",hasPlus:!1}]},pyromancer:{t1:"Fire Mage",t2:"Burning Soul",s1:[{id:"py1",n:"Fireball",r:1,c:1,req:null,hasPlus:!0},{id:"py2",n:"Phoenix Spirits",r:1,c:3,req:null,hasPlus:!0},{id:"py3",n:"Fire Nova",r:2,c:1,req:"py1",hasPlus:!0},{id:"py4",n:"Burning Ground",r:2,c:2,req:null,hasPlus:!1},{id:"py5",n:"Magma Orb",r:3,c:2,req:"py4",hasPlus:!0},{id:"py6",n:"Blazing Path",r:3,c:3,req:"py2",hasPlus:!0},{id:"py7",n:"Fire Hydra",r:4,c:1,req:"py3",hasPlus:!0},{id:"py8",n:"Comet",r:4,c:2,req:"py5",hasPlus:!0},{id:"py9",n:"Meteor Shower",r:5,c:3,req:"py6",hasPlus:!1}],s2:[{id:"py10",n:"Inferno",r:1,c:2,req:null,hasPlus:!0},{id:"py11",n:"Caldarium",r:1,c:3,req:null,hasPlus:!1},{id:"py12",n:"Fire Shield",r:2,c:1,req:null,hasPlus:!1},{id:"py13",n:"Armageddon",r:3,c:2,req:"py12",hasPlus:!0},{id:"py14",n:"Flame Master",r:4,c:1,req:null,hasPlus:!1},{id:"py15",n:"Splitter",r:4,c:3,req:"py11",hasPlus:!0},{id:"py16",n:"Fires of Hell",r:5,c:1,req:"py14",hasPlus:!1},{id:"py17",n:"Meltdown",r:5,c:2,req:null,hasPlus:!1},{id:"py18",n:"Apocalypse",r:5,c:3,req:"py13",hasPlus:!0}]},marksman:{t1:"Hunter",t2:"Marksman",s1:[{id:"mk1",n:"Arrow Rain",r:1,c:1,req:null,hasPlus:!0},{id:"mk2",n:"Agility",r:1,c:3,req:null,hasPlus:!1},{id:"mk3",n:"Multishot",r:2,c:1,req:"mk1",hasPlus:!0},{id:"mk4",n:"Homing Rocket",r:2,c:2,req:null,hasPlus:!0},{id:"mk5",n:"Explosive Shot",r:3,c:2,req:"mk4",hasPlus:!0},{id:"mk6",n:"Critical Shot",r:3,c:3,req:"mk2",hasPlus:!1},{id:"mk7",n:"Turret",r:4,c:1,req:"mk3",hasPlus:!0},{id:"mk8",n:"Guided Arrow",r:4,c:2,req:"mk5",hasPlus:!0},{id:"mk9",n:"Master Marksman",r:5,c:3,req:"mk6",hasPlus:!1}],s2:[{id:"mk10",n:"Weapon Mastery",r:1,c:2,req:null,hasPlus:!1},{id:"mk11",n:"Barrage",r:1,c:3,req:null,hasPlus:!0},{id:"mk12",n:"Sniper",r:2,c:1,req:null,hasPlus:!1},{id:"mk13",n:"Explosives Master",r:2,c:3,req:"mk11",hasPlus:!1},{id:"mk14",n:"Windwalker",r:3,c:1,req:"mk12",hasPlus:!1},{id:"mk15",n:"Frost Shot",r:3,c:2,req:null,hasPlus:!0},{id:"mk16",n:"Ice Arrow",r:4,c:2,req:"mk15",hasPlus:!0},{id:"mk17",n:"Power Shot",r:4,c:3,req:"mk13",hasPlus:!1},{id:"mk18",n:"Executioner",r:5,c:2,req:"mk16",hasPlus:!1}]},pirate:{t1:"Shipmaster",t2:"Cannoneer",s1:[{id:"pi1",n:"Anchor Smash",r:1,c:1,req:null,hasPlus:!0},{id:"pi2",n:"Plunder",r:1,c:3,req:null,hasPlus:!1},{id:"pi3",n:"Parrot",r:2,c:1,req:"pi1",hasPlus:!0},{id:"pi4",n:"Drunken Sailor",r:2,c:2,req:null,hasPlus:!0},{id:"pi5",n:"Rum Flask",r:3,c:2,req:"pi4",hasPlus:!0},{id:"pi6",n:"Cutlass Master",r:3,c:3,req:"pi2",hasPlus:!1},{id:"pi7",n:"Grappling Hook",r:4,c:1,req:"pi3",hasPlus:!0},{id:"pi8",n:"Blackbeard",r:4,c:2,req:"pi5",hasPlus:!0},{id:"pi9",n:"Treasure Hunt",r:5,c:3,req:"pi6",hasPlus:!1}],s2:[{id:"pi10",n:"Cannonball",r:1,c:2,req:null,hasPlus:!0},{id:"pi11",n:"Bombardment",r:1,c:3,req:null,hasPlus:!0},{id:"pi12",n:"Naval Strike",r:2,c:1,req:null,hasPlus:!1},{id:"pi13",n:"Gunpowder",r:2,c:3,req:"pi11",hasPlus:!1},{id:"pi14",n:"Heavy Metal",r:3,c:1,req:"pi12",hasPlus:!1},{id:"pi15",n:"Kraken",r:3,c:2,req:null,hasPlus:!0},{id:"pi16",n:"Maelstrom",r:4,c:2,req:"pi15",hasPlus:!0},{id:"pi17",n:"Rapid Fire",r:4,c:3,req:"pi13",hasPlus:!1},{id:"pi18",n:"Ghost Ship",r:5,c:2,req:"pi16",hasPlus:!1}]},nomad:{t1:"Sand Walker",t2:"Desert Blade",s1:[{id:"no1",n:"Sandstorm",r:1,c:1,req:null,hasPlus:!0},{id:"no2",n:"Mirage",r:1,c:3,req:null,hasPlus:!1},{id:"no3",n:"Sun Ray",r:2,c:1,req:"no1",hasPlus:!0},{id:"no4",n:"Desert Wind",r:2,c:2,req:null,hasPlus:!0},{id:"no5",n:"Sand Blast",r:3,c:2,req:"no4",hasPlus:!0},{id:"no6",n:"Scimitar Master",r:3,c:3,req:"no2",hasPlus:!1},{id:"no7",n:"Tornado",r:4,c:1,req:"no3",hasPlus:!0},{id:"no8",n:"Sun Strike",r:4,c:2,req:"no5",hasPlus:!0},{id:"no9",n:"Sand Guardian",r:5,c:3,req:"no6",hasPlus:!1}],s2:[{id:"no10",n:"Eye of Ra",r:1,c:2,req:null,hasPlus:!0},{id:"no11",n:"Vanish",r:1,c:3,req:null,hasPlus:!0},{id:"no12",n:"Golden Armor",r:2,c:1,req:null,hasPlus:!1},{id:"no13",n:"Shadow Step",r:2,c:3,req:"no11",hasPlus:!1},{id:"no14",n:"Heatwave",r:3,c:1,req:"no12",hasPlus:!1},{id:"no15",n:"Falconer",r:3,c:2,req:null,hasPlus:!0},{id:"no16",n:"Golden Eagle",r:4,c:2,req:"no15",hasPlus:!0},{id:"no17",n:"Desert Agility",r:4,c:3,req:"no13",hasPlus:!1},{id:"no18",n:"Pharaoh's Curse",r:5,c:2,req:"no16",hasPlus:!1}]},redneck:{t1:"Hillbilly",t2:"Moonshiner",s1:[{id:"rn1",n:"Chainsaw Slash",r:1,c:1,req:null,hasPlus:!0},{id:"rn2",n:"Sturdy",r:1,c:3,req:null,hasPlus:!1},{id:"rn3",n:"Oil Spill",r:2,c:1,req:"rn1",hasPlus:!0},{id:"rn4",n:"Beer Jug",r:2,c:2,req:null,hasPlus:!0},{id:"rn5",n:"Moonshine Blast",r:3,c:2,req:"rn4",hasPlus:!0},{id:"rn6",n:"Axeman",r:3,c:3,req:"rn2",hasPlus:!1},{id:"rn7",n:"Fire in the Hole",r:4,c:1,req:"rn3",hasPlus:!0},{id:"rn8",n:"Hillbilly Rage",r:4,c:2,req:"rn5",hasPlus:!0},{id:"rn9",n:"Truck Driver",r:5,c:3,req:"rn6",hasPlus:!1}],s2:[{id:"rn10",n:"Tire Toss",r:1,c:2,req:null,hasPlus:!0},{id:"rn11",n:"Shotgun",r:1,c:3,req:null,hasPlus:!0},{id:"rn12",n:"Redneck Resilience",r:2,c:1,req:null,hasPlus:!1},{id:"rn13",n:"Buckshot",r:2,c:3,req:"rn11",hasPlus:!1},{id:"rn14",n:"Moonlight",r:3,c:1,req:"rn12",hasPlus:!1},{id:"rn15",n:"Bear Trap",r:3,c:2,req:null,hasPlus:!0},{id:"rn16",n:"Steel Trap",r:4,c:2,req:"rn15",hasPlus:!0},{id:"rn17",n:"Quick Loader",r:4,c:3,req:"rn13",hasPlus:!1},{id:"rn18",n:"Grandfather's Jug",r:5,c:2,req:"rn16",hasPlus:!1}]},necromancer:{t1:"Summoner",t2:"Lich",s1:[{id:"ne1",n:"Raise Skeleton",r:1,c:1,req:null,hasPlus:!0},{id:"ne2",n:"Soul Feast",r:1,c:3,req:null,hasPlus:!1},{id:"ne3",n:"Skeleton Mage",r:2,c:1,req:"ne1",hasPlus:!0},{id:"ne4",n:"Blood Burst",r:2,c:2,req:null,hasPlus:!0},{id:"ne5",n:"Corpse Explosion",r:3,c:2,req:"ne4",hasPlus:!0},{id:"ne6",n:"Command Undead",r:3,c:3,req:"ne2",hasPlus:!1},{id:"ne7",n:"Raise Golem",r:4,c:1,req:"ne3",hasPlus:!0},{id:"ne8",n:"Desecration",r:4,c:2,req:"ne5",hasPlus:!0},{id:"ne9",n:"Army of Dead",r:5,c:3,req:"ne6",hasPlus:!1}],s2:[{id:"ne10",n:"Poison Nova",r:1,c:2,req:null,hasPlus:!0},{id:"ne11",n:"Bone Spear",r:1,c:3,req:null,hasPlus:!0},{id:"ne12",n:"Grim Reaper",r:2,c:1,req:null,hasPlus:!1},{id:"ne13",n:"Bone Armor",r:2,c:3,req:"ne11",hasPlus:!1},{id:"ne14",n:"Death's Reach",r:3,c:1,req:"ne12",hasPlus:!1},{id:"ne15",n:"Curse of Weakness",r:3,c:2,req:null,hasPlus:!0},{id:"ne16",n:"Life Tap",r:4,c:2,req:"ne15",hasPlus:!0},{id:"ne17",n:"Soul Sacrifise",r:4,c:3,req:"ne13",hasPlus:!1},{id:"ne18",n:"Lich Form",r:5,c:2,req:"ne16",hasPlus:!1}]},samurai:{t1:"Bushido",t2:"Ronin",s1:[{id:"sa1",n:"Bushido Blade",r:1,c:1,req:null,hasPlus:!0},{id:"sa2",n:"Evasion",r:1,c:3,req:null,hasPlus:!1},{id:"sa3",n:"Shuriken Toss",r:2,c:1,req:"sa1",hasPlus:!0},{id:"sa4",n:"Warrior's Spirit",r:2,c:2,req:null,hasPlus:!0},{id:"sa5",n:"Focus",r:3,c:2,req:"sa4",hasPlus:!0},{id:"sa6",n:"Kendo Master",r:3,c:3,req:"sa2",hasPlus:!1},{id:"sa7",n:"Katana Slice",r:4,c:1,req:"sa3",hasPlus:!0},{id:"sa8",n:"Ancestral Spirits",r:4,c:2,req:"sa5",hasPlus:!0},{id:"sa9",n:"Last Stand",r:5,c:3,req:"sa6",hasPlus:!1}],s2:[{id:"sa10",n:"Way of the Sword",r:1,c:2,req:null,hasPlus:!0},{id:"sa11",n:"Dash",r:1,c:3,req:null,hasPlus:!0},{id:"sa12",n:"Shadow Strike",r:2,c:1,req:null,hasPlus:!1},{id:"sa13",n:"Quick Draw",r:2,c:3,req:"sa11",hasPlus:!1},{id:"sa14",n:"Honor",r:3,c:1,req:"sa12",hasPlus:!1},{id:"sa15",n:"Dragon Spirit",r:3,c:2,req:null,hasPlus:!0},{id:"sa16",n:"Omnislash",r:4,c:2,req:"sa15",hasPlus:!0},{id:"sa17",n:"Wind Blade",r:4,c:3,req:"sa13",hasPlus:!1},{id:"sa18",n:"Emperor's Will",r:5,c:2,req:"sa16",hasPlus:!1}]},paladin:{t1:"Holy Knight",t2:"Crusader",s1:[{id:"pa1",n:"Holy Hammer",r:1,c:1,req:null,hasPlus:!0},{id:"pa2",n:"Righteousness",r:1,c:3,req:null,hasPlus:!1},{id:"pa3",n:"Lightning Bolt",r:2,c:1,req:"pa1",hasPlus:!0},{id:"pa4",n:"Holy Shield",r:2,c:2,req:null,hasPlus:!0},{id:"pa5",n:"Divine Light",r:3,c:2,req:"pa4",hasPlus:!0},{id:"pa6",n:"Aura of Purity",r:3,c:3,req:"pa2",hasPlus:!1},{id:"pa7",n:"Judgement",r:4,c:1,req:"pa3",hasPlus:!0},{id:"pa8",n:"Consecration",r:4,c:2,req:"pa5",hasPlus:!0},{id:"pa9",n:"God's Wrath",r:5,c:3,req:"pa6",hasPlus:!1}],s2:[{id:"pa10",n:"Charge",r:1,c:2,req:null,hasPlus:!0},{id:"pa11",n:"Smite",r:1,c:3,req:null,hasPlus:!0},{id:"pa12",n:"Devotion",r:2,c:1,req:null,hasPlus:!1},{id:"pa13",n:"Blessed Hammer",r:2,c:3,req:"pa11",hasPlus:!1},{id:"pa14",n:"Vengeance",r:3,c:1,req:"pa12",hasPlus:!1},{id:"pa15",n:"Holy Nova",r:3,c:2,req:null,hasPlus:!0},{id:"pa16",n:"Hand of God",r:4,c:2,req:"pa15",hasPlus:!0},{id:"pa17",n:"Zealot",r:4,c:3,req:"pa13",hasPlus:!1},{id:"pa18",n:"Heavenly Strength",r:5,c:2,req:"pa16",hasPlus:!1}]},amazon:{t1:"Spear Maiden",t2:"Huntress",s1:[{id:"am1",n:"Javelin Toss",r:1,c:1,req:null,hasPlus:!0},{id:"am2",n:"Evasive",r:1,c:3,req:null,hasPlus:!1},{id:"am3",n:"Thunder Spear",r:2,c:1,req:"am1",hasPlus:!0},{id:"am4",n:"Battle Cry",r:2,c:2,req:null,hasPlus:!0},{id:"am5",n:"Grace",r:3,c:2,req:"am4",hasPlus:!0},{id:"am6",n:"Spear Master",r:3,c:3,req:"am2",hasPlus:!1},{id:"am7",n:"Lightning Strike",r:4,c:1,req:"am3",hasPlus:!0},{id:"am8",n:"Enrage",r:4,c:2,req:"am5",hasPlus:!0},{id:"am9",n:"Valkyrie",r:5,c:3,req:"am6",hasPlus:!1}],s2:[{id:"am10",n:"Multi Javelin",r:1,c:2,req:null,hasPlus:!0},{id:"am11",n:"Dash Strike",r:1,c:3,req:null,hasPlus:!0},{id:"am12",n:"Natural Resistance",r:2,c:1,req:null,hasPlus:!1},{id:"am13",n:"Power Throw",r:2,c:3,req:"am11",hasPlus:!1},{id:"am14",n:"Amazonian Will",r:3,c:1,req:"am12",hasPlus:!1},{id:"am15",n:"Poison Spear",r:3,c:2,req:null,hasPlus:!0},{id:"am16",n:"Toxic Cloud",r:4,c:2,req:"am15",hasPlus:!0},{id:"am17",n:"Critical Pierce",r:4,c:3,req:"am13",hasPlus:!1},{id:"am18",n:"Queen of Jungle",r:5,c:2,req:"am16",hasPlus:!1}]},demon_slayer:{t1:"Executioner",t2:"Inquisitor",s1:[{id:"ds1",n:"Bullet Rain",r:1,c:1,req:null,hasPlus:!0},{id:"ds2",n:"Agility",r:1,c:3,req:null,hasPlus:!1},{id:"ds3",n:"Silver Shot",r:2,c:1,req:"ds1",hasPlus:!0},{id:"ds4",n:"Reload",r:2,c:2,req:null,hasPlus:!0},{id:"ds5",n:"Holy Water",r:3,c:2,req:"ds4",hasPlus:!0},{id:"ds6",n:"Gun Master",r:3,c:3,req:"ds2",hasPlus:!1},{id:"ds7",n:"Crossbow Trap",r:4,c:1,req:"ds3",hasPlus:!0},{id:"ds8",n:"Exorcism",r:4,c:2,req:"ds5",hasPlus:!0},{id:"ds9",n:"Slayer's Focus",r:5,c:3,req:"ds6",hasPlus:!1}],s2:[{id:"ds10",n:"Double Tap",r:1,c:2,req:null,hasPlus:!0},{id:"ds11",n:"Dash",r:1,c:3,req:null,hasPlus:!0},{id:"ds12",n:"Shadow Armor",r:2,c:1,req:null,hasPlus:!1},{id:"ds13",n:"Headshot",r:2,c:3,req:"ds11",hasPlus:!1},{id:"ds14",n:"Hunter's Mark",r:3,c:1,req:"ds12",hasPlus:!1},{id:"ds15",n:"Holy Grenade",r:3,c:2,req:null,hasPlus:!0},{id:"ds16",n:"Purification",r:4,c:2,req:"ds15",hasPlus:!0},{id:"ds17",n:"Execution",r:4,c:3,req:"ds13",hasPlus:!1},{id:"ds18",n:"Vengeance",r:5,c:2,req:"ds16",hasPlus:!1}]},demonspawn:{t1:"Hellfire",t2:"Demonic",s1:[{id:"dp1",n:"Blood Bolt",r:1,c:1,req:null,hasPlus:!0},{id:"dp2",n:"Toughness",r:1,c:3,req:null,hasPlus:!1},{id:"dp3",n:"Flame Breath",r:2,c:1,req:"dp1",hasPlus:!0},{id:"dp4",n:"Demon Skin",r:2,c:2,req:null,hasPlus:!0},{id:"dp5",n:"Spike Shield",r:3,c:2,req:"dp4",hasPlus:!0},{id:"dp6",n:"Chaos Master",r:3,c:3,req:"dp2",hasPlus:!1},{id:"dp7",n:"Fire Nova",r:4,c:1,req:"dp3",hasPlus:!0},{id:"dp8",n:"Infernal Soul",r:4,c:2,req:"dp5",hasPlus:!0},{id:"dp9",n:"Hell's Gate",r:5,c:3,req:"dp6",hasPlus:!1}],s2:[{id:"dp10",n:"Blood Surge",r:1,c:2,req:null,hasPlus:!0},{id:"dp11",n:"Shadow Step",r:1,c:3,req:null,hasPlus:!0},{id:"dp12",n:"Demonic Might",r:2,c:1,req:null,hasPlus:!1},{id:"dp13",n:"Drain Life",r:2,c:3,req:"dp11",hasPlus:!1},{id:"dp14",n:"Corruption",r:3,c:1,req:"dp12",hasPlus:!1},{id:"dp15",n:"Bone Spikes",r:3,c:2,req:null,hasPlus:!0},{id:"dp16",n:"Soul Eater",r:4,c:2,req:"dp15",hasPlus:!0},{id:"dp17",n:"Darkness",r:4,c:3,req:"dp13",hasPlus:!1},{id:"dp18",n:"Avatar of Chaos",r:5,c:2,req:"dp16",hasPlus:!1}]},shaman:{t1:"Elemental",t2:"Totemic",s1:[{id:"sh1",n:"Fire Totem",r:1,c:1,req:null,hasPlus:!0},{id:"sh2",n:"Ancestral Guidance",r:1,c:3,req:null,hasPlus:!1},{id:"sh3",n:"Earth Bind",r:2,c:1,req:"sh1",hasPlus:!0},{id:"sh4",n:"Storm Spirit",r:2,c:2,req:null,hasPlus:!0},{id:"sh5",n:"Lightning Shield",r:3,c:2,req:"sh4",hasPlus:!0},{id:"sh6",n:"Nature's Ally",r:3,c:3,req:"sh2",hasPlus:!1},{id:"sh7",n:"Chain Lightning",r:4,c:1,req:"sh3",hasPlus:!0},{id:"sh8",n:"Volcano",r:4,c:2,req:"sh5",hasPlus:!0},{id:"sh9",n:"Elemental Overload",r:5,c:3,req:"sh6",hasPlus:!1}],s2:[{id:"sh10",n:"Wolf Spirit",r:1,c:2,req:null,hasPlus:!0},{id:"sh11",n:"Healing Rain",r:1,c:3,req:null,hasPlus:!0},{id:"sh12",n:"Static Field",r:2,c:1,req:null,hasPlus:!1},{id:"sh13",n:"Bloodlust",r:2,c:3,req:"sh11",hasPlus:!1},{id:"sh14",n:"Earthquake",r:3,c:1,req:"sh12",hasPlus:!1},{id:"sh15",n:"Windfury",r:3,c:2,req:null,hasPlus:!0},{id:"sh16",n:"Storm Totem",r:4,c:2,req:"sh15",hasPlus:!0},{id:"sh17",n:"Thunderstrike",r:4,c:3,req:"sh13",hasPlus:!1},{id:"sh18",n:"Spirit Walk",r:5,c:2,req:"sh16",hasPlus:!1}]},white_mage:{t1:"Holy Beam",t2:"Benediction",s1:[{id:"wm1",n:"Holy Bolt",r:1,c:1,req:null,hasPlus:!0},{id:"wm2",n:"Mana Flow",r:1,c:3,req:null,hasPlus:!1},{id:"wm3",n:"Divine Armor",r:2,c:1,req:"wm1",hasPlus:!0},{id:"wm4",n:"Inner Fire",r:2,c:2,req:null,hasPlus:!0},{id:"wm5",n:"Holy Fire",r:3,c:2,req:"wm4",hasPlus:!0},{id:"wm6",n:"Light Master",r:3,c:3,req:"wm2",hasPlus:!1},{id:"wm7",n:"Heavenly Beam",r:4,c:1,req:"wm3",hasPlus:!0},{id:"wm8",n:"Purify",r:4,c:2,req:"wm5",hasPlus:!0},{id:"wm9",n:"Angel Form",r:5,c:3,req:"wm6",hasPlus:!1}],s2:[{id:"wm10",n:"Heal",r:1,c:2,req:null,hasPlus:!0},{id:"wm11",n:"Sanctuary",r:1,c:3,req:null,hasPlus:!0},{id:"wm12",n:"Resurrection",r:2,c:1,req:null,hasPlus:!1},{id:"wm13",n:"Benediction",r:2,c:3,req:"wm11",hasPlus:!1},{id:"wm14",n:"Divine Aura",r:3,c:1,req:"wm12",hasPlus:!1},{id:"wm15",n:"Holy Nova",r:3,c:2,req:null,hasPlus:!0},{id:"wm16",n:"God's Grace",r:4,c:2,req:"wm15",hasPlus:!0},{id:"wm17",n:"Faith",r:4,c:3,req:"wm13",hasPlus:!1},{id:"wm18",n:"Archangel",r:5,c:2,req:"wm16",hasPlus:!1}]},marauder:{t1:"Bombardier",t2:"Wrecker",s1:[{id:"ma1",n:"Unstable Bomb",r:1,c:1,req:null,hasPlus:!0},{id:"ma2",n:"Armor Piercing",r:1,c:3,req:null,hasPlus:!1},{id:"ma3",n:"Shrapnel",r:2,c:1,req:"ma1",hasPlus:!0},{id:"ma4",n:"Heavy Weights",r:2,c:2,req:null,hasPlus:!0},{id:"ma5",n:"Concussion",r:3,c:2,req:"ma4",hasPlus:!0},{id:"ma6",n:"Madness",r:3,c:3,req:"ma2",hasPlus:!1},{id:"ma7",n:"Grenade Toss",r:4,c:1,req:"ma3",hasPlus:!0},{id:"ma8",n:"Cluster Bomb",r:4,c:2,req:"ma5",hasPlus:!0},{id:"ma9",n:"Big Bertha",r:5,c:3,req:"ma6",hasPlus:!1}],s2:[{id:"ma10",n:"Chain Hook",r:1,c:2,req:null,hasPlus:!0},{id:"ma11",n:"Iron Ball",r:1,c:3,req:null,hasPlus:!0},{id:"ma12",n:"Steel Skin",r:2,c:1,req:null,hasPlus:!1},{id:"ma13",n:"Wrecking Ball",r:2,c:3,req:"ma11",hasPlus:!1},{id:"ma14",n:"Spiked Armor",r:3,c:1,req:"ma12",hasPlus:!1},{id:"ma15",n:"Battle Cry",r:3,c:2,req:null,hasPlus:!0},{id:"ma16",n:"Juggernaut",r:4,c:2,req:"ma15",hasPlus:!0},{id:"ma17",n:"Rage",r:4,c:3,req:"ma13",hasPlus:!1},{id:"ma18",n:"Dreadnought",r:5,c:2,req:"ma16",hasPlus:!1}]},plague_doctor:{t1:"Infection",t2:"Medicine",s1:[{id:"pd1",n:"Plague Rat",r:1,c:1,req:null,hasPlus:!0},{id:"pd2",n:"Contagion",r:1,c:3,req:null,hasPlus:!1},{id:"pd3",n:"Toxic Cloud",r:2,c:1,req:"pd1",hasPlus:!0},{id:"pd4",n:"Acid Blast",r:2,c:2,req:null,hasPlus:!0},{id:"pd5",n:"Biohazard",r:3,c:2,req:"pd4",hasPlus:!0},{id:"pd6",n:"Virulence",r:3,c:3,req:"pd2",hasPlus:!1},{id:"pd7",n:"Corrosive Slop",r:4,c:1,req:"pd3",hasPlus:!0},{id:"pd8",n:"Epidemic",r:4,c:2,req:"pd5",hasPlus:!0},{id:"pd9",n:"Plague Lord",r:5,c:3,req:"pd6",hasPlus:!1}],s2:[{id:"pd10",n:"Healing Vial",r:1,c:2,req:null,hasPlus:!0},{id:"pd11",n:"Antidote",r:1,c:3,req:null,hasPlus:!0},{id:"pd12",n:"Sterilize",r:2,c:1,req:null,hasPlus:!1},{id:"pd13",n:"Tincture",r:2,c:3,req:"pd11",hasPlus:!1},{id:"pd14",n:"Medical Kit",r:3,c:1,req:"pd12",hasPlus:!1},{id:"pd15",n:"Field Practice",r:3,c:2,req:null,hasPlus:!0},{id:"pd16",n:"Panacea",r:4,c:2,req:"pd15",hasPlus:!0},{id:"pd17",n:"Preservation",r:4,c:3,req:"pd13",hasPlus:!1},{id:"pd18",n:"Life Support",r:5,c:2,req:"pd16",hasPlus:!1}]},illusionist:{t1:"Phantasm",t2:"Mirror",s1:[{id:"il1",n:"Clone Strike",r:1,c:1,req:null,hasPlus:!0},{id:"il2",n:"Mind Trick",r:1,c:3,req:null,hasPlus:!1},{id:"il3",n:"Spectral Blade",r:2,c:1,req:"il1",hasPlus:!0},{id:"il4",n:"Confusion",r:2,c:2,req:null,hasPlus:!0},{id:"il5",n:"Hallucination",r:3,c:2,req:"il4",hasPlus:!0},{id:"il6",n:"Illusion Mastery",r:3,c:3,req:"il2",hasPlus:!1},{id:"il7",n:"Phantasmagoria",r:4,c:1,req:"il3",hasPlus:!0},{id:"il8",n:"Terror",r:4,c:2,req:"il5",hasPlus:!0},{id:"il9",n:"Mirror Realm",r:5,c:3,req:"il6",hasPlus:!1}],s2:[{id:"il10",n:"Mirror Image",r:1,c:2,req:null,hasPlus:!0},{id:"il11",n:"Teleport",r:1,c:3,req:null,hasPlus:!0},{id:"il12",n:"Prismatic Spray",r:2,c:1,req:null,hasPlus:!1},{id:"il13",n:"Arcane Shift",r:2,c:3,req:"il11",hasPlus:!1},{id:"il14",n:"Vortex",r:3,c:1,req:"il12",hasPlus:!1},{id:"il15",n:"Light Show",r:3,c:2,req:null,hasPlus:!0},{id:"il16",n:"Dazzle",r:4,c:2,req:"il15",hasPlus:!0},{id:"il17",n:"Refraction",r:4,c:3,req:"il13",hasPlus:!1},{id:"il18",n:"Grand Finale",r:5,c:2,req:"il16",hasPlus:!1}]},exo:{t1:"Gravity",t2:"Force",s1:[{id:"ex1",n:"Force Field",r:1,c:1,req:null,hasPlus:!0},{id:"ex2",n:"Kinetic Energy",r:1,c:3,req:null,hasPlus:!1},{id:"ex3",n:"Gravity Well",r:2,c:1,req:"ex1",hasPlus:!0},{id:"ex4",n:"Push",r:2,c:2,req:null,hasPlus:!0},{id:"ex5",n:"Repel",r:3,c:2,req:"ex4",hasPlus:!0},{id:"ex6",n:"Momentum",r:3,c:3,req:"ex2",hasPlus:!1},{id:"ex7",n:"Singularity",r:4,c:1,req:"ex3",hasPlus:!0},{id:"ex8",n:"Collapse",r:4,c:2,req:"ex5",hasPlus:!0},{id:"ex9",n:"Event Horizon",r:5,c:3,req:"ex6",hasPlus:!1}],s2:[{id:"ex10",n:"Exo Strike",r:1,c:2,req:null,hasPlus:!0},{id:"ex11",n:"Jetpack",r:1,c:3,req:null,hasPlus:!0},{id:"ex12",n:"Laser Beam",r:2,c:1,req:null,hasPlus:!1},{id:"ex13",n:"Charge Shot",r:2,c:3,req:"ex11",hasPlus:!1},{id:"ex14",n:"Plasma Shield",r:3,c:1,req:"ex12",hasPlus:!1},{id:"ex15",n:"Overload",r:3,c:2,req:null,hasPlus:!0},{id:"ex16",n:"Battery Drain",r:4,c:2,req:"ex15",hasPlus:!0},{id:"ex17",n:"Photon Blast",r:4,c:3,req:"ex13",hasPlus:!1},{id:"ex18",n:"Supernova",r:5,c:2,req:"ex16",hasPlus:!1}]},butcher:{t1:"Meat",t2:"Blood",s1:[{id:"bu1",n:"Meat Hook",r:1,c:1,req:null,hasPlus:!0},{id:"bu2",n:"Fresh Meat",r:1,c:3,req:null,hasPlus:!1},{id:"bu3",n:"Cleave",r:2,c:1,req:"bu1",hasPlus:!0},{id:"bu4",n:"Rot",r:2,c:2,req:null,hasPlus:!0},{id:"bu5",n:"Infection",r:3,c:2,req:"bu4",hasPlus:!0},{id:"bu6",n:"Butcher's Grip",r:3,c:3,req:"bu2",hasPlus:!1},{id:"bu7",n:"Carve",r:4,c:1,req:"bu3",hasPlus:!0},{id:"bu8",n:"Mutilate",r:4,c:2,req:"bu5",hasPlus:!0},{id:"bu9",n:"The Slaughter",r:5,c:3,req:"bu6",hasPlus:!1}],s2:[{id:"bu10",n:"Chop",r:1,c:2,req:null,hasPlus:!0},{id:"bu11",n:"Charge",r:1,c:3,req:null,hasPlus:!0},{id:"bu12",n:"Bloodbath",r:2,c:1,req:null,hasPlus:!1},{id:"bu13",n:"Heavy Blade",r:2,c:3,req:"bu11",hasPlus:!1},{id:"bu14",n:"Savage",r:3,c:1,req:"bu12",hasPlus:!1},{id:"bu15",n:"Frenzy",r:3,c:2,req:null,hasPlus:!0},{id:"bu16",n:"Rage",r:4,c:2,req:"bu15",hasPlus:!0},{id:"bu17",n:"Executioner",r:4,c:3,req:"bu13",hasPlus:!1},{id:"bu18",n:"Butcher Shop",r:5,c:2,req:"bu16",hasPlus:!1}]},stormweaver:{t1:"Thunder",t2:"Storm",s1:[{id:"st1",n:"Lightning Bolt",r:1,c:1,req:null,hasPlus:!0},{id:"st2",n:"Conductivity",r:1,c:3,req:null,hasPlus:!1},{id:"st3",n:"Static Shock",r:2,c:1,req:"st1",hasPlus:!0},{id:"st4",n:"Thunderclap",r:2,c:2,req:null,hasPlus:!0},{id:"st5",n:"Electric Field",r:3,c:2,req:"st4",hasPlus:!0},{id:"st6",n:"Volt Mastery",r:3,c:3,req:"st2",hasPlus:!1},{id:"st7",n:"Chain Lightning",r:4,c:1,req:"st3",hasPlus:!0},{id:"st8",n:"Ion Storm",r:4,c:2,req:"st5",hasPlus:!0},{id:"st9",n:"God of Thunder",r:5,c:3,req:"st6",hasPlus:!1}],s2:[{id:"st10",n:"Storm Cloud",r:1,c:2,req:null,hasPlus:!0},{id:"st11",n:"Flash Dash",r:1,c:3,req:null,hasPlus:!0},{id:"st12",n:"Rain of Sparks",r:2,c:1,req:null,hasPlus:!1},{id:"st13",n:"Thunderstrike",r:2,c:3,req:"st11",hasPlus:!1},{id:"st14",n:"Windfury",r:3,c:1,req:"st12",hasPlus:!1},{id:"st15",n:"Hurricane",r:3,c:2,req:null,hasPlus:!0},{id:"st16",n:"Tornado",r:4,c:2,req:"st15",hasPlus:!0},{id:"st17",n:"Cyclone",r:4,c:3,req:"st13",hasPlus:!1},{id:"st18",n:"Maelstrom",r:5,c:2,req:"st16",hasPlus:!1}]},bard:{t1:"Minstrel",t2:"Troubadour",s1:[{id:"ba1",n:"Melodic Chord",r:1,c:1,req:null,hasPlus:!0},{id:"ba2",n:"Harmony",r:1,c:3,req:null,hasPlus:!1},{id:"ba3",n:"Sound Wave",r:2,c:1,req:"ba1",hasPlus:!0},{id:"ba4",n:"Discord",r:2,c:2,req:null,hasPlus:!0},{id:"ba5",n:"Vibrant Echo",r:3,c:2,req:"ba4",hasPlus:!0},{id:"ba6",n:"Rhythm",r:3,c:3,req:"ba2",hasPlus:!1},{id:"ba7",n:"Symphony",r:4,c:1,req:"ba3",hasPlus:!0},{id:"ba8",n:"Resonance",r:4,c:2,req:"ba5",hasPlus:!0},{id:"ba9",n:"Masterpiece",r:5,c:3,req:"ba6",hasPlus:!1}],s2:[{id:"ba10",n:"Inspiring Tune",r:1,c:2,req:null,hasPlus:!0},{id:"ba11",n:"Dancing Step",r:1,c:3,req:null,hasPlus:!0},{id:"ba12",n:"Lullaby",r:2,c:1,req:null,hasPlus:!1},{id:"ba13",n:"Power Ballad",r:2,c:3,req:"ba11",hasPlus:!1},{id:"ba14",n:"Chorus",r:3,c:1,req:"ba12",hasPlus:!1},{id:"ba15",n:"Battle Song",r:3,c:2,req:null,hasPlus:!0},{id:"ba16",n:"Heroic Anthem",r:4,c:2,req:"ba15",hasPlus:!0},{id:"ba17",n:"Crescendo",r:4,c:3,req:"ba13",hasPlus:!1},{id:"ba18",n:"Final Encore",r:5,c:2,req:"ba16",hasPlus:!1}]}},o=e=>e?e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"_"):"viking",l=()=>{const n=document.getElementById("main-pts"),r=document.getElementById("sub-pts");n&&(n.innerText=String(e)),r&&(r.innerText=String(t));const i=o(g),l=s[i]||s.viking;(async e=>{if(!e)return;const t=a(e).replace(/\s+/g,"_"),n=De.current||{};if(n.__loading=n.__loading||{},!n[t]&&!n.__loading[t]){n.__loading[t]=!0,De.current=n;try{const r=e.toLowerCase().replace(/\s+/g,"-").replace(/\xf6/g,"o"),i=[];"bard"===r&&i.push("monk");const s=[r,...i];let o=null;for(const e of s){const t=pu(Ed,"classes",e),n=await md(t);if(n.exists()){o=n.data();break}}if(!o)return;const l=[...o.especializacoes||[],...o.extra_info||[]],c={},u={};l.forEach(e=>{const t=document.createElement("div");t.innerHTML=e.html||"";const n=t.querySelectorAll("tr"),r=[];n.forEach(e=>{const t=e.querySelector("img"),n=e.querySelectorAll("td");let i="";if(n[1]){const e=n[1].querySelector("b");i=e&&e.textContent?e.textContent:n[1].textContent}const s=a(i);t&&t.src&&s&&(c[s]=t.src.replace(/^http:/i,"https:")),s&&r.push(i.trim())});const i=a((null===e||void 0===e?void 0:e.title)||"");i&&r.length&&(u[i]=r)}),n[t]=c,De.current=n;const d=Re.current||{};d[t]=u,Re.current=d}catch(r){}finally{const e=De.current||{};e.__loading&&(e.__loading[t]=!1),De.current=e}}})(g).then(()=>{if(o(g)!==i)return;if(!l.s2||l.s2.length<=1){const e=(g||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"_"),t=Re.current&&Re.current[e]||null;if(t){const e=t[a(l.t2||"")];if(e&&e.length){const t=e.slice(0,9).map((e,t)=>{const n=Math.floor(t/3)+1,r=t%3+1;return{id:"pd".concat(10+t),n:String(e).trim(),r:n,c:r,req:null,hasPlus:!1}});l.s2=t}}}const e=document.getElementById("tree-title-1"),t=document.getElementById("tree-title-2");e&&l.t1&&(e.textContent=l.t1),t&&l.t2&&(t.textContent=l.t2),c(l.s1,"grid-berserker"),c(l.s2,"grid-shield")})},c=(t,r)=>{const i=document.getElementById(r);if(!i)return;if(i.innerHTML="",!t||0===t.length)return void(i.innerHTML='<div style="grid-column: 1 / span 3; text-align: center; color: #9ca3af; margin-top: 40px; font-size: 12px;">Aguardando preenchimento manual das skills...</div>');const a=(De.current||{})[(g||"").toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"_")]||{};t.forEach(t=>{const r=[],s=(t.n||"").trim(),o=s.replace(/\s+/g,"_").replace(/'/g,"%27"),c=s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g," ").trim();a[c]&&r.push(a[c]);let d=(g||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/\s+/g,"_");"bard"===d.toLowerCase()&&(d="Monk"),"j\xf6tunn"!==d.toLowerCase()&&"jotunn"!==d.toLowerCase()||(d="Jotunn"),r.push("https://herosiege.wiki.gg/images/".concat(d,"_").concat(o,".png")),r.push("https://herosiege.wiki.gg/images/Icon_".concat(d,"_").concat(o,".png")),r.push("https://herosiege.wiki.gg/images/".concat(d,"_").concat(o,".jpg")),r.push("https://herosiege.wiki.gg/images/Icon_".concat(d,"_").concat(o,".jpg"));const h="Viking_"+s.replace(/['\u2019!]/g,"").replace(/\s+/g,"_");r.push("https://herosiege.wiki.gg/images/".concat(h,".png")),r.push("https://herosiege.wiki.gg/images/".concat(o,".png")),r.push("https://herosiege.wiki.gg/images/Icon_".concat(o,".png")),r.push("https://herosiege.wiki.gg/images/".concat(o,".jpg")),r.push("https://herosiege.wiki.gg/images/Icon_".concat(o,".jpg")),r.push("https://herosiege.wiki.gg/images/Item_Chest.png");const p=n[t.id]||0,f=t.req&&0===(n[t.req]||0),m=document.createElement("div");m.className="skill".concat(f?" locked":"").concat(p>0?" has-points":""),m.style.gridRow=String(t.r),m.style.gridColumn=String(t.c);const v=document.createElement("img");v.dataset.idx="0",v.src=r[0],v.onerror=()=>{const e=Number(v.dataset.idx||"0")+1;e<r.length?(v.dataset.idx=String(e),v.src=r[e]):v.remove()};const y=document.createElement("div");y.className="name-label",y.textContent=t.n;const b=document.createElement("div");if(b.className="lvl-badge",b.textContent="".concat(p,"/20"),m.appendChild(v),m.appendChild(y),m.appendChild(b),t.hasPlus){const e=document.createElement("button");e.className="plus-btn".concat(p>0?" active-plus":""),e.textContent="+",e.addEventListener("click",e=>{e.stopPropagation(),u(e,t.id,t.n)}),m.appendChild(e)}m.onmousedown=r=>{f||(0===r.button&&e>0&&p<20?(n[t.id]=p+1,e--):2===r.button&&p>0&&(n[t.id]=p-1,e++),l())},i.appendChild(m)})},u=(e,i,a)=>{e.stopPropagation();if(0===(n[i]||0))return void alert("Ative a skill com pelo menos 1 ponto antes!");const s=document.getElementById("overlay"),o=document.getElementById("sub-window"),c=document.getElementById("sub-title"),d=document.getElementById("sub-content");s&&o&&c&&d&&(s.style.display="block",o.style.display="block",c.innerText="Sub-skills: "+a,d.innerHTML="",[1,2,3].forEach(n=>{const s=i+"_s"+n,o=r[s]||0,c=document.createElement("div");c.className="sub-skill-card";const h=document.createElement("span");h.textContent="Talento "+n;const p=document.createElement("b");p.textContent="".concat(o,"/5"),c.appendChild(h),c.appendChild(p),c.onmousedown=n=>{0===n.button&&t>0&&o<5?(r[s]=o+1,t--):2===n.button&&o>0&&(r[s]=o-1,t++),u(e,i,a),l()},d.appendChild(c)}))},d=()=>{const e=document.getElementById("overlay"),t=document.getElementById("sub-window");e&&(e.style.display="none"),t&&(t.style.display="none")},h=document.querySelector("#sub-window button");return h&&h.addEventListener("click",d),l(),()=>{const e=document.getElementById("grid-berserker"),t=document.getElementById("grid-shield");e&&(e.innerHTML=""),t&&(t.innerHTML="");const n=document.getElementById("overlay"),r=document.getElementById("sub-window");n&&(n.style.display="none"),r&&(r.style.display="none"),h&&h.removeEventListener("click",d)}},[i,Ae,g]);(0,r.useEffect)(()=>{"items"===i&&(I(null),L(null),A([]),(async()=>{D(!0);try{const e=du(Ed,"item_categories"),t=await gd(e),n=[];t.forEach(e=>n.push(c({id:e.id},e.data()))),n.sort((e,t)=>{var n,r;const i=null!==(n=e.order)&&void 0!==n?n:999,a=null!==(r=t.order)&&void 0!==r?r:999;return i!==a?i-a:(e.title||"").localeCompare(t.title||"")}),C(n)}catch(e){console.error("Erro carregando categorias de itens",e),C([])}finally{D(!1)}})())},[i]);const Be=async e=>{x(!0),m(e),b(null),k(0);const t=e.toLowerCase().replace(/\s+/g,"-").replace(/\xf6/g,"o"),n=[];"bard"===t&&n.push("monk");const r=[t,...n];try{let t=null;for(const e of r){const n=pu(Ed,"classes",e),r=await md(n);if(r.exists()){t=r.data();break}}if(t){let n=t.especializacoes||[{title:"Geral",html:"<div>Sem dados de especializa\xe7\xe3o.</div>"}];const r=(t.extra_info||[]).map(e=>c(c({},e),{},{isExtra:!0}));if("Bard"===e){const e="https://herosiege.wiki.gg/images/Item_Chest.png",t=e=>"https://herosiege.wiki.gg/images/Monk_".concat(e,".png"),r=e=>"https://herosiege.wiki.gg/images/Icon_Monk_".concat(e,".png"),i=(n,i,a)=>{const s=String(n).trim().replace(/['\u2019!]/g,"").replace(/\s+/g,"_");return'\n              <tr>\n                <td><img src="'.concat(t(s),'" alt="').concat(n,'" onerror="this.onerror=function(){this.onerror=null;this.src=\'').concat(e,"'};this.src='").concat(r(s),"'\"/></td>\n                <td>").concat(n,"</td>\n                <td>").concat(i,"</td>\n                <td>").concat(a,"</td>\n              </tr>")},a=e=>"\n            <table>\n              <thead>\n                <tr>\n                  <th>Icon</th>\n                  <th>Name</th>\n                  <th>Required Skill(s)</th>\n                  <th>Required Level</th>\n                </tr>\n              </thead>\n              <tbody>\n                ".concat(e,"\n              </tbody>\n            </table>"),s=a([i("Melodic Chord","None","1"),i("Harmony","None","1"),i("Sound Wave","Melodic Chord","6"),i("Discord","None","6"),i("Vibrant Echo","Discord","12"),i("Rhythm","Harmony","12"),i("Symphony","Sound Wave","18"),i("Resonance","Vibrant Echo","18"),i("Masterpiece","Rhythm","24")].join("")),o=a([i("Inspiring Tune","None","1"),i("Dancing Step","None","1"),i("Lullaby","None","6"),i("Power Ballad","Dancing Step","6"),i("Chorus","Lullaby","12"),i("Battle Song","None","12"),i("Heroic Anthem","Battle Song","18"),i("Crescendo","Power Ballad","18"),i("Final Encore","Heroic Anthem","24")].join(""));n=[{title:"Minstrel",html:s},{title:"Troubadour",html:o},{title:"Class Augments",html:'\n            <div class="wiki-data">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Special Effect from Augment</th>\n                    <th>Gained per Augment Level</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>Requiem</td>\n                    <td>Masterpiece now releases homing Soul Notes from defeated enemies.</td>\n                    <td>10% Soul Note Damage 2% Extra Note Chance</td>\n                  </tr>\n                  <tr>\n                    <td>Cacophony</td>\n                    <td>Discord leaves a chaotic sound trail that shreds enemy armor.</td>\n                    <td>1.5s Trail Duration 3% Armor Reduction</td>\n                  </tr>\n                  <tr>\n                    <td>Allegro</td>\n                    <td>Dancing Step grants Haste and nullifies the first instance of damage.</td>\n                    <td>5% Cast Speed -0.5s Internal Cooldown</td>\n                  </tr>\n                  <tr>\n                    <td>Fortissimo</td>\n                    <td>Heroic Anthem pulses healing waves to allies based on damage dealt.</td>\n                    <td>1% Damage-to-Heal Conversion 5% Aura Radius</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>'},{title:"Classes",html:'\n            <div class="wiki-data">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Classes</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>\u25cf Viking \u25cf Pyromancer \u25cf Marksman \u25cf Pirate \u25cf Nomad \u25cf Redneck \u25cf Necromancer \u25cf Samurai \u25cf Paladin \u25cf Amazon \u25cf Demon Slayer \u25cf Demonspawn \u25cf Shaman \u25cf White Mage \u25cf Marauder \u25cf Plague Doctor \u25cf Shield Lancer \u25cf Illusionist \u25cf J\xf6tunn \u25cf Exo \u25cf Butcher \u25cf Stormweaver</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>'}]}b({weapon:t.weapon,sections:[...n,...r]})}else if(console.error("Documento n\xe3o encontrado para:",r.join(", ")),"Bard"===e){const e="https://herosiege.wiki.gg/images/Item_Chest.png",t=e=>"https://herosiege.wiki.gg/images/Monk_".concat(e,".png"),n=e=>"https://herosiege.wiki.gg/images/Icon_Monk_".concat(e,".png"),r=(r,i,a)=>{const s=String(r).trim().replace(/['\u2019!]/g,"").replace(/\s+/g,"_");return'\n              <tr>\n                <td><img src="'.concat(t(s),'" alt="').concat(r,'" onerror="this.onerror=function(){this.onerror=null;this.src=\'').concat(e,"'};this.src='").concat(n(s),"'\"/></td>\n                <td>").concat(r,"</td>\n                <td>").concat(i,"</td>\n                <td>").concat(a,"</td>\n              </tr>")},i=e=>"\n            <table>\n              <thead>\n                <tr>\n                  <th>Icon</th>\n                  <th>Name</th>\n                  <th>Required Skill(s)</th>\n                  <th>Required Level</th>\n                </tr>\n              </thead>\n              <tbody>\n                ".concat(e,"\n              </tbody>\n            </table>"),a=i([r("Melodic Chord","None","1"),r("Harmony","None","1"),r("Sound Wave","Melodic Chord","6"),r("Discord","None","6"),r("Vibrant Echo","Discord","12"),r("Rhythm","Harmony","12"),r("Symphony","Sound Wave","18"),r("Resonance","Vibrant Echo","18"),r("Masterpiece","Rhythm","24")].join("")),s=i([r("Inspiring Tune","None","1"),r("Dancing Step","None","1"),r("Lullaby","None","6"),r("Power Ballad","Dancing Step","6"),r("Chorus","Lullaby","12"),r("Battle Song","None","12"),r("Heroic Anthem","Battle Song","18"),r("Crescendo","Power Ballad","18"),r("Final Encore","Heroic Anthem","24")].join(""));b({weapon:"Instrumentos",sections:[{title:"Minstrel",html:a},{title:"Troubadour",html:s},{title:"Class Augments",html:'\n            <div class="wiki-data">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Special Effect from Augment</th>\n                    <th>Gained per Augment Level</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>Requiem</td>\n                    <td>Masterpiece now releases homing Soul Notes from defeated enemies.</td>\n                    <td>10% Soul Note Damage 2% Extra Note Chance</td>\n                  </tr>\n                  <tr>\n                    <td>Cacophony</td>\n                    <td>Discord leaves a chaotic sound trail that shreds enemy armor.</td>\n                    <td>1.5s Trail Duration 3% Armor Reduction</td>\n                  </tr>\n                  <tr>\n                    <td>Allegro</td>\n                    <td>Dancing Step grants Haste and nullifies the first instance of damage.</td>\n                    <td>5% Cast Speed -0.5s Internal Cooldown</td>\n                  </tr>\n                  <tr>\n                    <td>Fortissimo</td>\n                    <td>Heroic Anthem pulses healing waves to allies based on damage dealt.</td>\n                    <td>1% Damage-to-Heal Conversion 5% Aura Radius</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>'},{title:"Classes",html:'\n            <div class="wiki-data">\n              <table>\n                <thead>\n                  <tr>\n                    <th>Classes</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr>\n                    <td>\u25cf Viking \u25cf Pyromancer \u25cf Marksman \u25cf Pirate \u25cf Nomad \u25cf Redneck \u25cf Necromancer \u25cf Samurai \u25cf Paladin \u25cf Amazon \u25cf Demon Slayer \u25cf Demonspawn \u25cf Shaman \u25cf White Mage \u25cf Marauder \u25cf Plague Doctor \u25cf Shield Lancer \u25cf Illusionist \u25cf J\xf6tunn \u25cf Exo \u25cf Butcher \u25cf Stormweaver</td>\n                  </tr>\n                </tbody>\n              </table>\n            </div>'}]})}}catch(i){console.error("Erro ao buscar dados:",i)}finally{x(!1)}},He=()=>{m(null),b(null)};return(0,tm.jsxs)("div",{className:"bg-[#0f111a] min-h-screen text-gray-200 font-sans selection:bg-red-500 selection:text-white",children:[(0,tm.jsx)("nav",{className:"sticky top-0 z-50 bg-[#0b0d14]/95 backdrop-blur-md border-b border-white/5",children:(0,tm.jsxs)("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[(0,tm.jsx)("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>{q(null),a("home");try{window.history.replaceState(null,"",window.location.pathname)}catch(e){window.location.hash=""}},children:(0,tm.jsx)("img",{src:"/images/herosiege.png",alt:"Hero Siege Brasil",className:"block h-8 sm:h-9 w-auto",style:{imageRendering:"auto"}})}),(0,tm.jsxs)("div",{className:"hidden md:flex items-center gap-8 text-sm font-bold uppercase tracking-widest text-gray-400",children:[(0,tm.jsx)("button",{onClick:()=>a("home"),className:"transition-colors ".concat("home"===i?"text-orange-500":"hover:text-white"),children:"Home"}),(0,tm.jsxs)("div",{className:"relative",ref:d,onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),children:[(0,tm.jsx)("button",{type:"button",onClick:()=>u(e=>!e),className:"transition-colors ".concat(["classes","items","relics","quests"].includes(i)||l?"text-orange-500":"hover:text-white"),children:"DataBase"}),(0,tm.jsxs)("div",{className:"absolute left-0 top-full w-44 bg-[#0b0d14] border border-white/10 rounded shadow-xl py-2 ".concat(l?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"," transition"),children:[(0,tm.jsx)("button",{onClick:()=>{a("classes"),u(!1)},className:"block w-full text-left px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-white/5 ".concat("classes"===i?"text-orange-500":"text-gray-400 hover:text-white"),children:"Classes"}),(0,tm.jsx)("button",{onClick:()=>{a("items"),u(!1)},className:"block w-full text-left px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-white/5 ".concat("items"===i?"text-orange-500":"text-gray-400 hover:text-white"),children:"Items"}),(0,tm.jsx)("button",{onClick:()=>{a("runes"),u(!1)},className:"block w-full text-left px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-white/5 ".concat("runes"===i?"text-orange-500":"text-gray-400 hover:text-white"),children:"Runas"}),(0,tm.jsx)("button",{onClick:()=>{a("relics"),u(!1)},className:"block w-full text-left px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-white/5 ".concat("relics"===i?"text-orange-500":"text-gray-400 hover:text-white"),children:"Rel\xedquias"}),(0,tm.jsx)("button",{onClick:()=>{a("quests"),u(!1)},className:"block w-full text-left px-4 py-2 text-xs font-bold uppercase tracking-widest hover:bg-white/5 ".concat("quests"===i?"text-orange-500":"text-gray-400 hover:text-white"),children:"Quests"})]})]}),(0,tm.jsx)("button",{onClick:()=>{a("blog"),q(null)},className:"transition-colors ".concat("blog"===i?"text-orange-500":"hover:text-white"),children:"Blog"}),(0,tm.jsx)("button",{onClick:()=>a("builder"),className:"transition-colors ".concat("builder"===i?"text-orange-500":"hover:text-white"),children:"Builder"}),(0,tm.jsx)("button",{onClick:()=>a("contact"),className:"transition-colors ".concat("contact"===i?"text-orange-500":"hover:text-white"),children:"Contatos"})]})]})}),"home"===i&&(0,tm.jsxs)("header",{className:"relative h-[600px] overflow-hidden flex items-center",children:[(0,tm.jsxs)("div",{className:"absolute inset-0 z-0",children:[(0,tm.jsx)("img",{src:"https://herosiege.wiki.gg/images/c/c5/Viking_SkinID_1.png",alt:"Background",className:"w-full h-full object-cover opacity-20 scale-110 blur-sm"}),(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-[#0f111a] via-[#0f111a]/80 to-transparent"}),(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-[#0f111a] via-transparent to-[#0f111a]"})]}),(0,tm.jsxs)("div",{className:"relative z-10 max-w-7xl mx-auto px-6 w-full grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("span",{className:"inline-block py-1 px-3 border border-orange-500/30 bg-orange-500/10 text-orange-500 text-xs font-bold uppercase tracking-widest mb-6 rounded-sm",children:"Season 9 Updated"}),(0,tm.jsxs)("h1",{className:"text-6xl md:text-8xl font-black text-white italic leading-[0.9] mb-6 tracking-tighter",children:["ESCOLHA ",(0,tm.jsx)("br",{}),(0,tm.jsx)("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-red-500 to-orange-600 pr-2",children:"SEU HER\xd3I"})]}),(0,tm.jsx)("p",{className:"text-gray-400 text-lg max-w-md leading-relaxed mb-10 border-l-2 border-red-600 pl-6",children:"Explore todas as classes, builds e segredos de Hero Siege. A base de dados definitiva para a comunidade brasileira."}),(0,tm.jsxs)("div",{className:"flex gap-4",children:[(0,tm.jsx)("button",{className:"bg-white text-black font-black uppercase px-8 py-4 text-sm hover:bg-gray-200 transition-colors",children:"Ver Tier List"}),(0,tm.jsx)("button",{className:"border border-white/20 text-white font-black uppercase px-8 py-4 text-sm hover:bg-white/5 transition-colors",children:"Patch Notes"})]})]}),(0,tm.jsxs)("div",{className:"hidden md:block relative",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-red-500/20 blur-[100px] rounded-full"}),(0,tm.jsx)("img",{src:"https://herosiege.wiki.gg/images/Samurai.png",alt:"Featured Hero",className:"relative z-10 w-full max-w-lg mx-auto drop-shadow-[0_20px_50px_rgba(0,0,0,0.5)] transform hover:scale-105 transition-transform duration-700"})]})]})]}),(0,tm.jsx)("main",{className:"max-w-7xl mx-auto px-6 py-24",children:(0,tm.jsxs)("div",{className:"flex flex-col md:flex-row gap-16",children:[(0,tm.jsxs)("div",{className:"flex-1",children:["home"===i&&(0,tm.jsxs)("div",{className:"space-y-16",children:[(0,tm.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,tm.jsxs)("div",{className:"relative bg-[#151923] border border-white/5 overflow-hidden group h-96",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-[url('https://herosiege.wiki.gg/images/c/c5/Viking_SkinID_1.png')] bg-cover opacity-10 group-hover:opacity-20 transition-opacity duration-500"}),(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black via-black/80 to-transparent z-10"}),(0,tm.jsxs)("div",{className:"relative z-20 p-8 h-full flex flex-col justify-center items-start",children:[(0,tm.jsx)("span",{className:"inline-block py-1 px-3 bg-red-600/20 border border-red-600/50 text-red-500 text-[10px] font-bold uppercase tracking-widest mb-4 rounded-sm",children:"New Class Spotlight"}),(0,tm.jsxs)("h2",{className:"text-4xl font-black text-white italic uppercase tracking-tighter mb-4",children:["The ",(0,tm.jsx)("span",{className:"text-red-600",children:"Prophet"})]}),(0,tm.jsx)("p",{className:"text-gray-400 text-sm max-w-xs mb-8 leading-relaxed",children:"Dominando os elementos e invocando esp\xedritos ancestrais, o Prophet traz uma nova mec\xe2nica de shapeshifting para o campo de batalha."}),(0,tm.jsx)("button",{onClick:()=>{o("MAGIC"),a("classes")},className:"bg-white text-black font-bold uppercase px-6 py-3 text-xs tracking-widest hover:bg-red-600 hover:text-white transition-all transform hover:-translate-y-1",children:"Ver Detalhes"})]}),(0,tm.jsx)("img",{src:"https://www.mmorpgs.com.br/wp-content/uploads/2025/12/imgi_40_d4eed0645666589a854db663f8000c261191c940.webp",alt:"New Class Spotlight",className:"absolute inset-0 w-full h-full object-cover object-center z-10 drop-shadow-[0_0_50px_rgba(220,38,38,0.3)] scale-125 group-hover:scale-[1.3] transition-transform duration-700"})]}),(0,tm.jsxs)("div",{className:"bg-[#151923] border border-white/5 p-8 flex flex-col",children:[(0,tm.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,tm.jsxs)("h3",{className:"text-xl font-black text-white uppercase italic tracking-tighter",children:["Season 9 ",(0,tm.jsx)("span",{className:"text-orange-500",children:"Tier List"})]}),(0,tm.jsx)("span",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:"Updated: Today"})]}),(0,tm.jsxs)("div",{className:"space-y-4 flex-1",children:[(0,tm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,tm.jsx)("div",{className:"w-12 h-12 bg-red-600 flex items-center justify-center font-black text-white text-xl shadow-[0_0_15px_rgba(220,38,38,0.5)]",children:"S"}),(0,tm.jsx)("div",{className:"flex-1 flex gap-2 flex-wrap",children:(de.S||[]).map(e=>(0,tm.jsxs)("div",{className:"relative group/icon cursor-pointer",onClick:()=>{Be(e),a("classes")},children:[(0,tm.jsx)("img",{src:Ce(e),alt:e,className:"w-10 h-10 object-contain drop-shadow-md hover:scale-110 transition-transform"}),(0,tm.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-50 border border-white/10 pointer-events-none",children:e})]},e))})]}),(0,tm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,tm.jsx)("div",{className:"w-12 h-12 bg-orange-500 flex items-center justify-center font-black text-white text-xl shadow-[0_0_15px_rgba(249,115,22,0.5)]",children:"A"}),(0,tm.jsx)("div",{className:"flex-1 flex gap-2 flex-wrap",children:(de.A||[]).map(e=>(0,tm.jsxs)("div",{className:"relative group/icon cursor-pointer",onClick:()=>{Be(e),a("classes")},children:[(0,tm.jsx)("img",{src:Ce(e),alt:e,className:"w-10 h-10 object-contain drop-shadow-md hover:scale-110 transition-transform"}),(0,tm.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-50 border border-white/10 pointer-events-none",children:e})]},e))})]}),(0,tm.jsxs)("div",{className:"flex items-center gap-4",children:[(0,tm.jsx)("div",{className:"w-12 h-12 bg-yellow-500 flex items-center justify-center font-black text-white text-xl shadow-[0_0_15px_rgba(234,179,8,0.5)]",children:"B"}),(0,tm.jsx)("div",{className:"flex-1 flex gap-2 flex-wrap",children:(de.B||[]).map(e=>(0,tm.jsxs)("div",{className:"relative group/icon cursor-pointer",onClick:()=>{Be(e),a("classes")},children:[(0,tm.jsx)("img",{src:Ce(e),alt:e,className:"w-10 h-10 object-contain drop-shadow-md hover:scale-110 transition-transform"}),(0,tm.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-50 border border-white/10 pointer-events-none",children:e})]},e))})]})]}),(0,tm.jsx)("button",{onClick:()=>fe(!0),className:"w-full mt-6 py-3 border border-white/10 text-gray-400 text-xs font-bold uppercase tracking-widest hover:bg-white hover:text-black transition-colors",children:"Ver Tier List Completa"})]})]}),pe&&(0,tm.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-black/80",onClick:()=>fe(!1)}),(0,tm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:(0,tm.jsxs)("div",{className:"bg-[#151923] border border-white/10 rounded-sm shadow-xl max-w-5xl w-[92vw] md:w-[80vw]",children:[(0,tm.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/10",children:[(0,tm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tm.jsx)("img",{src:"/images/herosiege.png",alt:"Hero Siege Brasil",className:"h-6 w-auto"}),(0,tm.jsx)("div",{className:"text-lg font-black text-white uppercase italic tracking-widest",children:"Tier List Completa"})]}),(0,tm.jsxs)("div",{className:"flex gap-2",children:[(0,tm.jsx)("button",{onClick:async()=>{const e={S:"#dc2626",A:"#f97316",B:"#eab308",C:"#84cc16",D:"#22c55e",E:"#6b7280"},t={S:"rgba(220,38,38,0.12)",A:"rgba(249,115,22,0.12)",B:"rgba(234,179,8,0.12)",C:"rgba(132,204,22,0.12)",D:"rgba(34,197,94,0.12)",E:"rgba(107,114,128,0.12)"},n=1024,r=24,i=48,a=16;let s=104;const o=[];["S","A","B","C","D","E"].forEach(e=>{const t=Math.max(i,40)+r;o.push({key:e,y:s,h:t}),s+=t+a}),s+=64;const l=document.createElement("canvas");l.width=n,l.height=s;const c=l.getContext("2d");c.fillStyle="#151923",c.fillRect(0,0,n,s);const u=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>t(null),n.crossOrigin="anonymous",n.src=e}),d=await u("".concat("images","/herosiege.png"));if(d){const e=160,t=40,n=r+Math.max(0,(56-t)/2);c.drawImage(d,r,n,e,t),c.font="bold 22px Segoe UI, sans-serif",c.textBaseline="middle",c.textAlign="left",c.fillStyle="#ffffff",c.fillText("Tier List Completa",r+e+12,52)}c.fillStyle="rgba(255,255,255,0.08)",c.fillRect(r,80,976,1),c.font="bold 20px Segoe UI, sans-serif",c.textBaseline="middle",c.textAlign="center";const h=[];o.forEach(n=>{const s=n.key,o=n.y;c.fillStyle=t[s]||"rgba(255,255,255,0.06)",c.fillRect(r,o,976,n.h-a+4),c.fillStyle=e[s]||"#6b7280",c.fillRect(r,o,4,n.h-a+4),c.fillStyle=e[s]||"#6b7280",c.fillRect(32,o+Math.max(0,(n.h-a-i)/2),i,i),c.fillStyle="#ffffff",c.fillText(s,56,o+Math.max(0,(n.h-a-i)/2)+24);let l=96;(de[s]||[]).forEach(e=>{const t=Ce(e);h.push({x:l,y:o+Math.max(0,(n.h-a-40)/2),src:t}),l+=48})});for(let S=0;S<h.length;S++){const e=h[S],t=await u(e.src);t&&c.drawImage(t,e.x,e.y,40,40)}const p=new Date,f=String(p.getDate()).padStart(2,"0"),m=String(p.getMonth()+1).padStart(2,"0"),g=String(p.getFullYear()),v=String(p.getHours()).padStart(2,"0"),y=String(p.getMinutes()).padStart(2,"0"),b="".concat(f,"/").concat(m,"/").concat(g," ").concat(v,":").concat(y);c.font="bold 18px Segoe UI, sans-serif",c.textBaseline="alphabetic",c.textAlign="right",c.fillStyle="#e5e7eb",c.fillText(b,1e3,s-12);const w=l.toDataURL("image/png"),x=document.createElement("a");x.href=w,x.download="tierlist_".concat(g).concat(m).concat(f,"_").concat(v).concat(y,".png"),x.click()},className:"px-3 py-2 text-xs font-bold uppercase tracking-widest border border-white/10 text-gray-300 hover:bg-white hover:text-black",children:"Baixar imagem"}),(0,tm.jsx)("button",{onClick:()=>fe(!1),className:"px-3 py-2 text-xs font-bold uppercase tracking-widest border border-white/10 text-gray-300 hover:bg-white hover:text-black",children:"Fechar"})]})]}),(0,tm.jsx)("div",{className:"p-5 space-y-4 overflow-y-auto",style:{maxHeight:"75vh"},children:["S","A","B","C","D","E"].map(e=>(0,tm.jsxs)("div",{className:"flex items-center gap-4 rounded-sm border-l pl-4",style:Te(e),children:[(0,tm.jsx)("div",{className:"w-12 h-12 flex items-center justify-center font-black text-white text-xl",style:{backgroundColor:"S"===e?"#dc2626":"A"===e?"#f97316":"B"===e?"#eab308":"C"===e?"#84cc16":"D"===e?"#22c55e":"#6b7280"},children:e}),(0,tm.jsx)("div",{className:"flex-1 flex gap-2 flex-wrap",children:(de[e]||[]).map(t=>(0,tm.jsxs)("div",{className:"relative group/icon",children:[(0,tm.jsx)("img",{src:Ce(t),alt:t,className:"w-10 h-10 object-contain drop-shadow-md"}),(0,tm.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2 bg-black text-white text-[10px] px-2 py-1 opacity-0 group-hover/icon:opacity-100 transition-opacity whitespace-nowrap z-50 border border-white/10 pointer-events-none",children:t})]},"".concat(e,"-").concat(t)))})]},e))})]})})]}),(0,tm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:O.slice(0,6).map(e=>(0,tm.jsxs)("div",{onClick:()=>{q(e),a("blog"),window.location.hash="#blog/".concat(e.id)},className:"group relative bg-[#151923] border border-white/5 overflow-hidden cursor-pointer hover:border-orange-500/50 transition-all",children:[(0,tm.jsxs)("div",{className:"h-40 overflow-hidden relative flex items-center justify-center bg-black/50",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-[#151923] to-transparent z-10"}),(0,tm.jsx)("img",{src:Oe(e.image),alt:e.title,onError:e=>{e.currentTarget.src="https://herosiege.wiki.gg/images/Item_Chest.png"},className:"h-full object-contain opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500"})]}),(0,tm.jsxs)("div",{className:"p-5 relative z-20 -mt-2",children:[(0,tm.jsx)("span",{className:"text-[10px] text-orange-500 font-bold uppercase tracking-widest",children:qe(e)}),(0,tm.jsx)("h4",{className:"text-white font-bold text-lg mt-1 leading-tight group-hover:text-orange-500 transition-colors",children:e.title}),e.excerpt&&(0,tm.jsx)("p",{className:"text-gray-500 text-xs mt-2 leading-relaxed",children:e.excerpt})]})]},e.id))})]}),"classes"===i&&(0,tm.jsx)(Sm,{activeFilter:s,setActiveFilter:o,filteredClasses:p,onSelectClass:Be,classImagePath:Me}),"items"===i&&(0,tm.jsx)(Em,{itemCategories:_,selectedItemCategory:T,itemsList:P,itemsLoading:j,selectedItem:R,onSelectCategory:async e=>{D(!0),I(e);try{const t=(()=>{const t=String(e.id||"").trim(),n=[t];return t.toLowerCase().endsWith("s")?n.push(t.slice(0,-1)):n.push(t+"s"),Array.from(new Set(n.map(e=>e.toLowerCase())))})();let n=[];for(const e of t){const t=du(Ed,"item_categories",e,"items"),r=await gd(t),i=[];if(r.forEach(e=>i.push(c({id:e.id},e.data()))),i.length>0){n=i;break}}const r=String(e.id||"").trim().toLowerCase(),i=n.filter(e=>{const t=String(e.name||"").trim().toLowerCase(),n=String(e.id||"").trim().toLowerCase();return!(!t&&n===r)&&(!t||t!==r&&"shield"!==t)});i.sort((e,t)=>(e.name||"").localeCompare(t.name||"")),A(i)}catch(t){console.error("Erro carregando itens da categoria",e.id,t),A([])}finally{D(!1)}},onBackToCategories:()=>{I(null),A([])},onSelectItem:L,onCloseItem:()=>L(null)}),"runes"===i&&(0,tm.jsx)(Tm,{}),"builder"===i&&(0,tm.jsxs)("div",{className:"animate-fade-in",children:[(0,tm.jsxs)("div",{className:"max-w-7xl mx-auto px-4 md:px-6 mb-8",children:[(0,tm.jsxs)("div",{className:"flex items-center justify-between gap-4 mb-4",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsxs)("h2",{className:"text-2xl md:text-3xl font-black text-white uppercase italic tracking-tighter",children:["Forum de ",(0,tm.jsx)("span",{className:"text-orange-500",children:"Builds"})]}),(0,tm.jsx)("p",{className:"text-xs md:text-sm text-gray-400 mt-1",children:"Escolha uma classe para ver builds da comunidade. Em breve voc\xea poder\xe1 publicar as suas."})]}),(0,tm.jsx)("button",{type:"button",className:"px-4 py-2 text-[11px] font-bold uppercase tracking-widest border border-white/20 text-white hover:bg-white hover:text-black transition-colors",children:"Nova Build"})]}),(0,tm.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-3",children:h.map(e=>{const t=me===e.name,n=Fe(e.name),r=ve[n]||0,i=1===r?"1 build":"".concat(r," builds");return(0,tm.jsxs)("button",{type:"button",onClick:()=>ge(t=>t===e.name?null:e.name),className:"relative flex flex-col items-stretch px-3 py-3 border text-left bg-gradient-to-b from-[#181b25] to-[#0c0e17] hover:from-[#1f2431] hover:to-[#10131d] transition-colors ".concat(t?"border-orange-500 shadow-[0_0_18px_rgba(249,115,22,0.5)]":"border-white/10"),children:[(0,tm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tm.jsx)("div",{className:"w-10 h-10 rounded-full overflow-hidden border border-white/10 bg-black/40 flex items-center justify-center",children:(0,tm.jsx)("img",{src:Me(e.name),onError:t=>{const n=t.currentTarget;n.dataset.fallback||(n.dataset.fallback="1",n.src=Me(e.name,"png"))},alt:e.name,className:"w-full h-full object-contain"})}),(0,tm.jsxs)("div",{className:"flex-1",children:[(0,tm.jsx)("div",{className:"text-xs font-bold text-white uppercase tracking-widest",children:e.name}),(0,tm.jsx)("div",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:i})]})]}),(0,tm.jsx)("div",{className:"mt-2 flex items-end justify-end text-[10px] text-gray-500",children:t&&(0,tm.jsx)("span",{className:"px-2 py-0.5 rounded-full bg-orange-500/20 text-orange-400 font-semibold",children:"Aberto"})})]},e.name)})}),(0,tm.jsx)("div",{className:"mt-4 border border-dashed border-white/15 rounded-sm bg-[#0f111a] p-4",children:me?(()=>{const e=Fe(me),t=be[e]||[],n=t.length;return(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"text-xs font-bold uppercase tracking-widest text-gray-400 mb-1",children:"Builds para"}),(0,tm.jsx)("div",{className:"text-sm font-bold text-white mb-1",children:me}),(0,tm.jsx)("div",{className:"text-[11px] text-gray-400 mb-3",children:0===n?"Nenhuma build publicada ainda nesta \xe1rea.":1===n?"1 build publicada nesta \xe1rea.":"".concat(n," builds publicadas nesta \xe1rea.")}),n>0&&(0,tm.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 max-h-60 overflow-y-auto pr-1",children:t.map(e=>{const t=(Array.isArray(e.tags)?e.tags:[]).map(e=>String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase());let n=null;t.includes("final")?n="final":t.includes("atualizada")?n="atualizada":t.includes("iniciante")&&(n="iniciante");let r="bg-gray-500/20 text-gray-300",i="Build";return"iniciante"===n?(r="bg-emerald-500/20 text-emerald-400",i="Iniciante"):"atualizada"===n?(r="bg-amber-500/20 text-amber-400",i="Atualizada"):"final"===n&&(r="bg-red-500/20 text-red-400",i="Final"),(0,tm.jsxs)("button",{type:"button",onClick:()=>{Se(e),Ee(!0)},className:"w-full text-left border border-white/10 bg-gradient-to-b from-[#181b25] to-[#0c0e17] hover:from-[#1f2431] hover:to-[#10131d] px-3 py-2 text-[11px] flex flex-col gap-1",children:[(0,tm.jsx)("div",{className:"flex items-center justify-between mb-1",children:(0,tm.jsx)("span",{className:"px-2 py-0.5 rounded-full font-semibold uppercase tracking-widest ".concat(r),children:i})}),(0,tm.jsx)("div",{className:"font-semibold text-gray-100 truncate",children:e.title||"(sem t\xedtulo)"}),(0,tm.jsx)("div",{className:"text-gray-400 truncate",children:e.author||""})]},e.id)})})]})})():(0,tm.jsx)("div",{className:"text-xs text-gray-500",children:"Selecione uma classe acima para ver as builds da comunidade."})})]}),(0,tm.jsx)("div",{className:"border-t border-white/10 mb-6"}),(0,tm.jsx)("style",{children:"\n                      :root {\n                        --bg: #0a0a0c; --panel: #16161e; --primary: #ca8a04;\n                        --skill-slot: #22222b; --border: #3f3f46; --text: #e4e4e7;\n                        --slot: 96px; --gap: 16px; --pad: 20px; --class-icon: 60px;\n                      }\n                      .builder-wrapper { background: transparent; color: var(--text); font-family: 'Segoe UI', sans-serif; user-select: none; }\n                      .builder-wrapper .class-menu {\n                        display: flex; align-items: flex-start; gap: 12px; padding: 8px 12px;\n                        background: var(--panel); border-radius: 12px; border: 1px solid var(--border);\n                        margin-bottom: 18px;\n                      }\n                      .builder-wrapper .class-menu-title {\n                        font-size: 11px; text-transform: uppercase; letter-spacing: 0.12em;\n                        color: #9ca3af; font-weight: 700; margin-right: 10px; white-space: nowrap;\n                      }\n                      .builder-wrapper .class-menu-grid {\n                        display: grid; grid-template-columns: repeat(11, var(--class-icon));\n                        grid-auto-rows: var(--class-icon); gap: 10px 10px;\n                      }\n                      .builder-wrapper .class-icon {\n                        width: var(--class-icon); height: var(--class-icon); border-radius: 999px;\n                        border: 1px solid #1f2937; display: flex; align-items: center; justify-content: center;\n                        background: #020617; cursor: pointer; flex-shrink: 0;\n                        transition: transform 0.15s ease, box-shadow 0.15s ease, border-color 0.15s ease, background 0.15s ease;\n                      }\n                      .builder-wrapper .class-icon img {\n                        width: 100%; height: 100%; object-fit: contain; border-radius: inherit; display: block;\n                      }\n                      .builder-wrapper .class-icon:hover {\n                        box-shadow: 0 0 14px rgba(249, 115, 22, 0.8);\n                        border-color: #f97316;\n                      }\n                      .builder-wrapper .class-icon.selected {\n                        box-shadow: 0 0 18px rgba(249, 115, 22, 0.95);\n                        border-color: #f97316;\n                        background: rgba(251, 146, 60, 0.25);\n                      }\n                      .builder-wrapper .dashboard {\n                        display: flex; justify-content: center; gap: 28px; background: var(--panel);\n                        padding: 12px 16px; border-radius: 12px; margin-bottom: 24px; border: 1px solid var(--border);\n                      }\n                      .builder-wrapper .stat-box { text-align: center; }\n                      .builder-wrapper .stat-box span { font-size: 18px; font-weight: bold; color: var(--primary); display: block; }\n                      .builder-wrapper .tree-wrapper { display: flex; justify-content: center; gap: 32px; flex-wrap: nowrap; overflow-x: hidden; padding-bottom: 4px; }\n                      .builder-wrapper .specialization-box { background: var(--panel); padding: var(--pad); border-radius: 15px; border: 1px solid var(--border); width: max-content; flex: 0 0 auto; }\n                      .builder-wrapper .specialization-box h3 { margin: 0 0 12px; text-align: center; color: var(--primary); }\n                      .builder-wrapper .grid { display: grid; grid-template-columns: repeat(3, var(--slot)); grid-template-rows: repeat(5, var(--slot)); gap: var(--gap); margin-top: 12px; }\n                      .builder-wrapper .skill { width: var(--slot); height: var(--slot); background: var(--skill-slot); border: 2px solid #444; border-radius: 10px; position: relative; cursor: pointer; display: flex; flex-direction: column; align-items: center; justify-content: center; }\n                      .builder-wrapper .skill.locked { opacity: 0.3; filter: grayscale(1); cursor: not-allowed; }\n                      .builder-wrapper .skill.has-points { border-color: var(--primary); }\n                      .builder-wrapper .skill img { width: 100%; height: 100%; object-fit: contain; border-radius: 8px; display: block; }\n                      .builder-wrapper .skill .name-label { position: absolute; top: 4px; left: 4px; right: 4px; font-size: 9px; text-align: center; color: #e4e4e7; text-shadow: 0 1px 1px rgba(0,0,0,.8); pointer-events: none; }\n                      .builder-wrapper .lvl-badge { position: absolute; bottom: -5px; right: -5px; background: #000; border: 1px solid var(--primary); padding: 1px 5px; font-size: 11px; }\n                      .builder-wrapper .plus-btn { position: absolute; top: -10px; right: -10px; background: #333; color: #fff; border: 1px solid #555; width: 24px; height: 24px; border-radius: 50%; font-weight: bold; cursor: pointer; z-index: 10; }\n                      .builder-wrapper .active-plus { background: var(--primary) !important; color: #000 !important; box-shadow: 0 0 8px var(--primary); }\n                      .builder-wrapper #sub-window { position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 350px; background: #1a1a20; border: 2px solid var(--primary); border-radius: 15px; padding: 20px; z-index: 1000; display: none; }\n                      .builder-wrapper .overlay { position: fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.85); display:none; z-index: 999; }\n                      .builder-wrapper .sub-skill-card { background: #25252b; margin: 8px 0; padding: 12px; border-radius: 8px; display: flex; justify-content: space-between; border: 1px solid #444; }\n                      @media (max-width: 1200px) {\n                        :root { --slot: 92px; --gap: 16px; --pad: 18px; }\n                        .builder-wrapper .stat-box span { font-size: 17px; }\n                      }\n                      @media (max-width: 1060px) {\n                        :root { --slot: 88px; --gap: 14px; --pad: 16px; }\n                        .builder-wrapper .tree-wrapper { gap: 28px; }\n                      }\n                      @media (max-width: 980px) {\n                        :root { --slot: 82px; --gap: 12px; --pad: 14px; }\n                        .builder-wrapper .tree-wrapper { gap: 24px; }\n                      }\n                      @media (max-width: 920px) {\n                        :root { --slot: 76px; --gap: 12px; --pad: 12px; }\n                        .builder-wrapper .tree-wrapper { gap: 20px; }\n                        .builder-wrapper .stat-box span { font-size: 16px; }\n                      }\n                    "}),(0,tm.jsxs)("div",{className:"builder-wrapper p-4 md:p-6",children:[(0,tm.jsxs)("div",{className:"class-menu",children:[(0,tm.jsx)("span",{className:"class-menu-title",children:"Classes"}),(0,tm.jsx)("div",{className:"class-menu-grid",children:h.map(e=>{const t=Me(e.name),n=g===e.name;return(0,tm.jsx)("button",{type:"button",title:e.name,className:"class-icon".concat(n?" selected":""),onClick:()=>v(e.name),children:(0,tm.jsx)("img",{src:t,onError:t=>{const n=t.currentTarget;n.dataset.fallback||(n.dataset.fallback="1",n.src=Me(e.name,"png"))},alt:e.name})},e.name)})})]}),(0,tm.jsxs)("div",{className:"dashboard",children:[(0,tm.jsxs)("div",{className:"stat-box",children:[(0,tm.jsx)("span",{children:g?"".concat(g," - Level"):"Level"})," 100"]}),(0,tm.jsxs)("div",{className:"stat-box",children:[(0,tm.jsx)("label",{children:"Main Points"}),(0,tm.jsx)("span",{id:"main-pts",children:"100"})]}),(0,tm.jsxs)("div",{className:"stat-box",children:[(0,tm.jsx)("label",{children:"Sub-Skill Points"}),(0,tm.jsx)("span",{id:"sub-pts",children:"20"})]})]}),(0,tm.jsxs)("div",{className:"tree-wrapper",children:[(0,tm.jsxs)("div",{className:"specialization-box",children:[(0,tm.jsx)("h3",{id:"tree-title-1",style:{textAlign:"center",color:"var(--primary)"},children:"Berserker"}),(0,tm.jsx)("div",{className:"grid",id:"grid-berserker"})]}),(0,tm.jsxs)("div",{className:"specialization-box",children:[(0,tm.jsx)("h3",{id:"tree-title-2",style:{textAlign:"center",color:"var(--primary)"},children:"Shield Bearer"}),(0,tm.jsx)("div",{className:"grid",id:"grid-shield"})]})]}),(0,tm.jsx)("div",{className:"overlay",id:"overlay"}),(0,tm.jsxs)("div",{id:"sub-window",children:[(0,tm.jsx)("h3",{id:"sub-title",style:{color:"var(--primary)",marginTop:0},children:"Sub-skills"}),(0,tm.jsx)("div",{id:"sub-content"}),(0,tm.jsx)("button",{style:{width:"100%",marginTop:15,cursor:"pointer"},onClick:()=>{const e=document.getElementById("sub-window"),t=document.getElementById("overlay");e&&(e.style.display="none"),t&&(t.style.display="none")},children:"Voltar"})]})]})]}),ke&&xe&&(0,tm.jsxs)("div",{className:"fixed inset-0 z-50",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-black/80",onClick:()=>{Ee(!1),Se(null)}}),(0,tm.jsx)("div",{className:"absolute inset-0 flex items-center justify-center p-4",children:(0,tm.jsxs)("div",{className:"bg-[#151923] border border-white/10 rounded-sm shadow-xl max-w-3xl w-full max-h-[80vh] flex flex-col",children:[(0,tm.jsxs)("div",{className:"flex items-center justify-between px-5 py-4 border-b border-white/10",children:[(0,tm.jsxs)("div",{children:[(0,tm.jsx)("div",{className:"text-sm font-black text-white uppercase tracking-widest",children:xe.title||"(sem t\xedtulo)"}),(0,tm.jsxs)("div",{className:"text-[11px] text-gray-400 mt-1",children:[xe.className||xe.heroClass||"",xe.author?" \xb7 ".concat(xe.author):""]})]}),(0,tm.jsx)("button",{type:"button",className:"px-3 py-1 text-xs font-bold uppercase tracking-widest border border-white/10 text-gray-300 hover:bg-white hover:text-black transition-colors",onClick:()=>{Ee(!1),Se(null)},children:"Fechar"})]}),(0,tm.jsx)("div",{className:"p-5 overflow-y-auto text-sm leading-relaxed custom-scrollbar",children:_e?(0,tm.jsx)("div",{className:"prose prose-invert prose-sm max-w-none",dangerouslySetInnerHTML:{__html:_e}}):(0,tm.jsx)("div",{className:"text-gray-500 text-sm",children:"Nenhum conte\xfado detalhado foi cadastrado para esta build."})})]})})]}),"quests"===i&&(0,tm.jsxs)("div",{className:"flex flex-col items-center justify-center h-96 border border-white/5 bg-[#151923] p-12 text-center animate-fade-in",children:[(0,tm.jsx)("span",{className:"text-6xl mb-6 grayscale opacity-50",children:"\ud83d\udea7"}),(0,tm.jsxs)("h2",{className:"text-3xl font-black text-white uppercase italic tracking-tighter mb-4",children:["Em ",(0,tm.jsx)("span",{className:"text-red-600",children:"Atualiza\xe7\xe3o"})]}),(0,tm.jsx)("p",{className:"text-gray-400 max-w-md mx-auto",children:"Esta se\xe7\xe3o est\xe1 sendo desenvolvida para a Season 9. Em breve novidades!"})]}),"relics"===i&&(0,tm.jsxs)("div",{className:"space-y-6 animate-fade-in",children:[(0,tm.jsx)("div",{className:"flex items-end justify-between mb-6 border-b border-white/10 pb-4",children:(0,tm.jsxs)("h2",{className:"text-4xl font-black text-white uppercase italic tracking-tighter",children:["Banco de ",(0,tm.jsx)("span",{className:"text-red-600",children:"Rel\xedquias"})]})}),(0,tm.jsx)(xm,{db:Ed})]}),"contact"===i&&(0,tm.jsx)("div",{className:"animate-fade-in",children:(0,tm.jsxs)("div",{className:"space-y-6 max-w-xl",children:[(0,tm.jsxs)("h2",{className:"text-3xl font-black text-white uppercase italic tracking-tighter",children:["Fale ",(0,tm.jsx)("span",{className:"text-red-600",children:"Conosco"})]}),(0,tm.jsxs)("div",{className:"bg-[#151923] p-6 border border-white/10 space-y-4",children:[(0,tm.jsx)("input",{value:V,onChange:e=>U(e.target.value),placeholder:"Seu nome",className:"w-full bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 outline-none transition-colors"}),(0,tm.jsx)("input",{value:B,onChange:e=>H(e.target.value),placeholder:"Seu e-mail",className:"w-full bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 outline-none transition-colors"}),(0,tm.jsxs)("select",{value:W,onChange:e=>G(e.target.value),className:"w-full bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 outline-none transition-colors",children:[(0,tm.jsx)("option",{value:"Contato",children:"Contato"}),(0,tm.jsx)("option",{value:"Reclama\xe7\xe3o",children:"Reclama\xe7\xe3o"}),(0,tm.jsx)("option",{value:"Sugest\xe3o",children:"Sugest\xe3o"}),(0,tm.jsx)("option",{value:"Parceria",children:"Parceria"}),(0,tm.jsx)("option",{value:"Bug",children:"Bug"}),(0,tm.jsx)("option",{value:"Outro",children:"Outro"})]}),(0,tm.jsx)("textarea",{value:K,onChange:e=>Q(e.target.value),placeholder:"Sua mensagem",rows:"5",className:"w-full bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 outline-none transition-colors"}),(0,tm.jsx)("input",{value:Y,onChange:e=>J(e.target.value),placeholder:"Link de imagem (opcional)",className:"w-full bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 outline-none transition-colors"}),(0,tm.jsxs)("div",{className:"flex flex-col gap-2 text-xs text-gray-300",children:[(0,tm.jsx)("span",{children:"Verifica\xe7\xe3o simples:"}),(0,tm.jsxs)("div",{className:"flex items-center gap-2",children:[(0,tm.jsxs)("span",{className:"px-3 py-2 bg-black/40 border border-white/10 rounded",children:[Z," ",re," ",te," ="]}),(0,tm.jsx)("input",{value:$,onChange:e=>X(e.target.value),placeholder:"Resultado",className:"w-24 bg-black/30 border border-white/10 p-2 text-xs text-white focus:border-red-500 outline-none transition-colors"}),(0,tm.jsx)("button",{type:"button",onClick:Ne,className:"text-[10px] uppercase tracking-widest border border-white/10 px-2 py-1 hover:bg-white/5 text-gray-300",children:"Trocar"})]})]}),(0,tm.jsxs)("div",{className:"flex items-center gap-3",children:[(0,tm.jsx)("button",{onClick:async()=>{if(ue(""),le(!1),!V||!B||!K||!W)return void ue("Preencha todos os campos.");const e="+"===re?Z+te:Z-te,t=parseInt(String($).trim(),10);if(Number.isNaN(t)||t!==e)return ue("Verifica\xe7\xe3o incorreta. Tente novamente."),void Ne();try{se(!0),await bd(du(Ed,"messages"),{name:V,email:B,category:W,message:K,imageUrl:Y||"",read:!1,createdAt:Wu()}),U(""),H(""),G("Contato"),Q(""),J(""),X(""),Ne(),le(!0)}catch(n){ue("Erro ao enviar. Tente novamente.")}finally{se(!1)}},disabled:ae,className:"border border-white/10 text-white font-bold uppercase px-6 py-3 text-xs tracking-widest hover:bg-white/5 transition-colors disabled:opacity-50",children:"Enviar"}),oe&&(0,tm.jsx)("span",{className:"text-xs text-green-400",children:"Recebido! Obrigado pelo contato."}),!!ce&&(0,tm.jsx)("span",{className:"text-xs text-red-400",children:ce})]})]})]})}),"blog"===i&&(0,tm.jsxs)("div",{className:"space-y-8",children:[!F&&(0,tm.jsxs)(tm.Fragment,{children:[(0,tm.jsxs)("div",{className:"flex items-end justify-between mb-6 border-b border-white/10 pb-6",children:[(0,tm.jsx)("h2",{className:"text-4xl font-black text-white uppercase italic tracking-tighter",children:"Blog"}),(0,tm.jsxs)("span",{className:"text-xs text-gray-500 font-bold uppercase tracking-widest",children:[O.length," posts"]})]}),(0,tm.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:O.map(e=>(0,tm.jsxs)("div",{onClick:()=>{q(e),window.location.hash="#blog/".concat(e.id)},className:"group relative bg-[#151923] border border-white/5 overflow-hidden cursor-pointer hover:border-orange-500/50 transition-all",children:[(0,tm.jsxs)("div",{className:"h-40 overflow-hidden relative flex items-center justify-center bg-black/50",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-[#151923] to-transparent z-10"}),(0,tm.jsx)("img",{src:Oe(e.image),alt:e.title,onError:e=>{e.currentTarget.src="https://herosiege.wiki.gg/images/Item_Chest.png"},className:"h-full object-contain opacity-80 group-hover:opacity-100 group-hover:scale-110 transition-all duration-500"})]}),(0,tm.jsxs)("div",{className:"p-5 relative z-20 -mt-2",children:[(0,tm.jsx)("span",{className:"text-[10px] text-orange-500 font-bold uppercase tracking-widest",children:qe(e)}),(0,tm.jsx)("h4",{className:"text-white font-bold text-lg mt-1 leading-tight group-hover:text-orange-500 transition-colors",children:e.title}),e.author&&(0,tm.jsx)("div",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-1",children:e.author}),e.excerpt&&(0,tm.jsx)("p",{className:"text-gray-500 text-xs mt-2 leading-relaxed",children:e.excerpt})]})]},e.id))})]}),F&&(0,tm.jsxs)("div",{children:[(0,tm.jsx)("button",{onClick:()=>{q(null),window.location.hash="#blog"},className:"text-xs uppercase tracking-widest font-bold text-gray-400 hover:text-white mb-4",children:"\u2190 Voltar"}),(0,tm.jsxs)("div",{className:"bg-[#151923] border border-white/5",children:[(0,tm.jsx)("div",{className:"h-60 w-full overflow-hidden relative flex items-center justify-center bg-black/50",children:(0,tm.jsx)("img",{src:Oe(F.image),alt:F.title,onError:e=>{e.currentTarget.src="https://herosiege.wiki.gg/images/Item_Chest.png"},className:"h-full object-contain"})}),(0,tm.jsxs)("div",{className:"p-6",children:[(0,tm.jsx)("span",{className:"text-[10px] text-orange-500 font-bold uppercase tracking-widest",children:qe(F)}),(0,tm.jsx)("h1",{className:"text-3xl font-black text-white uppercase italic tracking-tighter mt-1",children:F.title}),F.author&&(0,tm.jsx)("div",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-1",children:F.author}),Array.isArray(F.tags)&&F.tags.length>0&&(0,tm.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:F.tags.map(e=>(0,tm.jsx)("span",{className:"text-[10px] px-2 py-0.5 border border-white/10 text-gray-400 uppercase tracking-widest",children:e},e))}),F.excerpt&&(0,tm.jsx)("p",{className:"text-gray-400 text-sm mt-3",children:F.excerpt}),(0,tm.jsx)("div",{className:"mt-6 prose prose-invert max-w-none",ref:Ue}),(0,tm.jsx)("div",{className:"mt-6",children:(0,tm.jsx)("button",{onClick:()=>{const e="".concat(window.location.origin).concat(window.location.pathname,"#blog/").concat(F.id);var t;navigator.share?navigator.share({title:F.title,url:e}).catch(()=>{}):(null===(t=navigator.clipboard)||void 0===t||t.writeText(e),alert("Link copiado para a \xe1rea de transfer\xeancia."))},className:"border border-white/10 text-white font-bold uppercase px-6 py-3 text-xs tracking-widest hover:bg-white/5 transition-colors",children:"Compartilhar"})}),(0,tm.jsxs)("div",{className:"mt-10",children:[(0,tm.jsx)("h3",{className:"text-sm font-bold uppercase tracking-widest text-gray-400 mb-3",children:"Coment\xe1rios"}),(0,tm.jsx)(bm,{postId:F.id})]})]})]})]})]})]}),(0,tm.jsxs)("aside",{className:"w-full md:w-80 flex-shrink-0 space-y-12",children:[(0,tm.jsxs)("div",{className:"bg-[#151923] p-6 border border-white/5",children:[(0,tm.jsx)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-widest mb-4",children:"Database Search"}),(0,tm.jsxs)("div",{className:"relative",children:[(0,tm.jsx)("input",{type:"text",placeholder:"Search hero, skill, item...",className:"w-full bg-black/30 border border-white/10 p-3 text-sm text-white focus:border-red-500 focus:outline-none transition-colors"}),(0,tm.jsx)("span",{className:"absolute right-3 top-3 text-gray-600",children:"\ud83d\udd0d"})]})]}),(0,tm.jsxs)("div",{className:"bg-[#151923] p-6 border border-white/5 text-center relative overflow-hidden group",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-gray-700/10 to-transparent opacity-40 group-hover:opacity-70 transition-opacity"}),(0,tm.jsxs)("div",{className:"relative z-10",children:[(0,tm.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-2",children:[(0,tm.jsx)("img",{src:"https://store.steampowered.com/favicon.ico",alt:"Steam",className:"w-4 h-4 opacity-80"}),(0,tm.jsx)("h3",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Jogadores Online"}),!!Ie&&(0,tm.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-500 animate-pulse"})]}),(0,tm.jsxs)("div",{className:"flex items-baseline justify-center gap-3",children:[(0,tm.jsx)("span",{className:"text-gray-400",children:(0,tm.jsxs)("svg",{className:"w-7 h-7",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",children:[(0,tm.jsx)("circle",{cx:"8",cy:"7",r:"3"}),(0,tm.jsx)("circle",{cx:"16",cy:"9",r:"2.5"}),(0,tm.jsx)("path",{d:"M2 20c0-3.5 3-6 6-6s6 2.5 6 6H2z"}),(0,tm.jsx)("path",{d:"M13 20c0-2.5 2-4.5 4.5-4.5S22 17.5 22 20h-9z"})]})}),(0,tm.jsx)("div",{className:"text-5xl font-black text-white tracking-tight",children:null!==Ie&&void 0!==Ie?Ie:"\u2014"})]})]})]}),(0,tm.jsxs)("div",{className:"bg-[#151923] p-6 border border-white/5 relative overflow-hidden group",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-red-600/10 to-transparent opacity-50 group-hover:opacity-100 transition-opacity"}),(0,tm.jsxs)("div",{className:"relative z-10 text-center",children:[(0,tm.jsx)("span",{className:"text-[10px] text-red-500 font-bold uppercase tracking-[0.2em] mb-2 block",children:"Next Season"}),(0,tm.jsxs)("h3",{className:"text-2xl font-black text-white italic uppercase tracking-tighter mb-1",children:["Season ",(0,tm.jsx)("span",{className:"text-red-600",children:"9"})," Start"]}),(0,tm.jsx)("h4",{className:"text-lg font-bold text-orange-500 uppercase tracking-widest mb-4",children:"Incarnation"}),(0,tm.jsxs)("div",{className:"grid grid-cols-3 gap-2 text-center",children:[(0,tm.jsxs)("div",{className:"bg-black/40 p-2 border border-white/5 rounded-sm",children:[(0,tm.jsx)("span",{className:"block text-xl font-bold text-white",children:E.days}),(0,tm.jsx)("span",{className:"text-[8px] text-gray-500 uppercase font-bold tracking-wider",children:"Days"})]}),(0,tm.jsxs)("div",{className:"bg-black/40 p-2 border border-white/5 rounded-sm",children:[(0,tm.jsx)("span",{className:"block text-xl font-bold text-white",children:E.hours}),(0,tm.jsx)("span",{className:"text-[8px] text-gray-500 uppercase font-bold tracking-wider",children:"Hours"})]}),(0,tm.jsxs)("div",{className:"bg-black/40 p-2 border border-white/5 rounded-sm",children:[(0,tm.jsx)("span",{className:"block text-xl font-bold text-white",children:E.minutes}),(0,tm.jsx)("span",{className:"text-[8px] text-gray-500 uppercase font-bold tracking-wider",children:"Mins"})]})]}),(0,tm.jsx)("p",{className:"text-[10px] text-gray-600 mt-4 font-mono",children:"Target: April 3, 2026 (Est.)"})]})]}),(0,tm.jsxs)("div",{children:[(0,tm.jsxs)("h3",{className:"text-xl font-black text-white uppercase italic mb-6 border-l-4 border-red-600 pl-4",children:["\xdaltimas ",(0,tm.jsx)("span",{className:"text-red-600",children:"Atualiza\xe7\xf5es"})]}),(0,tm.jsx)("div",{className:"space-y-4",children:O.slice(0,3).map(e=>(0,tm.jsxs)("div",{className:"flex gap-4 group cursor-pointer",onClick:()=>{a("blog"),q(e),window.location.hash="#blog/".concat(e.id)},children:[(0,tm.jsx)("div",{className:"w-20 h-20 bg-[#151923] flex-shrink-0 overflow-hidden relative",children:e.image?(0,tm.jsx)("img",{src:Oe(e.image),alt:e.title,onError:e=>{e.currentTarget.src="https://herosiege.wiki.gg/images/Item_Chest.png"},className:"w-full h-full object-cover opacity-80 group-hover:opacity-100 transition-colors"}):(0,tm.jsx)("div",{className:"w-full h-full bg-gray-800 group-hover:bg-red-900/20 transition-colors"})}),(0,tm.jsxs)("div",{children:[(0,tm.jsx)("span",{className:"text-[10px] text-red-500 font-bold uppercase",children:qe(e)}),(0,tm.jsx)("h4",{className:"text-white font-bold leading-tight group-hover:text-red-500 transition-colors",children:e.title})]})]},e.id))})]}),(0,tm.jsxs)("div",{className:"bg-gradient-to-br from-red-600 to-red-900 p-8 text-center",children:[(0,tm.jsx)("h3",{className:"text-2xl font-black text-white italic uppercase mb-2",children:"Join the Fight"}),(0,tm.jsx)("p",{className:"text-red-100 text-xs mb-6",children:"Comece sua jornada em Tarethiel hoje mesmo!"}),(0,tm.jsx)("a",{href:"https://store.steampowered.com/app/269210/Hero_Siege/",target:"_blank",rel:"noopener noreferrer",className:"inline-block w-full bg-white text-red-900 font-bold uppercase py-3 text-xs tracking-widest hover:bg-gray-100 transition-colors",children:"Buy on Steam"})]})]})]})}),(0,tm.jsx)("footer",{className:"bg-[#0b0d14] border-t border-white/5 py-12",children:(0,tm.jsxs)("div",{className:"max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center opacity-50 hover:opacity-100 transition-opacity",children:[(0,tm.jsx)("div",{className:"text-sm text-gray-500",children:"Hero Siege Brasil 2026\xa9 Este site n\xe3o \xe9 afiliado \xe0 Panic Art Studios. Todos os assets e dados pertencem aos seus respectivos donos."}),(0,tm.jsxs)("div",{className:"flex gap-6 mt-4 md:mt-0",children:[(0,tm.jsx)("a",{href:"https://discord.gg/herosiegeofficial",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-white cursor-pointer transition-colors",children:"Discord"}),(0,tm.jsx)("a",{href:"https://store.steampowered.com/app/269210/Hero_Siege/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-white cursor-pointer transition-colors",children:"Steam"}),(0,tm.jsx)("a",{href:"https://www.panicartstudios.com/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-500 hover:text-white cursor-pointer transition-colors",children:"PAS"})]})]})}),f&&(0,tm.jsxs)("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-black/90 backdrop-blur-sm",onClick:He}),(0,tm.jsxs)("div",{className:"relative bg-[#0f111a] w-full max-w-6xl h-[85vh] border border-white/10 flex flex-col md:flex-row shadow-2xl overflow-hidden animate-fade-in",children:[(0,tm.jsx)("button",{onClick:He,className:"absolute top-4 right-4 z-50 w-10 h-10 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition-colors shadow-lg",children:"\u2715"}),(0,tm.jsxs)("div",{className:"w-full md:w-80 bg-[#0b0d14] border-r border-white/5 relative overflow-hidden flex flex-col",children:[(0,tm.jsx)("div",{className:"absolute inset-0 bg-[url('https://herosiege.wiki.gg/images/c/c5/Viking_SkinID_1.png')] bg-cover opacity-5"}),(0,tm.jsxs)("div",{className:"w-full h-full overflow-y-auto custom-scrollbar p-8 flex flex-col items-center text-center relative z-10",children:[(0,tm.jsx)("img",{src:Me(f),onError:e=>{const t=e.currentTarget;t.dataset.fallback||(t.dataset.fallback="1",t.src=Me(f,"png"))},alt:f,className:"w-48 h-48 object-contain drop-shadow-[0_10px_20px_rgba(0,0,0,0.5)] mb-6"}),(0,tm.jsx)("h2",{className:"text-3xl font-black text-white uppercase italic tracking-tighter mb-2",children:f}),(0,tm.jsx)("div",{className:"w-full h-px bg-white/10 my-6 flex-shrink-0"}),w?(0,tm.jsx)("div",{className:"text-red-500 animate-pulse",children:"Carregando dados..."}):y?(0,tm.jsxs)("div",{className:"w-full text-left space-y-6",children:[(0,tm.jsxs)("div",{className:"bg-[#151923] p-4 border border-white/5",children:[(0,tm.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,tm.jsx)("span",{className:"text-xl",children:"\u2694\ufe0f"}),(0,tm.jsx)("span",{className:"text-gray-400 text-xs font-bold uppercase",children:"Equipamento"})]}),(0,tm.jsx)("div",{className:"text-white font-bold text-sm leading-tight",children:y.weapon})]}),(0,tm.jsx)("div",{className:"space-y-1",children:y.sections.map((e,t)=>{const n=(null===e||void 0===e?void 0:e.title)&&String(e.title).trim()?e.title:null!==e&&void 0!==e&&e.isExtra?"\ud83d\udd0d Extra":Le(f,t);return(0,tm.jsx)("button",{onClick:()=>k(t),className:"w-full text-left px-4 py-3 text-xs font-bold uppercase tracking-wider transition-all border-l-2 select-none ".concat(S===t?"bg-red-600/10 border-red-600 text-white":"border-transparent text-gray-500 hover:text-white hover:bg-white/5"),children:n},t)})})]}):(0,tm.jsx)("div",{className:"text-gray-500",children:"Selecionando..."})]})]}),(0,tm.jsxs)("div",{className:"flex-1 bg-[#0f111a] relative overflow-hidden flex flex-col",children:[(0,tm.jsx)("div",{className:"h-20 border-b border-white/5 flex items-center px-8 bg-[#0f111a]",children:(0,tm.jsx)("h3",{className:"text-xl font-bold text-gray-300 uppercase",children:(e=>{const t=null===y||void 0===y||null===(e=y.sections)||void 0===e?void 0:e[S];if(!t)return"Detalhes";return(null===t||void 0===t?void 0:t.title)&&String(t.title).trim()?t.title:null!==t&&void 0!==t&&t.isExtra?"\ud83d\udd0d Extra":Le(f,S)})()})}),(0,tm.jsx)("div",{className:"flex-1 overflow-y-auto p-8 custom-scrollbar",children:w?(0,tm.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,tm.jsx)("div",{className:"w-12 h-12 border-4 border-red-600 border-t-transparent rounded-full animate-spin"})}):y?(0,tm.jsx)("div",{className:"wiki-content prose prose-invert prose-red max-w-none",dangerouslySetInnerHTML:{__html:null===(t=y.sections[S])||void 0===t?void 0:t.html}}):(0,tm.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:"Selecione uma classe para ver os detalhes"})})]})]})]}),(0,tm.jsx)("style",{children:"\n        .custom-scrollbar::-webkit-scrollbar {\n            width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n            background: #0b0d14;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n            background: #333;\n            border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n            background: #ef4444;\n        }\n        \n        /* Wiki Content Styles Override */\n        .wiki-content table {\n            width: 100%;\n            border-collapse: separate;\n            border-spacing: 0 4px;\n            margin-bottom: 2rem;\n        }\n        .wiki-content tr {\n            background: #151923;\n        }\n        .wiki-content td {\n            padding: 1rem;\n            border: 1px solid #2a303c;\n            color: #9ca3af;\n        }\n        .wiki-content td:first-child {\n            border-left: 2px solid #ef4444;\n            width: 80px;\n            text-align: center;\n        }\n        .wiki-content img {\n            max-width: 60px;\n            border-radius: 4px;\n            border: 1px solid #444;\n        }\n        .wiki-content b {\n            color: #ef4444;\n            display: block;\n            margin-bottom: 4px;\n            font-family: 'Orbitron', sans-serif;\n            font-size: 0.9em;\n        }\n      "})]})};const Pm=function(){const e=window.location.pathname||"",t=window.location.hash||"";return e.startsWith("/painel")||t.startsWith("#painel")?(0,tm.jsx)(vm,{}):(0,tm.jsx)(Im,{})},Am=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,tm.jsx)(r.StrictMode,{children:(0,tm.jsx)(Pm,{})})),Am()})();
//# sourceMappingURL=main.6fe89703.js.map