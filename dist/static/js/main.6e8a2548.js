/*! For license information please see main.6e8a2548.js.LICENSE.txt */
(()=>{"use strict";var e={4(e,t,n){var r=n(853),i=n(43),a=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(31===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function d(e){if(l(e)!==e)throw Error(s(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var f=Object.assign,p=Symbol.for("react.element"),m=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),v=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),w=Symbol.for("react.consumer"),S=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var C=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function j(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case v:return"Fragment";case b:return"Profiler";case y:return"StrictMode";case k:return"Suspense";case E:return"SuspenseList";case C:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case S:return e.displayName||"Context";case w:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case _:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return j(e(t))}catch(Lr){}}return null}var R=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},M=[],F=-1;function z(e){return{current:e}}function U(e){0>F||(e.current=M[F],M[F]=null,F--)}function V(e,t){F++,M[F]=e.current,e.current=t}var B,q,H=z(null),W=z(null),K=z(null),G=z(null);function Q(e,t){switch(V(K,t),V(W,e),V(H,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=bd(t=yd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(H),V(H,e)}function Y(){U(H),U(W),U(K)}function $(e){null!==e.memoizedState&&V(G,e);var t=H.current,n=bd(t,e.type);t!==n&&(V(W,e),V(H,n))}function J(e){W.current===e&&(U(H),U(W)),G.current===e&&(U(G),dh._currentValue=L)}function X(e){if(void 0===B)try{throw Error()}catch(Lr){var t=Lr.stack.trim().match(/\n( *(at )?)/);B=t&&t[1]||"",q=-1<Lr.stack.indexOf("\n    at")?" (<anonymous>)":-1<Lr.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+B+e+q}var Z=!1;function ee(e,t){if(!e||Z)return"";Z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(Lr){var r=Lr}Reflect.construct(e,[],n)}else{try{n.call()}catch(i){r=i}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split("\n"),c=o.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{Z=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?X(n):""}function te(e,t){switch(e.tag){case 26:case 27:case 5:return X(e.type);case 16:return X("Lazy");case 13:return e.child!==t&&null!==t?X("Suspense Fallback"):X("Suspense");case 19:return X("SuspenseList");case 0:case 15:return ee(e.type,!1);case 11:return ee(e.type.render,!1);case 1:return ee(e.type,!0);case 31:return X("Activity");default:return""}}function ne(e){try{var t="",n=null;do{t+=te(e,n),n=e,e=e.return}while(e);return t}catch(Lr){return"\nError generating stack: "+Lr.message+"\n"+Lr.stack}}var re=Object.prototype.hasOwnProperty,ie=r.unstable_scheduleCallback,ae=r.unstable_cancelCallback,se=r.unstable_shouldYield,oe=r.unstable_requestPaint,le=r.unstable_now,ce=r.unstable_getCurrentPriorityLevel,ue=r.unstable_ImmediatePriority,de=r.unstable_UserBlockingPriority,he=r.unstable_NormalPriority,fe=r.unstable_LowPriority,pe=r.unstable_IdlePriority,me=r.log,ge=r.unstable_setDisableYieldValue,ve=null,ye=null;function be(e){if("function"===typeof me&&ge(e),ye&&"function"===typeof ye.setStrictMode)try{ye.setStrictMode(ve,e)}catch(t){}}var we=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(Se(e)/xe|0)|0},Se=Math.log,xe=Math.LN2;var ke=256,Ee=262144,_e=4194304;function Te(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return 261888&e;case 262144:case 524288:case 1048576:case 2097152:return 3932160&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ce(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,a=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var o=134217727&r;return 0!==o?0!==(r=o&~a)?i=Te(r):0!==(s&=o)?i=Te(s):n||0!==(n=o&~e)&&(i=Te(n)):0!==(o=r&~a)?i=Te(o):0!==s?i=Te(s):n||0!==(n=r&~e)&&(i=Te(n)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(n=t&-t)||32===a&&0!==(4194048&n))?t:i}function Ie(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ne(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ae(){var e=_e;return 0===(62914560&(_e<<=1))&&(_e=4194304),e}function Pe(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function je(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Re(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-we(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|261930&n}function De(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-we(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Oe(e,t){var n=t&-t;return 0!==((n=0!==(42&n)?1:Le(n))&(e.suspendedLanes|t))?0:n}function Le(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Me(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Fe(){var e=O.p;return 0!==e?e:void 0===(e=window.event)?32:Ch(e.type)}function ze(e,t){var n=O.p;try{return O.p=e,t()}finally{O.p=n}}var Ue=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Ue,Be="__reactProps$"+Ue,qe="__reactContainer$"+Ue,He="__reactEvents$"+Ue,We="__reactListeners$"+Ue,Ke="__reactHandles$"+Ue,Ge="__reactResources$"+Ue,Qe="__reactMarker$"+Ue;function Ye(e){delete e[Ve],delete e[Be],delete e[He],delete e[We],delete e[Ke]}function $e(e){var t=e[Ve];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qe]||n[Ve]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Md(e);null!==e;){if(n=e[Ve])return n;e=Md(e)}return t}n=(e=n).parentNode}return null}function Je(e){if(e=e[Ve]||e[qe]){var t=e.tag;if(5===t||6===t||13===t||31===t||26===t||27===t||3===t)return e}return null}function Xe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function Ze(e){var t=e[Ge];return t||(t=e[Ge]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[Qe]=!0}var tt=new Set,nt={};function rt(e,t){it(e,t),it(e+"Capture",t)}function it(e,t){for(nt[e]=t,e=0;e<t.length;e++)tt.add(t[e])}var at=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),st={},ot={};function lt(e,t,n){if(i=t,re.call(ot,i)||!re.call(st,i)&&(at.test(i)?ot[i]=!0:(st[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function ct(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function ut(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ht(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ft(e){if(!e._valueTracker){var t=ht(e)?"checked":"value";e._valueTracker=function(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e,t,""+e[t])}}function pt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ht(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function mt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var gt=/[\n"\\]/g;function vt(e){return e.replace(gt,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,n,r,i,a,s,o){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+dt(t)):e.value!==""+dt(t)&&(e.value=""+dt(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?wt(e,s,dt(t)):null!=n?wt(e,s,dt(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.name=""+dt(o):e.removeAttribute("name")}function bt(e,t,n,r,i,a,s,o){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=n){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return void ft(e);n=null!=n?""+dt(n):"",t=null!=t?""+dt(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=o?e.checked:!!r,e.defaultChecked=!!r,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s),ft(e)}function wt(e,t,n){"number"===t&&mt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function St(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+dt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function xt(e,t,n){null==t||((t=""+dt(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+dt(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function kt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(s(92));if(R(r)){if(1<r.length)throw Error(s(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=dt(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r),ft(e)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var _t=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||_t.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Tt(e,i,r)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Pt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jt(){}var Rt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Lt=null;function Mt(e){var t=Je(e);if(t&&(e=t.stateNode)){var n=e[Be]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+vt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Be]||null;if(!i)throw Error(s(90));yt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&pt(r)}break e;case"textarea":xt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&St(e,!!n.multiple,t,!1)}}}var Ft=!1;function zt(e,t,n){if(Ft)return e(t,n);Ft=!0;try{return e(t)}finally{if(Ft=!1,(null!==Ot||null!==Lt)&&(eu(),Ot&&(t=Ot,e=Lt,Lt=Ot=null,Mt(t),e)))for(t=0;t<e.length;t++)Mt(e[t])}}function Ut(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Be]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Vt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Vt)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch(Xh){Bt=!1}var Ht=null,Wt=null,Kt=null;function Gt(){if(Kt)return Kt;var e,t,n=Wt,r=n.length,i="value"in Ht?Ht.value:Ht.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[a-t];t++);return Kt=i.slice(e,1<t?1-t:void 0)}function Qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Yt(){return!0}function $t(){return!1}function Jt(e){function t(t,n,r,i,a){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Yt:$t,this.isPropagationStopped=$t,this}return f(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Yt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Yt)},persist:function(){},isPersistent:Yt}),t}var Xt,Zt,en,tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nn=Jt(tn),rn=f({},tn,{view:0,detail:0}),an=Jt(rn),sn=f({},rn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==en&&(en&&"mousemove"===e.type?(Xt=e.screenX-en.screenX,Zt=e.screenY-en.screenY):Zt=Xt=0,en=e),Xt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),on=Jt(sn),ln=Jt(f({},sn,{dataTransfer:0})),cn=Jt(f({},rn,{relatedTarget:0})),un=Jt(f({},tn,{animationName:0,elapsedTime:0,pseudoElement:0})),dn=Jt(f({},tn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),hn=Jt(f({},tn,{data:0})),fn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=mn[e])&&!!t[e]}function vn(){return gn}var yn=Jt(f({},rn,{key:function(e){if(e.key){var t=fn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vn,charCode:function(e){return"keypress"===e.type?Qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),bn=Jt(f({},sn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),wn=Jt(f({},rn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vn})),Sn=Jt(f({},tn,{propertyName:0,elapsedTime:0,pseudoElement:0})),xn=Jt(f({},sn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),kn=Jt(f({},tn,{newState:0,oldState:0})),En=[9,13,27,32],_n=Vt&&"CompositionEvent"in window,Tn=null;Vt&&"documentMode"in document&&(Tn=document.documentMode);var Cn=Vt&&"TextEvent"in window&&!Tn,In=Vt&&(!_n||Tn&&8<Tn&&11>=Tn),Nn=String.fromCharCode(32),An=!1;function Pn(e,t){switch(e){case"keyup":return-1!==En.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Dn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Dn[e.type]:"textarea"===t}function Ln(e,t,n,r){Ot?Lt?Lt.push(r):Lt=[r]:Ot=r,0<(t=id(t,"onChange")).length&&(n=new nn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Mn=null,Fn=null;function zn(e){$u(e,0)}function Un(e){if(pt(Xe(e)))return e}function Vn(e,t){if("change"===e)return t}var Bn=!1;if(Vt){var qn;if(Vt){var Hn="oninput"in document;if(!Hn){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Hn="function"===typeof Wn.oninput}qn=Hn}else qn=!1;Bn=qn&&(!document.documentMode||9<document.documentMode)}function Kn(){Mn&&(Mn.detachEvent("onpropertychange",Gn),Fn=Mn=null)}function Gn(e){if("value"===e.propertyName&&Un(Fn)){var t=[];Ln(t,Fn,e,Dt(e)),zt(zn,t)}}function Qn(e,t,n){"focusin"===e?(Kn(),Fn=n,(Mn=t).attachEvent("onpropertychange",Gn)):"focusout"===e&&Kn()}function Yn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Un(Fn)}function $n(e,t){if("click"===e)return Un(t)}function Jn(e,t){if("input"===e||"change"===e)return Un(t)}var Xn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Xn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!re.call(t,i)||!Xn(e[i],t[i]))return!1}return!0}function er(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function tr(e,t){var n,r=er(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=er(r)}}function nr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?nr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function rr(e){for(var t=mt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=mt((e=t.contentWindow).document)}return t}function ir(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ar=Vt&&"documentMode"in document&&11>=document.documentMode,sr=null,or=null,lr=null,cr=!1;function ur(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;cr||null==sr||sr!==mt(r)||("selectionStart"in(r=sr)&&ir(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},lr&&Zn(lr,r)||(lr=r,0<(r=id(or,"onSelect")).length&&(t=new nn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=sr)))}function dr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var hr={animationend:dr("Animation","AnimationEnd"),animationiteration:dr("Animation","AnimationIteration"),animationstart:dr("Animation","AnimationStart"),transitionrun:dr("Transition","TransitionRun"),transitionstart:dr("Transition","TransitionStart"),transitioncancel:dr("Transition","TransitionCancel"),transitionend:dr("Transition","TransitionEnd")},fr={},pr={};function mr(e){if(fr[e])return fr[e];if(!hr[e])return e;var t,n=hr[e];for(t in n)if(n.hasOwnProperty(t)&&t in pr)return fr[e]=n[t];return e}Vt&&(pr=document.createElement("div").style,"AnimationEvent"in window||(delete hr.animationend.animation,delete hr.animationiteration.animation,delete hr.animationstart.animation),"TransitionEvent"in window||delete hr.transitionend.transition);var gr=mr("animationend"),vr=mr("animationiteration"),yr=mr("animationstart"),br=mr("transitionrun"),wr=mr("transitionstart"),Sr=mr("transitioncancel"),xr=mr("transitionend"),kr=new Map,Er="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){kr.set(e,t),rt(t,[e])}Er.push("scrollEnd");var Tr="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Cr=[],Ir=0,Nr=0;function Ar(){for(var e=Ir,t=Nr=Ir=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var a=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var s=r.pending;null===s?i.next=i:(i.next=s.next,s.next=i),r.pending=i}0!==a&&Dr(n,i,a)}}function Pr(e,t,n,r){Cr[Ir++]=e,Cr[Ir++]=t,Cr[Ir++]=n,Cr[Ir++]=r,Nr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function jr(e,t,n,r){return Pr(e,t,n,r),Or(e)}function Rr(e,t){return Pr(e,null,null,t),Or(e)}function Dr(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,a=e.return;null!==a;)a.childLanes|=n,null!==(r=a.alternate)&&(r.childLanes|=n),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-we(n),null===(r=(e=a.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),a):null}function Or(e){if(50<Wc)throw Wc=0,Kc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Mr={};function Fr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,t,n,r){return new Fr(e,t,n,r)}function Ur(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vr(e,t){var n=e.alternate;return null===n?((n=zr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Br(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function qr(e,t,n,r,i,a){var o=0;if(r=e,"function"===typeof e)Ur(e)&&(o=1);else if("string"===typeof e)o=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,H.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case C:return(e=zr(31,n,t,i)).elementType=C,e.lanes=a,e;case v:return Hr(n.children,i,a,t);case y:o=8,i|=24;break;case b:return(e=zr(12,n,t,2|i)).elementType=b,e.lanes=a,e;case k:return(e=zr(13,n,t,i)).elementType=k,e.lanes=a,e;case E:return(e=zr(19,n,t,i)).elementType=E,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case w:o=9;break e;case x:o=11;break e;case _:o=14;break e;case T:o=16,r=null;break e}o=29,n=Error(s(130,null===e?"null":typeof e,"")),r=null}return(t=zr(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Hr(e,t,n,r){return(e=zr(7,e,r,t)).lanes=n,e}function Wr(e,t,n){return(e=zr(6,e,null,t)).lanes=n,e}function Kr(e){var t=zr(18,null,null,0);return t.stateNode=e,t}function Gr(e,t,n){return(t=zr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qr=new WeakMap;function Yr(e,t){if("object"===typeof e&&null!==e){var n=Qr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:ne(t)},Qr.set(e,t),t)}return{value:e,source:t,stack:ne(t)}}var $r=[],Jr=0,Xr=null,Zr=0,ei=[],ti=0,ni=null,ri=1,ii="";function ai(e,t){$r[Jr++]=Zr,$r[Jr++]=Xr,Xr=e,Zr=t}function si(e,t,n){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ni=e;var r=ri;e=ii;var i=32-we(r)-1;r&=~(1<<i),n+=1;var a=32-we(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ri=1<<32-we(t)+i|n<<i|r,ii=a+e}else ri=1<<a|n<<i|r,ii=e}function oi(e){null!==e.return&&(ai(e,1),si(e,1,0))}function li(e){for(;e===Xr;)Xr=$r[--Jr],$r[Jr]=null,Zr=$r[--Jr],$r[Jr]=null;for(;e===ni;)ni=ei[--ti],ei[ti]=null,ii=ei[--ti],ei[ti]=null,ri=ei[--ti],ei[ti]=null}function ci(e,t){ei[ti++]=ri,ei[ti++]=ii,ei[ti++]=ni,ri=t.id,ii=t.overflow,ni=e}var ui=null,di=null,hi=!1,fi=null,pi=!1,mi=Error(s(519));function gi(e){throw xi(Yr(Error(s(418,1<arguments.length&&void 0!==arguments[1]&&arguments[1]?"text":"HTML","")),e)),mi}function vi(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Ve]=e,t[Be]=r,n){case"dialog":Ju("cancel",t),Ju("close",t);break;case"iframe":case"object":case"embed":Ju("load",t);break;case"video":case"audio":for(n=0;n<Qu.length;n++)Ju(Qu[n],t);break;case"source":Ju("error",t);break;case"img":case"image":case"link":Ju("error",t),Ju("load",t);break;case"details":Ju("toggle",t);break;case"input":Ju("invalid",t),bt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ju("invalid",t);break;case"textarea":Ju("invalid",t),kt(t,r.value,r.defaultValue,r.children)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||ud(t.textContent,n)?(null!=r.popover&&(Ju("beforetoggle",t),Ju("toggle",t)),null!=r.onScroll&&Ju("scroll",t),null!=r.onScrollEnd&&Ju("scrollend",t),null!=r.onClick&&(t.onclick=jt),t=!0):t=!1,t||gi(e,!0)}function yi(e){for(ui=e.return;ui;)switch(ui.tag){case 5:case 31:case 13:return void(pi=!1);case 27:case 3:return void(pi=!0);default:ui=ui.return}}function bi(e){if(e!==ui)return!1;if(!hi)return yi(e),hi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||wd(e.type,e.memoizedProps)),t=!t),t&&di&&gi(e),yi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Ld(e)}else if(31===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));di=Ld(e)}else 27===n?(n=di,Cd(e.type)?(e=Od,Od=null,di=e):di=n):di=ui?Dd(e.stateNode.nextSibling):null;return!0}function wi(){di=ui=null,hi=!1}function Si(){var e=fi;return null!==e&&(null===Pc?Pc=e:Pc.push.apply(Pc,e),fi=null),e}function xi(e){null===fi?fi=[e]:fi.push(e)}var ki=z(null),Ei=null,_i=null;function Ti(e,t,n){V(ki,t._currentValue),t._currentValue=n}function Ci(e){e._currentValue=ki.current,U(ki)}function Ii(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var o=i.child;a=a.firstContext;e:for(;null!==a;){var l=a;a=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ii(a.return,n,e),r||(o=null);break e}a=l.next}}else if(18===i.tag){if(null===(o=i.return))throw Error(s(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),Ii(o,n,e),o=null}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===e){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}}function Ai(e,t,n,r){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var o=i.alternate;if(null===o)throw Error(s(387));if(null!==(o=o.memoizedProps)){var l=i.type;Xn(i.pendingProps.value,o.value)||(null!==e?e.push(l):e=[l])}}else if(i===G.current){if(null===(o=i.alternate))throw Error(s(387));o.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(dh):e=[dh])}i=i.return}null!==e&&Ni(t,e,n,r),t.flags|=262144}function Pi(e){for(e=e.firstContext;null!==e;){if(!Xn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ji(e){Ei=e,_i=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ri(e){return Oi(Ei,e)}function Di(e,t){return null===Ei&&ji(e),Oi(e,t)}function Oi(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===_i){if(null===e)throw Error(s(308));_i=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else _i=_i.next=t;return n}var Li="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Mi=r.unstable_scheduleCallback,Fi=r.unstable_NormalPriority,zi={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ui(){return{controller:new Li,data:new Map,refCount:0}}function Vi(e){e.refCount--,0===e.refCount&&Mi(Fi,function(){e.controller.abort()})}var Bi=null,qi=0,Hi=0,Wi=null;function Ki(){if(0===--qi&&null!==Bi){null!==Wi&&(Wi.status="fulfilled");var e=Bi;Bi=null,Hi=0,Wi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Gi=D.S;D.S=function(e,t){Dc=le(),"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Bi){var n=Bi=[];qi=0,Hi=qu(),Wi={status:"pending",value:void 0,then:function(e){n.push(e)}}}qi++,t.then(Ki,Ki)}(0,t),null!==Gi&&Gi(e,t)};var Qi=z(null);function Yi(){var e=Qi.current;return null!==e?e:mc.pooledCache}function $i(e,t){V(Qi,null===t?Qi.current:t.pool)}function Ji(){var e=Yi();return null===e?null:{parent:zi._currentValue,pool:e}}var Xi=Error(s(460)),Zi=Error(s(474)),ea=Error(s(542)),ta={then:function(){}};function na(e){return"fulfilled"===(e=e.status)||"rejected"===e}function ra(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(jt,jt),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e;default:if("string"===typeof t.status)t.then(jt,jt);else{if(null!==(e=mc)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw oa(e=t.reason),e}throw aa=t,Xi}}function ia(e){try{return(0,e._init)(e._payload)}catch(Lr){if(null!==Lr&&"object"===typeof Lr&&"function"===typeof Lr.then)throw aa=Lr,Xi;throw Lr}}var aa=null;function sa(){if(null===aa)throw Error(s(459));var e=aa;return aa=null,e}function oa(e){if(e===Xi||e===ea)throw Error(s(483))}var la=null,ca=0;function ua(e){var t=ca;return ca+=1,null===la&&(la=[]),ra(la,e,t)}function da(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function ha(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function fa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Vr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Wr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===v?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===T&&ia(a)===t.type)?(da(t=i(t,n.props),n),t.return=e,t):(da(t=qr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Hr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Wr(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case m:return da(n=qr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case g:return(t=Gr(t,e.mode,n)).return=e,t;case T:return h(e,t=ia(t),n)}if(R(t)||A(t))return(t=Hr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,ua(t),n);if(t.$$typeof===S)return h(e,Di(e,t),n);ha(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case m:return n.key===i?c(e,t,n,r):null;case g:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=ia(n),r)}if(R(n)||A(n))return null!==i?null:d(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,ua(n),r);if(n.$$typeof===S)return f(e,t,Di(e,n),r);ha(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case m:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case g:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return p(e,t,n,r=ia(r),i)}if(R(r)||A(r))return d(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return p(e,t,n,ua(r),i);if(r.$$typeof===S)return p(e,t,n,Di(t,r),i);ha(t,r)}return null}function y(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===v&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case m:e:{for(var b=u.key;null!==c;){if(c.key===b){if((b=u.type)===v){if(7===c.tag){n(l,c.sibling),(d=i(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===T&&ia(b)===c.type){n(l,c.sibling),da(d=i(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===v?((d=Hr(u.props.children,l.mode,d,u.key)).return=l,l=d):(da(d=qr(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return o(l);case g:e:{for(b=u.key;null!==c;){if(c.key===b){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=i(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=Gr(u,l.mode,d)).return=l,l=d}return o(l);case T:return y(l,c,u=ia(u),d)}if(R(u))return function(i,s,o,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<o.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(i,d,o[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===o.length)return n(i,d),hi&&ai(i,m),c;if(null===d){for(;m<o.length;m++)null!==(d=h(i,o[m],l))&&(s=a(d,s,m),null===u?c=d:u.sibling=d,u=d);return hi&&ai(i,m),c}for(d=r(d);m<o.length;m++)null!==(g=p(d,i,m,o[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=a(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),hi&&ai(i,m),c}(l,c,u,d);if(A(u)){if("function"!==typeof(b=A(u)))throw Error(s(150));return function(i,o,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,m=o,g=o=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return n(i,m),hi&&ai(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return hi&&ai(i,g),u}for(m=r(m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach(function(e){return t(i,e)}),hi&&ai(i,g),u}(l,c,u=b.call(u),d)}if("function"===typeof u.then)return y(l,c,ua(u),d);if(u.$$typeof===S)return y(l,c,Di(l,u),d);ha(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=i(c,u)).return=l,l=d):(n(l,c),(d=Wr(u,l.mode,d)).return=l,l=d),o(l)):n(l,c)}return function(e,t,n,r){try{ca=0;var i=y(e,t,n,r);return la=null,i}catch(Lr){if(Lr===Xi||Lr===ea)throw Lr;var a=zr(29,Lr,null,e.mode);return a.lanes=r,a.return=e,a}}}var pa=fa(!0),ma=fa(!1),ga=!1;function va(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ya(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ba(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wa(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&pc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Or(e),Dr(e,null,n),t}return Pr(e,r,t,n),Or(e)}function Sa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}function xa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===a?i=a=s:a=a.next=s,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ka=!1;function Ea(){if(ka){if(null!==Wi)throw Wi}}function _a(e,t,n,r){ka=!1;var i=e.updateQueue;ga=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===s?a=c:s.next=c,s=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(s=0,u=c=l=null,o=a;;){var h=-536870913&o.lane,p=h!==o.lane;if(p?(vc&h)===h:(r&h)===h){0!==h&&h===Hi&&(ka=!0),null!==u&&(u=u.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var m=e,g=o;h=t;var v=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){d=m.call(v,d,h);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(h="function"===typeof(m=g.payload)?m.call(v,d,h):m)||void 0===h)break e;d=f({},d,h);break e;case 2:ga=!0}}null!==(h=o.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=d):u=u.next=p,s|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(p=o).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),_c|=s,e.lanes=s,e.memoizedState=d}}function Ta(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function Ca(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)Ta(n[e],t)}var Ia=z(null),Na=z(0);function Aa(e,t){V(Na,e=kc),V(Ia,t),kc=e|t.baseLanes}function Pa(){V(Na,kc),V(Ia,Ia.current)}function ja(){kc=Na.current,U(Ia),U(Na)}var Ra=z(null),Da=null;function Oa(e){var t=e.alternate;V(Ua,1&Ua.current),V(Ra,e),null===Da&&(null===t||null!==Ia.current||null!==t.memoizedState)&&(Da=e)}function La(e){V(Ua,Ua.current),V(Ra,e),null===Da&&(Da=e)}function Ma(e){22===e.tag?(V(Ua,Ua.current),V(Ra,e),null===Da&&(Da=e)):Fa()}function Fa(){V(Ua,Ua.current),V(Ra,Ra.current)}function za(e){U(Ra),Da===e&&(Da=null),U(Ua)}var Ua=z(0);function Va(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||jd(n)||Rd(n)))return t}else if(19!==t.tag||"forwards"!==t.memoizedProps.revealOrder&&"backwards"!==t.memoizedProps.revealOrder&&"unstable_legacy-backwards"!==t.memoizedProps.revealOrder&&"together"!==t.memoizedProps.revealOrder){if(null!==t.child){t.child.return=t,t=t.child;continue}}else if(0!==(128&t.flags))return t;if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ba=0,qa=null,Ha=null,Wa=null,Ka=!1,Ga=!1,Qa=!1,Ya=0,$a=0,Ja=null,Xa=0;function Za(){throw Error(s(321))}function es(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Xn(e[n],t[n]))return!1;return!0}function ts(e,t,n,r,i,a){return Ba=a,qa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?vo:yo,Qa=!1,a=n(r,i),Qa=!1,Ga&&(a=rs(t,n,r,i)),ns(e),a}function ns(e){D.H=go;var t=null!==Ha&&null!==Ha.next;if(Ba=0,Wa=Ha=qa=null,Ka=!1,$a=0,Ja=null,t)throw Error(s(300));null===e||Do||null!==(e=e.dependencies)&&Pi(e)&&(Do=!0)}function rs(e,t,n,r){qa=e;var i=0;do{if(Ga&&(Ja=null),$a=0,Ga=!1,25<=i)throw Error(s(301));if(i+=1,Wa=Ha=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}D.H=bo,a=t(n,r)}while(Ga);return a}function is(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?us(t):t,e=e.useState()[0],(null!==Ha?Ha.memoizedState:null)!==e&&(qa.flags|=1024),t}function as(){var e=0!==Ya;return Ya=0,e}function ss(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function os(e){if(Ka){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Ka=!1}Ba=0,Wa=Ha=qa=null,Ga=!1,$a=Ya=0,Ja=null}function ls(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Wa?qa.memoizedState=Wa=e:Wa=Wa.next=e,Wa}function cs(){if(null===Ha){var e=qa.alternate;e=null!==e?e.memoizedState:null}else e=Ha.next;var t=null===Wa?qa.memoizedState:Wa.next;if(null!==t)Wa=t,Ha=e;else{if(null===e){if(null===qa.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Ha=e).memoizedState,baseState:Ha.baseState,baseQueue:Ha.baseQueue,queue:Ha.queue,next:null},null===Wa?qa.memoizedState=Wa=e:Wa=Wa.next=e}return Wa}function us(e){var t=$a;return $a+=1,null===Ja&&(Ja=[]),e=ra(Ja,e,t),t=qa,null===(null===Wa?t.memoizedState:Wa.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?vo:yo),e}function ds(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return us(e);if(e.$$typeof===S)return Ri(e)}throw Error(s(438,String(e)))}function hs(e){var t=null,n=qa.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=qa.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function fs(e,t){return"function"===typeof t?t(e):t}function ps(e){return ms(cs(),Ha,e)}function ms(e,t,n){var r=e.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=n;var i=e.baseQueue,a=r.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}t.baseQueue=i=a,r.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var l=o=null,c=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(vc&h)===h:(Ba&h)===h){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Hi&&(d=!0);else{if((Ba&f)===f){u=u.next,f===Hi&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,o=a):c=c.next=h,qa.lanes|=f,_c|=f}h=u.action,Qa&&n(a,h),a=u.hasEagerState?u.eagerState:n(a,h)}else f={lane:h,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,o=a):c=c.next=f,qa.lanes|=h,_c|=h;u=u.next}while(null!==u&&u!==t);if(null===c?o=a:c.next=l,!Xn(a,e.memoizedState)&&(Do=!0,d&&null!==(n=Wi)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=c,r.lastRenderedState=a}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function gs(e){var t=cs(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);Xn(a,t.memoizedState)||(Do=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function vs(e,t,n){var r=qa,i=cs(),a=hi;if(a){if(void 0===n)throw Error(s(407));n=n()}else n=t();var o=!Xn((Ha||i).memoizedState,n);if(o&&(i.memoizedState=n,Do=!0),i=i.queue,Bs(ws.bind(null,r,i,e),[e]),i.getSnapshot!==t||o||null!==Wa&&1&Wa.memoizedState.tag){if(r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,i,n,t),null),null===mc)throw Error(s(349));a||0!==(127&Ba)||ys(r,t,n)}return n}function ys(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=qa.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function bs(e,t,n,r){t.value=n,t.getSnapshot=r,Ss(t)&&xs(e)}function ws(e,t,n){return n(function(){Ss(t)&&xs(e)})}function Ss(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xn(e,n)}catch(r){return!0}}function xs(e){var t=Rr(e,2);null!==t&&Yc(t,e,2)}function ks(e){var t=ls();if("function"===typeof e){var n=e;if(e=n(),Qa){be(!0);try{n()}finally{be(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:e},t}function Es(e,t,n,r){return e.baseState=n,ms(e,Ha,"function"===typeof r?r:fs)}function _s(e,t,n,r,i){if(fo(e))throw Error(s(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==D.T?n(!0):a.isTransition=!1,r(a),null===(n=t.pending)?(a.next=t.pending=a,Ts(t,a)):(a.next=n.next,t.pending=n.next=a)}}function Ts(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=D.T,s={};D.T=s;try{var o=n(i,r),l=D.S;null!==l&&l(s,o),Cs(e,t,o)}catch(c){Ns(e,t,c)}finally{null!==a&&null!==s.types&&(a.types=s.types),D.T=a}}else try{Cs(e,t,a=n(i,r))}catch(u){Ns(e,t,u)}}function Cs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){Is(e,t,n)},function(n){return Ns(e,t,n)}):Is(e,t,n)}function Is(e,t,n){t.status="fulfilled",t.value=n,As(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,Ts(e,n)))}function Ns(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,As(t),t=t.next}while(t!==r)}e.action=null}function As(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ps(e,t){return t}function js(e,t){if(hi){var n=mc.formState;if(null!==n){e:{var r=qa;if(hi){if(di){t:{for(var i=di,a=pi;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=Dd(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){di=Dd(i.nextSibling),r="F!"===i.data;break e}}gi(r)}r=!1}r&&(t=n[0])}}return(n=ls()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ps,lastRenderedState:t},n.queue=r,n=co.bind(null,qa,r),r.dispatch=n,r=ks(!1),a=ho.bind(null,qa,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=ls()).queue=i,n=_s.bind(null,qa,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Rs(e){return Ds(cs(),Ha,e)}function Ds(e,t,n){if(t=ms(e,t,Ps)[0],e=ps(fs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=us(t)}catch(Lr){if(Lr===Xi)throw ea;throw Lr}else r=t;var i=(t=cs()).queue,a=i.dispatch;return n!==t.memoizedState&&(qa.flags|=2048,Ms(9,{destroy:void 0},Os.bind(null,i,n),null)),[r,a,e]}function Os(e,t){e.action=t}function Ls(e){var t=cs(),n=Ha;if(null!==n)return Ds(t,n,e);cs(),t=t.memoizedState;var r=(n=cs()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Ms(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=qa.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Fs(){return cs().memoizedState}function zs(e,t,n,r){var i=ls();qa.flags|=e,i.memoizedState=Ms(1|t,{destroy:void 0},n,void 0===r?null:r)}function Us(e,t,n,r){var i=cs();r=void 0===r?null:r;var a=i.memoizedState.inst;null!==Ha&&null!==r&&es(r,Ha.memoizedState.deps)?i.memoizedState=Ms(t,a,n,r):(qa.flags|=e,i.memoizedState=Ms(1|t,a,n,r))}function Vs(e,t){zs(8390656,8,e,t)}function Bs(e,t){Us(2048,8,e,t)}function qs(e){var t=cs().memoizedState;return function(e){qa.flags|=4;var t=qa.updateQueue;if(null===t)t={lastEffect:null,events:null,stores:null,memoCache:null},qa.updateQueue=t,t.events=[e];else{var n=t.events;null===n?t.events=[e]:n.push(e)}}({ref:t,nextImpl:e}),function(){if(0!==(2&pc))throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Hs(e,t){return Us(4,2,e,t)}function Ws(e,t){return Us(4,4,e,t)}function Ks(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Gs(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,Us(4,4,Ks.bind(null,t,e),n)}function Qs(){}function Ys(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&es(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $s(e,t){var n=cs();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&es(t,r[1]))return r[0];if(r=e(),Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r}function Js(e,t,n){return void 0===n||0!==(1073741824&Ba)&&0===(261930&vc)?e.memoizedState=t:(e.memoizedState=n,e=Qc(),qa.lanes|=e,_c|=e,n)}function Xs(e,t,n,r){return Xn(n,t)?n:null!==Ia.current?(e=Js(e,n,r),Xn(e,t)||(Do=!0),e):0===(42&Ba)||0!==(1073741824&Ba)&&0===(261930&vc)?(Do=!0,e.memoizedState=n):(e=Qc(),qa.lanes|=e,_c|=e,t)}function Zs(e,t,n,r,i){var a=O.p;O.p=0!==a&&8>a?a:8;var s=D.T,o={};D.T=o,ho(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(o,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)uo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Gc());else uo(e,t,r,Gc())}catch(u){uo(e,t,{then:function(){},status:"rejected",reason:u},Gc())}finally{O.p=a,null!==s&&null!==o.types&&(s.types=o.types),D.T=s}}function eo(){}function to(e,t,n,r){if(5!==e.tag)throw Error(s(476));var i=no(e).queue;Zs(e,i,t,L,null===n?eo:function(){return ro(e),n(r)})}function no(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:fs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function ro(e){var t=no(e);null===t.next&&(t=e.alternate.memoizedState),uo(e,t.next.queue,{},Gc())}function io(){return Ri(dh)}function ao(){return cs().memoizedState}function so(){return cs().memoizedState}function oo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Gc(),r=wa(t,e=ba(n),n);return null!==r&&(Yc(r,t,n),Sa(r,t,n)),t={cache:Ui()},void(e.payload=t)}t=t.return}}function lo(e,t,n){var r=Gc();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},fo(e)?po(t,n):null!==(n=jr(e,t,n,r))&&(Yc(n,e,r),mo(n,t,r))}function co(e,t,n){uo(e,t,n,Gc())}function uo(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(fo(e))po(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Xn(o,s))return Pr(e,t,i,0),null===mc&&Ar(),!1}catch(l){}if(null!==(n=jr(e,t,i,r)))return Yc(n,e,r),mo(n,t,r),!0}return!1}function ho(e,t,n,r){if(r={lane:2,revertLane:qu(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},fo(e)){if(t)throw Error(s(479))}else null!==(t=jr(e,n,r,2))&&Yc(t,e,2)}function fo(e){var t=e.alternate;return e===qa||null!==t&&t===qa}function po(e,t){Ga=Ka=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function mo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,De(e,n)}}var go={readContext:Ri,use:ds,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useLayoutEffect:Za,useInsertionEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useSyncExternalStore:Za,useId:Za,useHostTransitionStatus:Za,useFormState:Za,useActionState:Za,useOptimistic:Za,useMemoCache:Za,useCacheRefresh:Za};go.useEffectEvent=Za;var vo={readContext:Ri,use:ds,useCallback:function(e,t){return ls().memoizedState=[e,void 0===t?null:t],e},useContext:Ri,useEffect:Vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,zs(4194308,4,Ks.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zs(4194308,4,e,t)},useInsertionEffect:function(e,t){zs(4,2,e,t)},useMemo:function(e,t){var n=ls();t=void 0===t?null:t;var r=e();if(Qa){be(!0);try{e()}finally{be(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=ls();if(void 0!==n){var i=n(t);if(Qa){be(!0);try{n(t)}finally{be(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=lo.bind(null,qa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ls().memoizedState=e},useState:function(e){var t=(e=ks(e)).queue,n=co.bind(null,qa,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Qs,useDeferredValue:function(e,t){return Js(ls(),e,t)},useTransition:function(){var e=ks(!1);return e=Zs.bind(null,qa,e.queue,!0,!1),ls().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=qa,i=ls();if(hi){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===mc)throw Error(s(349));0!==(127&vc)||ys(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Vs(ws.bind(null,r,a,e),[e]),r.flags|=2048,Ms(9,{destroy:void 0},bs.bind(null,r,a,n,t),null),n},useId:function(){var e=ls(),t=mc.identifierPrefix;if(hi){var n=ii;t="_"+t+"R_"+(n=(ri&~(1<<32-we(ri)-1)).toString(32)+n),0<(n=Ya++)&&(t+="H"+n.toString(32)),t+="_"}else t="_"+t+"r_"+(n=Xa++).toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:io,useFormState:js,useActionState:js,useOptimistic:function(e){var t=ls();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ho.bind(null,qa,!0,n),n.dispatch=t,[e,t]},useMemoCache:hs,useCacheRefresh:function(){return ls().memoizedState=oo.bind(null,qa)},useEffectEvent:function(e){var t=ls(),n={impl:e};return t.memoizedState=n,function(){if(0!==(2&pc))throw Error(s(440));return n.impl.apply(void 0,arguments)}}},yo={readContext:Ri,use:ds,useCallback:Ys,useContext:Ri,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:$s,useReducer:ps,useRef:Fs,useState:function(){return ps(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){return Xs(cs(),Ha.memoizedState,e,t)},useTransition:function(){var e=ps(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Rs,useActionState:Rs,useOptimistic:function(e,t){return Es(cs(),0,e,t)},useMemoCache:hs,useCacheRefresh:so};yo.useEffectEvent=qs;var bo={readContext:Ri,use:ds,useCallback:Ys,useContext:Ri,useEffect:Bs,useImperativeHandle:Gs,useInsertionEffect:Hs,useLayoutEffect:Ws,useMemo:$s,useReducer:gs,useRef:Fs,useState:function(){return gs(fs)},useDebugValue:Qs,useDeferredValue:function(e,t){var n=cs();return null===Ha?Js(n,e,t):Xs(n,Ha.memoizedState,e,t)},useTransition:function(){var e=gs(fs)[0],t=cs().memoizedState;return["boolean"===typeof e?e:us(e),t]},useSyncExternalStore:vs,useId:ao,useHostTransitionStatus:io,useFormState:Ls,useActionState:Ls,useOptimistic:function(e,t){var n=cs();return null!==Ha?Es(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:hs,useCacheRefresh:so};function wo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:f({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}bo.useEffectEvent=qs;var So={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=ba(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),Sa(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Gc(),i=ba(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=wa(e,i,r))&&(Yc(t,e,r),Sa(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Gc(),r=ba(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=wa(e,r,n))&&(Yc(t,e,n),Sa(t,e,n))}};function xo(e,t,n,r,i,a,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,s):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,a))}function ko(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&So.enqueueReplaceState(t,t.state,null)}function Eo(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=f({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}function _o(e){Tr(e)}function To(e){console.error(e)}function Co(e){Tr(e)}function Io(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function No(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ao(e,t,n){return(n=ba(n)).tag=3,n.payload={element:null},n.callback=function(){Io(e,t)},n}function Po(e){return(e=ba(e)).tag=3,e}function jo(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){No(t,n,r)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){No(t,n,r),"function"!==typeof i&&(null===Mc?Mc=new Set([this]):Mc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ro=Error(s(461)),Do=!1;function Oo(e,t,n,r){t.child=null===e?ma(t,null,n,r):pa(t,e.child,n,r)}function Lo(e,t,n,r,i){n=n.render;var a=t.ref;if("ref"in r){var s={};for(var o in r)"ref"!==o&&(s[o]=r[o])}else s=r;return ji(t),r=ts(e,t,n,s,a,i),o=as(),null===e||Do?(hi&&o&&oi(t),t.flags|=1,Oo(e,t,r,i),t.child):(ss(e,t,i),al(e,t,i))}function Mo(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ur(a)||void 0!==a.defaultProps||null!==n.compare?((e=qr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Fo(e,t,a,r,i))}if(a=e.child,!sl(e,i)){var s=a.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(s,r)&&e.ref===t.ref)return al(e,t,i)}return t.flags|=1,(e=Vr(a,r)).ref=t.ref,e.return=t,t.child=e}function Fo(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(Zn(a,r)&&e.ref===t.ref){if(Do=!1,t.pendingProps=r=a,!sl(e,i))return t.lanes=e.lanes,al(e,t,i);0!==(131072&e.flags)&&(Do=!0)}}return Wo(e,t,n,r,i)}function zo(e,t,n,r){var i=r.children,a=null!==e?e.memoizedState:null;if(null===e&&null===t.stateNode&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),"hidden"===r.mode){if(0!==(128&t.flags)){if(a=null!==a?a.baseLanes|n:n,null!==e){for(r=t.child=e.child,i=0;null!==r;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return Vo(e,t,a,n,r)}if(0===(536870912&n))return r=t.lanes=536870912,Vo(e,t,null!==a?a.baseLanes|n:n,n,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&$i(0,null!==a?a.cachePool:null),null!==a?Aa(t,a):Pa(),Ma(t)}else null!==a?($i(0,a.cachePool),Aa(t,a),Fa(),t.memoizedState=null):(null!==e&&$i(0,null),Pa(),Fa());return Oo(e,t,i,n),t.child}function Uo(e,t){return null!==e&&22===e.tag||null!==t.stateNode||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Vo(e,t,n,r,i){var a=Yi();return a=null===a?null:{parent:zi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},null!==e&&$i(0,null),Pa(),Ma(t),null!==e&&Ai(e,t,r,!0),t.childLanes=i,null}function Bo(e,t){return(t=el({mode:t.mode,children:t.children},e.mode)).ref=e.ref,e.child=t,t.return=e,t}function qo(e,t,n){return pa(t,e.child,null,n),(e=Bo(t,t.pendingProps)).flags|=2,za(t),t.memoizedState=null,e}function Ho(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Wo(e,t,n,r,i){return ji(t),n=ts(e,t,n,r,void 0,i),r=as(),null===e||Do?(hi&&r&&oi(t),t.flags|=1,Oo(e,t,n,i),t.child):(ss(e,t,i),al(e,t,i))}function Ko(e,t,n,r,i,a){return ji(t),t.updateQueue=null,n=rs(t,r,n,i),ns(e),r=as(),null===e||Do?(hi&&r&&oi(t),t.flags|=1,Oo(e,t,n,a),t.child):(ss(e,t,a),al(e,t,a))}function Go(e,t,n,r,i){if(ji(t),null===t.stateNode){var a=Mr,s=n.contextType;"object"===typeof s&&null!==s&&(a=Ri(s)),a=new n(r,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=So,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=r,a.state=t.memoizedState,a.refs={},va(t),s=n.contextType,a.context="object"===typeof s&&null!==s?Ri(s):Mr,a.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(wo(t,n,s,r),a.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(s=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),s!==a.state&&So.enqueueReplaceState(a,a.state,null),_a(t,r,a,i),Ea(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){a=t.stateNode;var o=t.memoizedProps,l=Eo(n,o);a.props=l;var c=a.context,u=n.contextType;s=Mr,"object"===typeof u&&null!==u&&(s=Ri(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,o=t.pendingProps!==o,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o||c!==s)&&ko(t,a,r,s),ga=!1;var h=t.memoizedState;a.state=h,_a(t,r,a,i),Ea(),c=t.memoizedState,o||h!==c||ga?("function"===typeof d&&(wo(t,n,d,r),c=t.memoizedState),(l=ga||xo(t,n,l,r,h,c,s))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=s,r=l):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,ya(e,t),u=Eo(n,s=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,c=n.contextType,l=Mr,"object"===typeof c&&null!==c&&(l=Ri(c)),(c="function"===typeof(o=n.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==d||h!==l)&&ko(t,a,r,l),ga=!1,h=t.memoizedState,a.state=h,_a(t,r,a,i),Ea();var f=t.memoizedState;s!==d||h!==f||ga||null!==e&&null!==e.dependencies&&Pi(e.dependencies)?("function"===typeof o&&(wo(t,n,o,r),f=t.memoizedState),(u=ga||xo(t,n,u,r,h,f,l)||null!==e&&null!==e.dependencies&&Pi(e.dependencies))?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,Ho(e,t),r=0!==(128&t.flags),a||r?(a=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&r?(t.child=pa(t,e.child,null,i),t.child=pa(t,null,n,i)):Oo(e,t,n,i),t.memoizedState=a.state,e=t.child):e=al(e,t,i),e}function Qo(e,t,n,r){return wi(),t.flags|=256,Oo(e,t,n,r),t.child}var Yo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $o(e){return{baseLanes:e,cachePool:Ji()}}function Jo(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=Ic),e}function Xo(e,t,n){var r,i=t.pendingProps,a=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&Ua.current)),r&&(a=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(hi){if(a?Oa(t):Fa(),(e=di)?null!==(e=null!==(e=Pd(e,pi))&&"&"!==e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return Rd(e)?t.lanes=32:t.lanes=536870912,null}var l=i.children;return i=i.fallback,a?(Fa(),l=el({mode:"hidden",children:l},a=t.mode),i=Hr(i,a,n,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(i=t.child).memoizedState=$o(n),i.childLanes=Jo(e,r,n),t.memoizedState=Yo,Uo(null,i)):(Oa(t),Zo(t,l))}var c=e.memoizedState;if(null!==c&&null!==(l=c.dehydrated)){if(o)256&t.flags?(Oa(t),t.flags&=-257,t=tl(e,t,n)):null!==t.memoizedState?(Fa(),t.child=e.child,t.flags|=128,t=null):(Fa(),l=i.fallback,a=t.mode,i=el({mode:"visible",children:i.children},a),(l=Hr(l,a,n,null)).flags|=2,i.return=t,l.return=t,i.sibling=l,t.child=i,pa(t,e.child,null,n),(i=t.child).memoizedState=$o(n),i.childLanes=Jo(e,r,n),t.memoizedState=Yo,t=Uo(null,i));else if(Oa(t),Rd(l)){if(r=l.nextSibling&&l.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(s(419))).stack="",i.digest=r,xi({value:i,source:null,stack:null}),t=tl(e,t,n)}else if(Do||Ai(e,t,n,!1),r=0!==(n&e.childLanes),Do||r){if(null!==(r=mc)&&(0!==(i=Oe(r,n))&&i!==c.retryLane))throw c.retryLane=i,Rr(e,i),Yc(r,e,i),Ro;jd(l)||ou(),t=tl(e,t,n)}else jd(l)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,di=Dd(l.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Zo(t,i.children)).flags|=4096);return t}return a?(Fa(),l=i.fallback,a=t.mode,u=(c=e.child).sibling,(i=Vr(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?l=Vr(u,l):(l=Hr(l,a,n,null)).flags|=2,l.return=t,i.return=t,i.sibling=l,t.child=i,Uo(null,i),i=t.child,null===(l=e.child.memoizedState)?l=$o(n):(null!==(a=l.cachePool)?(c=zi._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=Ji(),l={baseLanes:l.baseLanes|n,cachePool:a}),i.memoizedState=l,i.childLanes=Jo(e,r,n),t.memoizedState=Yo,Uo(e.child,i)):(Oa(t),e=(n=e.child).sibling,(n=Vr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Zo(e,t){return(t=el({mode:"visible",children:t},e.mode)).return=e,e.child=t}function el(e,t){return(e=zr(22,e,null,t)).lanes=0,e}function tl(e,t,n){return pa(t,e.child,null,n),(e=Zo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function nl(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ii(e.return,t,n)}function rl(e,t,n,r,i,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function il(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=Ua.current,o=0!==(2&s);if(o?(s=1&s|2,t.flags|=128):s&=1,V(Ua,s),Oo(e,t,r,n),r=hi?Zr:0,!o&&null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nl(e,n,t);else if(19===e.tag)nl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Va(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rl(t,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Va(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rl(t,!0,n,null,a,r);break;case"together":rl(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function al(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_c|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Ai(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Vr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Vr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function sl(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Pi(e))}function ol(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Do=!0;else{if(!sl(e,n)&&0===(128&t.flags))return Do=!1,function(e,t,n){switch(t.tag){case 3:Q(t,t.stateNode.containerInfo),Ti(0,zi,e.memoizedState.cache),wi();break;case 27:case 5:$(t);break;case 4:Q(t,t.stateNode.containerInfo);break;case 10:Ti(0,t.type,t.memoizedProps.value);break;case 31:if(null!==t.memoizedState)return t.flags|=128,La(t),null;break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(Oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Xo(e,t,n):(Oa(t),null!==(e=al(e,t,n))?e.sibling:null);Oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Ai(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return il(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(Ua,Ua.current),r)break;return null;case 22:return t.lanes=0,zo(e,t,n,t.pendingProps);case 24:Ti(0,zi,e.memoizedState.cache)}return al(e,t,n)}(e,t,n);Do=0!==(131072&e.flags)}else Do=!1,hi&&0!==(1048576&t.flags)&&si(t,Zr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var r=t.pendingProps;if(e=ia(t.elementType),t.type=e,"function"!==typeof e){if(void 0!==e&&null!==e){var i=e.$$typeof;if(i===x){t.tag=11,t=Lo(null,t,e,r,n);break e}if(i===_){t.tag=14,t=Mo(null,t,e,r,n);break e}}throw t=j(e)||e,Error(s(306,t,""))}Ur(e)?(r=Eo(e,r),t.tag=1,t=Go(null,t,e,r,n)):(t.tag=0,t=Wo(null,t,e,r,n))}return t;case 0:return Wo(e,t,t.type,t.pendingProps,n);case 1:return Go(e,t,r=t.type,i=Eo(r,t.pendingProps),n);case 3:e:{if(Q(t,t.stateNode.containerInfo),null===e)throw Error(s(387));r=t.pendingProps;var a=t.memoizedState;i=a.element,ya(e,t),_a(t,r,null,n);var o=t.memoizedState;if(r=o.cache,Ti(0,zi,r),r!==a.cache&&Ni(t,[zi],n,!0),Ea(),r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Qo(e,t,r,n);break e}if(r!==i){xi(i=Yr(Error(s(424)),t)),t=Qo(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(di=Dd(e.firstChild),ui=t,hi=!0,fi=null,pi=!0,n=ma(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(wi(),r===i){t=al(e,t,n);break e}Oo(e,t,r,n)}t=t.child}return t;case 26:return Ho(e,t),null===e?(n=Kd(t.type,null,t.pendingProps,null))?t.memoizedState=n:hi||(n=t.type,e=t.pendingProps,(r=vd(K.current).createElement(n))[Ve]=t,r[Be]=e,fd(r,n,e),et(r),t.stateNode=r):t.memoizedState=Kd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $(t),null===e&&hi&&(r=t.stateNode=Fd(t.type,t.pendingProps,K.current),ui=t,pi=!0,i=di,Cd(t.type)?(Od=i,di=Dd(r.firstChild)):di=i),Oo(e,t,t.pendingProps.children,n),Ho(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&hi&&((i=r=di)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Qe])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=Dd(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,pi))?(t.stateNode=r,ui=t,di=Dd(r.firstChild),pi=!1,i=!0):i=!1),i||gi(t)),$(t),i=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,r=a.children,wd(i,a)?r=null:null!==o&&wd(i,o)&&(t.flags|=32),null!==t.memoizedState&&(i=ts(e,t,is,null,null,n),dh._currentValue=i),Ho(e,t),Oo(e,t,r,n),t.child;case 6:return null===e&&hi&&((e=n=di)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}(n,t.pendingProps,pi))?(t.stateNode=n,ui=t,di=null,e=!0):e=!1),e||gi(t)),null;case 13:return Xo(e,t,n);case 4:return Q(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=pa(t,null,r,n):Oo(e,t,r,n),t.child;case 11:return Lo(e,t,t.type,t.pendingProps,n);case 7:return Oo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Oo(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,Ti(0,t.type,r.value),Oo(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,ji(t),r=r(i=Ri(i)),t.flags|=1,Oo(e,t,r,n),t.child;case 14:return Mo(e,t,t.type,t.pendingProps,n);case 15:return Fo(e,t,t.type,t.pendingProps,n);case 19:return il(e,t,n);case 31:return function(e,t,n){var r=t.pendingProps,i=0!==(128&t.flags);if(t.flags&=-129,null===e){if(hi){if("hidden"===r.mode)return e=Bo(t,r),t.lanes=536870912,Uo(null,e);if(La(t),(e=di)?null!==(e=null!==(e=Pd(e,pi))&&"&"===e.data?e:null)&&(t.memoizedState={dehydrated:e,treeContext:null!==ni?{id:ri,overflow:ii}:null,retryLane:536870912,hydrationErrors:null},(n=Kr(e)).return=t,t.child=n,ui=t,di=null):e=null,null===e)throw gi(t);return t.lanes=536870912,null}return Bo(t,r)}var a=e.memoizedState;if(null!==a){var o=a.dehydrated;if(La(t),i)if(256&t.flags)t.flags&=-257,t=qo(e,t,n);else{if(null===t.memoizedState)throw Error(s(558));t.child=e.child,t.flags|=128,t=null}else if(Do||Ai(e,t,n,!1),i=0!==(n&e.childLanes),Do||i){if(null!==(r=mc)&&0!==(o=Oe(r,n))&&o!==a.retryLane)throw a.retryLane=o,Rr(e,o),Yc(r,e,o),Ro;ou(),t=qo(e,t,n)}else e=a.treeContext,di=Dd(o.nextSibling),ui=t,hi=!0,fi=null,pi=!1,null!==e&&ci(t,e),(t=Bo(t,r)).flags|=4096;return t}return(e=Vr(e.child,{mode:r.mode,children:r.children})).ref=t.ref,t.child=e,e.return=t,e}(e,t,n);case 22:return zo(e,t,n,t.pendingProps);case 24:return ji(t),r=Ri(zi),null===e?(null===(i=Yi())&&(i=mc,a=Ui(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=n),i=a),t.memoizedState={parent:r,cache:i},va(t),Ti(0,zi,i)):(0!==(e.lanes&n)&&(ya(e,t),_a(t,null,null,n),Ea()),i=e.memoizedState,a=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),Ti(0,zi,r)):(r=a.cache,Ti(0,zi,r),r!==i.cache&&Ni(t,[zi],n,!0))),Oo(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function ll(e){e.flags|=4}function cl(e,t,n,r,i){if((t=0!==(32&e.mode))&&(t=!1),t){if(e.flags|=16777216,(335544128&i)===i)if(e.stateNode.complete)e.flags|=8192;else{if(!iu())throw aa=ta,Zi;e.flags|=8192}}else e.flags&=-16777217}function ul(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!ah(t)){if(!iu())throw aa=ta,Zi;e.flags|=8192}}function dl(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Ae():536870912,e.lanes|=t,Nc|=t)}function hl(e,t){if(!hi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function fl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function pl(e,t,n){var r=t.pendingProps;switch(li(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return fl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Ci(zi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(bi(t)?ll(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,Si())),fl(t),null;case 26:var i=t.type,a=t.memoizedState;return null===e?(ll(t),null!==a?(fl(t),ul(t,a)):(fl(t),cl(t,i,0,0,n))):a?a!==e.memoizedState?(ll(t),fl(t),ul(t,a)):(fl(t),t.flags&=-16777217):((e=e.memoizedProps)!==r&&ll(t),fl(t),cl(t,i,0,0,n)),null;case 27:if(J(t),n=K.current,i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}e=H.current,bi(t)?vi(t):(e=Fd(i,r,n),t.stateNode=e,ll(t))}return fl(t),null;case 5:if(J(t),i=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if(!r){if(null===t.stateNode)throw Error(s(166));return fl(t),null}if(a=H.current,bi(t))vi(t);else{var o=vd(K.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":(a=o.createElement("div")).innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a="string"===typeof r.is?o.createElement("select",{is:r.is}):o.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a="string"===typeof r.is?o.createElement(i,{is:r.is}):o.createElement(i)}}a[Ve]=t,a[Be]=r;e:for(o=t.child;null!==o;){if(5===o.tag||6===o.tag)a.appendChild(o.stateNode);else if(4!==o.tag&&27!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;null===o.sibling;){if(null===o.return||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch(fd(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ll(t)}}return fl(t),cl(t,t.type,null===e||e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&ll(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(e=K.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ui))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Ve]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||ud(e.nodeValue,n)))||gi(t,!0)}else(e=vd(e).createTextNode(r))[Ve]=t,t.stateNode=e}return fl(t),null;case 31:if(n=t.memoizedState,null===e||null!==e.memoizedState){if(r=bi(t),null!==n){if(null===e){if(!r)throw Error(s(318));if(!(e=null!==(e=t.memoizedState)?e.dehydrated:null))throw Error(s(557));e[Ve]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),e=!1}else n=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return 256&t.flags?(za(t),t):(za(t),null);if(0!==(128&t.flags))throw Error(s(558))}return fl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=bi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[Ve]=t}else wi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;fl(t),i=!1}else i=Si(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(za(t),t):(za(t),null)}return za(t),0!==(128&t.flags)?(t.lanes=n,t):(n=null!==r,e=null!==e&&null!==e.memoizedState,n&&(i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool),a=null,null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),dl(t,t.updateQueue),fl(t),null);case 4:return Y(),null===e&&ed(t.stateNode.containerInfo),fl(t),null;case 10:return Ci(t.type),fl(t),null;case 19:if(U(Ua),null===(r=t.memoizedState))return fl(t),null;if(i=0!==(128&t.flags),null===(a=r.rendering))if(i)hl(r,!1);else{if(0!==Ec||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=Va(e))){for(t.flags|=128,hl(r,!1),e=a.updateQueue,t.updateQueue=e,dl(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Br(n,e),n=n.sibling;return V(Ua,1&Ua.current|2),hi&&ai(t,r.treeForkCount),t.child}e=e.sibling}null!==r.tail&&le()>Oc&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=Va(a))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,dl(t,e),hl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!a.alternate&&!hi)return fl(t),null}else 2*le()-r.renderingStartTime>Oc&&536870912!==n&&(t.flags|=128,i=!0,hl(r,!1),t.lanes=4194304);r.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=r.last)?e.sibling=a:t.child=a,r.last=a)}return null!==r.tail?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=le(),e.sibling=null,n=Ua.current,V(Ua,i?1&n|2:1&n),hi&&ai(t,r.treeForkCount),e):(fl(t),null);case 22:case 23:return za(t),ja(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(fl(t),6&t.subtreeFlags&&(t.flags|=8192)):fl(t),null!==(n=t.updateQueue)&&dl(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&U(Qi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Ci(zi),fl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function ml(e,t){switch(li(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ci(zi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return J(t),null;case 31:if(null!==t.memoizedState){if(za(t),null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 13:if(za(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));wi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(Ua),null;case 4:return Y(),null;case 10:return Ci(t.type),null;case 22:case 23:return za(t),ja(),null!==e&&U(Qi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return Ci(zi),null;default:return null}}function gl(e,t){switch(li(t),t.tag){case 3:Ci(zi),Y();break;case 26:case 27:case 5:J(t);break;case 4:Y();break;case 31:null!==t.memoizedState&&za(t);break;case 13:za(t);break;case 19:U(Ua);break;case 10:Ci(t.type);break;case 22:case 23:za(t),ja(),null!==e&&U(Qi);break;case 24:Ci(zi)}}function vl(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){Eu(t,t.return,o)}}function yl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var a=i.next;r=a;do{if((r.tag&e)===e){var s=r.inst,o=s.destroy;if(void 0!==o){s.destroy=void 0,i=t;var l=n,c=o;try{c()}catch(u){Eu(i,l,u)}}}r=r.next}while(r!==a)}}catch(u){Eu(t,t.return,u)}}function bl(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{Ca(t,n)}catch(r){Eu(e,e.return,r)}}}function wl(e,t,n){n.props=Eo(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){Eu(e,t,r)}}function Sl(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){Eu(e,t,i)}}function xl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){Eu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(a){Eu(e,t,a)}else n.current=null}function kl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Eu(e,e.return,i)}}function El(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,o=null,l=null,c=null,u=null,d=null;for(p in n){var h=n[p];if(n.hasOwnProperty(p)&&null!=h)switch(p){case"checked":case"value":break;case"defaultValue":c=h;default:r.hasOwnProperty(p)||dd(e,t,p,null,r,h)}}for(var f in r){var p=r[f];if(h=n[f],r.hasOwnProperty(f)&&(null!=p||null!=h))switch(f){case"type":a=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":o=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:p!==h&&dd(e,t,f,p,r,h)}}return void yt(e,o,l,c,u,d,a,i);case"select":for(a in p=o=l=f=null,n)if(c=n[a],n.hasOwnProperty(a)&&null!=c)switch(a){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(a)||dd(e,t,a,null,r,c)}for(i in r)if(a=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=a||null!=c))switch(i){case"value":f=a;break;case"defaultValue":l=a;break;case"multiple":o=a;default:a!==c&&dd(e,t,i,a,r,c)}return t=l,n=o,r=p,void(null!=f?St(e,!!n,f,!1):!!r!==!!n&&(null!=t?St(e,!!n,t,!0):St(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:dd(e,t,l,null,r,i)}for(o in r)if(i=r[o],a=n[o],r.hasOwnProperty(o)&&(null!=i||null!=a))switch(o){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(s(91));break;default:i!==a&&dd(e,t,o,i,r,a)}return void xt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else dd(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else dd(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&dd(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:dd(e,t,u,f,r,p)}return;default:if(It(t)){for(var v in n)f=n[v],n.hasOwnProperty(v)&&void 0!==f&&!r.hasOwnProperty(v)&&hd(e,t,v,void 0,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||void 0===f&&void 0===p||hd(e,t,d,f,r,p);return}}for(var y in n)f=n[y],n.hasOwnProperty(y)&&null!=f&&!r.hasOwnProperty(y)&&dd(e,t,y,null,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||null==f&&null==p||dd(e,t,h,f,r,p)}(r,e.type,n,t),r[Be]=t}catch(i){Eu(e,e.return,i)}}function _l(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&Cd(e.type)||4===e.tag}function Tl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||_l(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&Cd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=jt));else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(Cl(e,t,n),e=e.sibling;null!==e;)Cl(e,t,n),e=e.sibling}function Il(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&Cd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(Il(e,t,n),e=e.sibling;null!==e;)Il(e,t,n),e=e.sibling}function Nl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);fd(t,r,n),t[Ve]=e,t[Be]=n}catch(a){Eu(e,e.return,a)}}var Al=!1,Pl=!1,jl=!1,Rl="function"===typeof WeakSet?WeakSet:Set,Dl=null;function Ol(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Yl(e,n),4&r&&vl(5,n);break;case 1:if(Yl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){Eu(n,n.return,s)}else{var i=Eo(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Eu(n,n.return,o)}}64&r&&bl(n),512&r&&Sl(n,n.return);break;case 3:if(Yl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{Ca(e,t)}catch(s){Eu(n,n.return,s)}}break;case 27:null===t&&4&r&&Nl(n);case 26:case 5:Yl(e,n),null===t&&4&r&&kl(n),512&r&&Sl(n,n.return);break;case 12:Yl(e,n);break;case 31:Yl(e,n),4&r&&Vl(e,n);break;case 13:Yl(e,n),4&r&&Bl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$~"===e.data)e._reactRetry=t;else if("$?"!==e.data||"loading"!==n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=Iu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||Al)){t=null!==t&&null!==t.memoizedState||Pl,i=Al;var a=Pl;Al=r,(Pl=t)&&!a?Jl(e,n,0!==(8772&n.subtreeFlags)):Yl(e,n),Al=i,Pl=a}break;case 30:break;default:Yl(e,n)}}function Ll(e){var t=e.alternate;null!==t&&(e.alternate=null,Ll(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ye(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ml=null,Fl=!1;function zl(e,t,n){for(n=n.child;null!==n;)Ul(e,t,n),n=n.sibling}function Ul(e,t,n){if(ye&&"function"===typeof ye.onCommitFiberUnmount)try{ye.onCommitFiberUnmount(ve,n)}catch(a){}switch(n.tag){case 26:Pl||xl(n,t),zl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:Pl||xl(n,t);var r=Ml,i=Fl;Cd(n.type)&&(Ml=n.stateNode,Fl=!1),zl(e,t,n),zd(n.stateNode),Ml=r,Fl=i;break;case 5:Pl||xl(n,t);case 6:if(r=Ml,i=Fl,Ml=null,zl(e,t,n),Fl=i,null!==(Ml=r))if(Fl)try{(9===Ml.nodeType?Ml.body:"HTML"===Ml.nodeName?Ml.ownerDocument.body:Ml).removeChild(n.stateNode)}catch(s){Eu(n,t,s)}else try{Ml.removeChild(n.stateNode)}catch(s){Eu(n,t,s)}break;case 18:null!==Ml&&(Fl?(Id(9===(e=Ml).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Wh(e)):Id(Ml,n.stateNode));break;case 4:r=Ml,i=Fl,Ml=n.stateNode.containerInfo,Fl=!0,zl(e,t,n),Ml=r,Fl=i;break;case 0:case 11:case 14:case 15:yl(2,n,t),Pl||yl(4,n,t),zl(e,t,n);break;case 1:Pl||(xl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&wl(n,t,r)),zl(e,t,n);break;case 21:zl(e,t,n);break;case 22:Pl=(r=Pl)||null!==n.memoizedState,zl(e,t,n),Pl=r;break;default:zl(e,t,n)}}function Vl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&null!==(e=e.memoizedState))){e=e.dehydrated;try{Wh(e)}catch(n){Eu(t,t.return,n)}}}function Bl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Wh(e)}catch(n){Eu(t,t.return,n)}}function ql(e,t){var n=function(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new Rl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new Rl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Nu.bind(null,e,t);t.then(r,r)}})}function Hl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 27:if(Cd(l.type)){Ml=l.stateNode,Fl=!1;break e}break;case 5:Ml=l.stateNode,Fl=!1;break e;case 3:case 4:Ml=l.stateNode.containerInfo,Fl=!0;break e}l=l.return}if(null===Ml)throw Error(s(160));Ul(a,o,i),Ml=null,Fl=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13886&t.subtreeFlags)for(t=t.child;null!==t;)Kl(t,e),t=t.sibling}var Wl=null;function Kl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Hl(t,e),Gl(e),4&r&&(yl(3,e,e.return),vl(3,e),yl(5,e,e.return));break;case 1:Hl(t,e),Gl(e),512&r&&(Pl||null===n||xl(n,n.return)),64&r&&Al&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Wl;if(Hl(t,e),Gl(e),512&r&&(Pl||null===n||xl(n,n.return)),4&r){var a=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Qe]||a[Ve]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),fd(a,r,n),a[Ve]=e,et(a),r=a;break e;case"link":var o=rh("link","href",i).get(r+(n.href||""));if(o)for(var l=0;l<o.length;l++)if((a=o[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&a.getAttribute("rel")===(null==n.rel?null:n.rel)&&a.getAttribute("title")===(null==n.title?null:n.title)&&a.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){o.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;case"meta":if(o=rh("meta","content",i).get(r+(n.content||"")))for(l=0;l<o.length;l++)if((a=o[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&a.getAttribute("name")===(null==n.name?null:n.name)&&a.getAttribute("property")===(null==n.property?null:n.property)&&a.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&a.getAttribute("charset")===(null==n.charSet?null:n.charSet)){o.splice(l,1);break t}fd(a=i.createElement(r),r,n),i.head.appendChild(a);break;default:throw Error(s(468,r))}a[Ve]=e,et(a),r=a}e.stateNode=r}else ih(i,e.type,e.stateNode);else e.stateNode=Xd(i,r,e.memoizedProps);else a!==r?(null===a?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):a.count--,null===r?ih(i,e.type,e.stateNode):Xd(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&El(e,e.memoizedProps,n.memoizedProps)}break;case 27:Hl(t,e),Gl(e),512&r&&(Pl||null===n||xl(n,n.return)),null!==n&&4&r&&El(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Hl(t,e),Gl(e),512&r&&(Pl||null===n||xl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(m){Eu(e,e.return,m)}}4&r&&null!=e.stateNode&&El(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(jl=!0);break;case 6:if(Hl(t,e),Gl(e),4&r){if(null===e.stateNode)throw Error(s(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(m){Eu(e,e.return,m)}}break;case 3:if(nh=null,i=Wl,Wl=Bd(t.containerInfo),Hl(t,e),Wl=i,Gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(m){Eu(e,e.return,m)}jl&&(jl=!1,Ql(e));break;case 4:r=Wl,Wl=Bd(e.stateNode.containerInfo),Hl(t,e),Gl(e),Wl=r;break;case 12:default:Hl(t,e),Gl(e);break;case 31:case 19:Hl(t,e),Gl(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 13:Hl(t,e),Gl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Rc=le()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,ql(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=Al,d=Pl;if(Al=u||i,Pl=d||c,Hl(t,e),Pl=d,Al=u,Gl(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||Al||Pl||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(a=c.stateNode,i)"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,f=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(m){Eu(c,c.return,m)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(m){Eu(c,c.return,m)}}}else if(18===t.tag){if(null===n){c=t;try{var p=c.stateNode;i?Nd(p,!0):Nd(c.stateNode,!1)}catch(m){Eu(c,c.return,m)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,ql(e,n))));case 30:case 21:}}function Gl(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(_l(r)){n=r;break}r=r.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var i=n.stateNode;Il(e,Tl(e),i);break;case 5:var a=n.stateNode;32&n.flags&&(Et(a,""),n.flags&=-33),Il(e,Tl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;Cl(e,Tl(e),o);break;default:throw Error(s(161))}}catch(l){Eu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ql(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ql(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Yl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Ol(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:yl(4,t,t.return),$l(t);break;case 1:xl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&wl(t,t.return,n),$l(t);break;case 27:zd(t.stateNode);case 26:case 5:xl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Jl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,a=t,s=a.flags;switch(a.tag){case 0:case 11:case 15:Jl(i,a,n),vl(4,a);break;case 1:if(Jl(i,a,n),"function"===typeof(i=(r=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){Eu(r,r.return,c)}if(null!==(i=(r=a).updateQueue)){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)Ta(l[i],o)}catch(c){Eu(r,r.return,c)}}n&&64&s&&bl(a),Sl(a,a.return);break;case 27:Nl(a);case 26:case 5:Jl(i,a,n),n&&null===r&&4&s&&kl(a),Sl(a,a.return);break;case 12:Jl(i,a,n);break;case 31:Jl(i,a,n),n&&4&s&&Vl(i,a);break;case 13:Jl(i,a,n),n&&4&s&&Bl(i,a);break;case 22:null===a.memoizedState&&Jl(i,a,n),Sl(a,a.return);break;case 30:break;default:Jl(i,a,n)}t=t.sibling}}function Xl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Vi(n))}function Zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e))}function ec(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)tc(e,t,n,r),t=t.sibling}function tc(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:ec(e,t,n,r),2048&i&&vl(9,t);break;case 1:case 31:case 13:default:ec(e,t,n,r);break;case 3:ec(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Vi(e)));break;case 12:if(2048&i){ec(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,s=a.id,o=a.onPostCommit;"function"===typeof o&&o(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){Eu(t,t.return,l)}}else ec(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,s=t.alternate,null!==t.memoizedState?2&a._visibility?ec(e,t,n,r):rc(e,t):2&a._visibility?ec(e,t,n,r):(a._visibility|=2,nc(e,t,n,r,0!==(10256&t.subtreeFlags)||!1)),2048&i&&Xl(s,t);break;case 24:ec(e,t,n,r),2048&i&&Zl(t.alternate,t)}}function nc(e,t,n,r,i){for(i=i&&(0!==(10256&t.subtreeFlags)||!1),t=t.child;null!==t;){var a=e,s=t,o=n,l=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:nc(a,s,o,l,i),vl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?nc(a,s,o,l,i):rc(a,s):(u._visibility|=2,nc(a,s,o,l,i)),i&&2048&c&&Xl(s.alternate,s);break;case 24:nc(a,s,o,l,i),i&&2048&c&&Zl(s.alternate,s);break;default:nc(a,s,o,l,i)}t=t.sibling}}function rc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:rc(n,r),2048&i&&Xl(r.alternate,r);break;case 24:rc(n,r),2048&i&&Zl(r.alternate,r);break;default:rc(n,r)}t=t.sibling}}var ic=8192;function ac(e,t,n){if(e.subtreeFlags&ic)for(e=e.child;null!==e;)sc(e,t,n),e=e.sibling}function sc(e,t,n){switch(e.tag){case 26:ac(e,t,n),e.flags&ic&&null!==e.memoizedState&&function(e,t,n,r){if("stylesheet"===n.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&n.state.loading)){if(null===n.instance){var i=Gd(r.href),a=t.querySelector(Qd(i));if(a)return null!==(t=a._p)&&"object"===typeof t&&"function"===typeof t.then&&(e.count++,e=oh.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,void et(a);a=t.ownerDocument||t,r=Yd(r),(i=Ud.get(i))&&eh(r,i),et(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),fd(a,"link",r),n.instance=a}null===e.stylesheets&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&0===(3&n.state.loading)&&(e.count++,n=oh.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}(n,Wl,e.memoizedState,e.memoizedProps);break;case 5:default:ac(e,t,n);break;case 3:case 4:var r=Wl;Wl=Bd(e.stateNode.containerInfo),ac(e,t,n),Wl=r;break;case 22:null===e.memoizedState&&(null!==(r=e.alternate)&&null!==r.memoizedState?(r=ic,ic=16777216,ac(e,t,n),ic=r):ac(e,t,n))}}function oc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function lc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}oc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)cc(e),e=e.sibling}function cc(e){switch(e.tag){case 0:case 11:case 15:lc(e),2048&e.flags&&yl(9,e,e.return);break;case 3:case 12:default:lc(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,uc(e)):lc(e)}}function uc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Dl=r,dc(r,e)}oc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:yl(8,t,t.return),uc(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,uc(t));break;default:uc(t)}e=e.sibling}}function dc(e,t){for(;null!==Dl;){var n=Dl;switch(n.tag){case 0:case 11:case 15:yl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Vi(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Dl=r;else e:for(n=e;null!==Dl;){var i=(r=Dl).sibling,a=r.return;if(Ll(r),r===n){Dl=null;break e}if(null!==i){i.return=a,Dl=i;break e}Dl=a}}}var hc={getCacheForType:function(e){var t=Ri(zi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ri(zi).controller.signal}},fc="function"===typeof WeakMap?WeakMap:Map,pc=0,mc=null,gc=null,vc=0,yc=0,bc=null,wc=!1,Sc=!1,xc=!1,kc=0,Ec=0,_c=0,Tc=0,Cc=0,Ic=0,Nc=0,Ac=null,Pc=null,jc=!1,Rc=0,Dc=0,Oc=1/0,Lc=null,Mc=null,Fc=0,zc=null,Uc=null,Vc=0,Bc=0,qc=null,Hc=null,Wc=0,Kc=null;function Gc(){return 0!==(2&pc)&&0!==vc?vc&-vc:null!==D.T?qu():Fe()}function Qc(){if(0===Ic)if(0===(536870912&vc)||hi){var e=Ee;0===(3932160&(Ee<<=1))&&(Ee=262144),Ic=e}else Ic=536870912;return null!==(e=Ra.current)&&(e.flags|=32),Ic}function Yc(e,t,n){(e!==mc||2!==yc&&9!==yc)&&null===e.cancelPendingCommit||(nu(e,0),Zc(e,vc,Ic,!1)),je(e,n),0!==(2&pc)&&e===mc||(e===mc&&(0===(2&pc)&&(Tc|=n),4===Ec&&Zc(e,vc,Ic,!1)),Lu(e))}function $c(e,t,n){if(0!==(6&pc))throw Error(s(327));for(var r=!n&&0===(127&t)&&0===(t&e.expiredLanes)||Ie(e,t),i=r?function(e,t){var n=pc;pc|=2;var r=au(),i=su();mc!==e||vc!==t?(Lc=null,Oc=le()+500,nu(e,t)):Sc=Ie(e,t);e:for(;;)try{if(0!==yc&&null!==gc){t=gc;var a=bc;t:switch(yc){case 1:yc=0,bc=null,fu(e,t,a,1);break;case 2:case 9:if(na(a)){yc=0,bc=null,hu(t);break}t=function(){2!==yc&&9!==yc||mc!==e||(yc=7),Lu(e)},a.then(t,t);break e;case 3:yc=7;break e;case 4:yc=5;break e;case 7:na(a)?(yc=0,bc=null,hu(t)):(yc=0,bc=null,fu(e,t,a,7));break;case 5:var o=null;switch(gc.tag){case 26:o=gc.memoizedState;case 5:case 27:var l=gc;if(o?ah(o):l.stateNode.complete){yc=0,bc=null;var c=l.sibling;if(null!==c)gc=c;else{var u=l.return;null!==u?(gc=u,pu(u)):gc=null}break t}}yc=0,bc=null,fu(e,t,a,5);break;case 6:yc=0,bc=null,fu(e,t,a,6);break;case 8:tu(),Ec=6;break e;default:throw Error(s(462))}}uu();break}catch(d){ru(e,d)}return _i=Ei=null,D.H=r,D.A=i,pc=n,null!==gc?0:(mc=null,vc=0,Ar(),Ec)}(e,t):lu(e,t,!0),a=r;;){if(0===i){Sc&&!r&&Zc(e,t,0,!1);break}if(n=e.current.alternate,!a||Xc(n)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=0!==(o=-536870913&e.pendingLanes)?o:536870912&o?536870912:0;if(0!==o){t=o;e:{var l=e;i=Ac;var c=l.current.memoizedState.isDehydrated;if(c&&(nu(l,o).flags|=256),2!==(o=lu(l,o,!1))){if(xc&&!c){l.errorRecoveryDisabledLanes|=a,Tc|=a,i=4;break e}a=Pc,Pc=i,null!==a&&(null===Pc?Pc=a:Pc.push.apply(Pc,a))}i=o}if(a=!1,2!==i)continue}}if(1===i){nu(e,0),Zc(e,t,0,!0);break}e:{switch(r=e,a=i){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Zc(r,t,Ic,!wc);break e;case 2:Pc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(i=Rc+300-le())){if(Zc(r,t,Ic,!wc),0!==Ce(r,0,!0))break e;Vc=t,r.timeoutHandle=xd(Jc.bind(null,r,n,Pc,Lc,jc,t,Ic,Tc,Nc,wc,a,"Throttled",-0,0),i)}else Jc(r,n,Pc,Lc,jc,t,Ic,Tc,Nc,wc,a,null,-0,0)}break}i=lu(e,t,!1),a=!1}Lu(e)}function Jc(e,t,n,r,i,a,s,o,l,c,u,d,h,f){if(e.timeoutHandle=-1,8192&(d=t.subtreeFlags)||16785408===(16785408&d)){sc(t,a,d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jt});var p=(62914560&a)===a?Rc-le():(4194048&a)===a?Dc-le():0;if(p=function(e,t){return e.stylesheets&&0===e.count&&ch(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&0===sh&&(sh=62500*function(){if("function"===typeof performance.getEntriesByType){for(var e=0,t=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&pd(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],c=l.startTime;if(c>o)break;var u=l.transferSize,d=l.initiatorType;u&&pd(d)&&(s+=u*((l=l.responseEnd)<o?1:(o-c)/(l-c)))}if(--r,t+=8*(a+s)/(i.duration/1e3),10<++e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,"number"===typeof e)?e:5}());var i=setTimeout(function(){if(e.waitingForImages=!1,0===e.count&&(e.stylesheets&&ch(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>sh?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}(d,p),null!==p)return Vc=a,e.cancelPendingCommit=p(gu.bind(null,e,t,a,n,r,i,s,o,l,u,d,null,h,f)),void Zc(e,a,s,!c)}gu(e,t,a,n,r,i,s,o,l)}function Xc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Xn(a(),i))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zc(e,t,n,r){t&=~Cc,t&=~Tc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-we(i),s=1<<a;r[a]=-1,i&=~s}0!==n&&Re(e,n,t)}function eu(){return 0!==(6&pc)||(Mu(0,!1),!1)}function tu(){if(null!==gc){if(0===yc)var e=gc.return;else _i=Ei=null,os(e=gc),la=null,ca=0,e=gc;for(;null!==e;)gl(e.alternate,e),e=e.return;gc=null}}function nu(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,kd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Vc=0,tu(),mc=e,gc=n=Vr(e.current,null),vc=t,yc=0,bc=null,wc=!1,Sc=Ie(e,t),xc=!1,Nc=Ic=Cc=Tc=_c=Ec=0,Pc=Ac=null,jc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-we(r),a=1<<i;t|=e[i],r&=~a}return kc=t,Ar(),n}function ru(e,t){qa=null,D.H=go,t===Xi||t===ea?(t=sa(),yc=3):t===Zi?(t=sa(),yc=4):yc=t===Ro?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,bc=t,null===gc&&(Ec=1,Io(e,Yr(t,e.current)))}function iu(){var e=Ra.current;return null===e||((4194048&vc)===vc?null===Da:((62914560&vc)===vc||0!==(536870912&vc))&&e===Da)}function au(){var e=D.H;return D.H=go,null===e?go:e}function su(){var e=D.A;return D.A=hc,e}function ou(){Ec=4,wc||(4194048&vc)!==vc&&null!==Ra.current||(Sc=!0),0===(134217727&_c)&&0===(134217727&Tc)||null===mc||Zc(mc,vc,Ic,!1)}function lu(e,t,n){var r=pc;pc|=2;var i=au(),a=su();mc===e&&vc===t||(Lc=null,nu(e,t)),t=!1;var s=Ec;e:for(;;)try{if(0!==yc&&null!==gc){var o=gc,l=bc;switch(yc){case 8:tu(),s=6;break e;case 3:case 2:case 9:case 6:null===Ra.current&&(t=!0);var c=yc;if(yc=0,bc=null,fu(e,o,l,c),n&&Sc){s=0;break e}break;default:c=yc,yc=0,bc=null,fu(e,o,l,c)}}cu(),s=Ec;break}catch(u){ru(e,u)}return t&&e.shellSuspendCounter++,_i=Ei=null,pc=r,D.H=i,D.A=a,null===gc&&(mc=null,vc=0,Ar()),s}function cu(){for(;null!==gc;)du(gc)}function uu(){for(;null!==gc&&!se();)du(gc)}function du(e){var t=ol(e.alternate,e,kc);e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function hu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ko(n,t,t.pendingProps,t.type,void 0,vc);break;case 11:t=Ko(n,t,t.pendingProps,t.type.render,t.ref,vc);break;case 5:os(t);default:gl(n,t),t=ol(n,t=gc=Br(t,kc),kc)}e.memoizedProps=e.pendingProps,null===t?pu(e):gc=t}function fu(e,t,n,r){_i=Ei=null,os(t),la=null,ca=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Ai(t,n,i,!0),null!==(n=Ra.current)){switch(n.tag){case 31:case 13:return null===Da?ou():null===n.alternate&&0===Ec&&(Ec=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),_u(e,r,i)),!1;case 22:return n.flags|=65536,r===ta?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),_u(e,r,i)),!1}throw Error(s(435,n.tag))}return _u(e,r,i),ou(),!1}if(hi)return null!==(t=Ra.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==mi&&xi(Yr(e=Error(s(422),{cause:r}),n))):(r!==mi&&xi(Yr(t=Error(s(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Yr(r,n),xa(e,i=Ao(e.stateNode,r,i)),4!==Ec&&(Ec=2)),!1;var a=Error(s(520),{cause:r});if(a=Yr(a,n),null===Ac?Ac=[a]:Ac.push(a),4!==Ec&&(Ec=2),null===t)return!0;r=Yr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,xa(n,e=Ao(n.stateNode,r,e)),!1;case 1:if(t=n.type,a=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Mc||!Mc.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,jo(i=Po(i),e,n,r),xa(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,vc))return Ec=1,Io(e,Yr(n,e.current)),void(gc=null)}catch(a){if(null!==i)throw gc=i,a;return Ec=1,Io(e,Yr(n,e.current)),void(gc=null)}32768&t.flags?(hi||1===r?e=!0:Sc||0!==(536870912&vc)?e=!1:(wc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=Ra.current)&&13===r.tag&&(r.flags|=16384))),mu(t,e)):pu(t)}function pu(e){var t=e;do{if(0!==(32768&t.flags))return void mu(t,wc);e=t.return;var n=pl(t.alternate,t,kc);if(null!==n)return void(gc=n);if(null!==(t=t.sibling))return void(gc=t);gc=t=e}while(null!==t);0===Ec&&(Ec=5)}function mu(e,t){do{var n=ml(e.alternate,e);if(null!==n)return n.flags&=32767,void(gc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(gc=e);gc=e=n}while(null!==e);Ec=6,gc=null}function gu(e,t,n,r,i,a,o,l,c){e.cancelPendingCommit=null;do{Su()}while(0!==Fc);if(0!==(6&pc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(a=t.lanes|t.childLanes,function(e,t,n,r,i,a){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-we(n),d=1<<u;o[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var f=h[u];null!==f&&(f.lane&=-536870913)}n&=~d}0!==r&&Re(e,r,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(s&~t))}(e,n,a|=Nr,o,l,c),e===mc&&(gc=mc=null,vc=0),Uc=t,zc=e,Vc=n,Bc=a,qc=i,Hc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,ie(he,function(){return xu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=O.p,O.p=2,o=pc,pc|=4;try{!function(e,t){if(e=e.containerInfo,md=wh,ir(e=rr(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(g){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gd={focusedElem:e,selectionRange:n},wh=!1,Dl=t;null!==Dl;)if(e=(t=Dl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Dl=e;else for(;null!==Dl;){switch(a=(t=Dl).alternate,e=t.flags,t.tag){case 0:if(0!==(4&e)&&null!==(e=null!==(e=t.updateQueue)?e.events:null))for(n=0;n<e.length;n++)(i=e[n]).ref.impl=i.nextImpl;break;case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,n=t,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var m=Eo(n.type,i);e=r.getSnapshotBeforeUpdate(m,a),r.__reactInternalSnapshotBeforeUpdate=e}catch(v){Eu(n,n.return,v)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))Ad(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Dl=e;break}Dl=t.return}}(e,t)}finally{pc=o,O.p=i,D.T=r}}Fc=1,vu(),yu(),bu()}}function vu(){if(1===Fc){Fc=0;var e=zc,t=Uc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=pc;pc|=4;try{Kl(t,e);var a=gd,s=rr(e.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&nr(o.ownerDocument.documentElement,o)){if(null!==l&&ir(o)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in o)o.selectionStart=c,o.selectionEnd=Math.min(u,o.value.length);else{var d=o.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var f=h.getSelection(),p=o.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(s=g,g=m,m=s);var v=tr(o,m),y=tr(o,g);if(v&&y&&(1!==f.rangeCount||f.anchorNode!==v.node||f.anchorOffset!==v.offset||f.focusNode!==y.node||f.focusOffset!==y.offset)){var b=d.createRange();b.setStart(v.node,v.offset),f.removeAllRanges(),m>g?(f.addRange(b),f.extend(y.node,y.offset)):(b.setEnd(y.node,y.offset),f.addRange(b))}}}}for(d=[],f=o;f=f.parentNode;)1===f.nodeType&&d.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof o.focus&&o.focus(),o=0;o<d.length;o++){var w=d[o];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}wh=!!md,gd=md=null}finally{pc=i,O.p=r,D.T=n}}e.current=t,Fc=2}}function yu(){if(2===Fc){Fc=0;var e=zc,t=Uc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=O.p;O.p=2;var i=pc;pc|=4;try{Ol(e,t.alternate,t)}finally{pc=i,O.p=r,D.T=n}}Fc=3}}function bu(){if(4===Fc||3===Fc){Fc=0,oe();var e=zc,t=Uc,n=Vc,r=Hc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Fc=5:(Fc=0,Uc=zc=null,wu(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Mc=null),Me(n),t=t.stateNode,ye&&"function"===typeof ye.onCommitFiberRoot)try{ye.onCommitFiberRoot(ve,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=O.p,O.p=2,D.T=null;try{for(var a=e.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{D.T=t,O.p=i}}0!==(3&Vc)&&Su(),Lu(e),i=e.pendingLanes,0!==(261930&n)&&0!==(42&i)?e===Kc?Wc++:(Wc=0,Kc=e):Wc=0,Mu(0,!1)}}function wu(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Vi(t)))}function Su(){return vu(),yu(),bu(),xu()}function xu(){if(5!==Fc)return!1;var e=zc,t=Bc;Bc=0;var n=Me(Vc),r=D.T,i=O.p;try{O.p=32>n?32:n,D.T=null,n=qc,qc=null;var a=zc,o=Vc;if(Fc=0,Uc=zc=null,Vc=0,0!==(6&pc))throw Error(s(331));var l=pc;if(pc|=4,cc(a.current),tc(a,a.current,o,n),pc=l,Mu(0,!1),ye&&"function"===typeof ye.onPostCommitFiberRoot)try{ye.onPostCommitFiberRoot(ve,a)}catch(c){}return!0}finally{O.p=i,D.T=r,wu(e,t)}}function ku(e,t,n){t=Yr(n,t),null!==(e=wa(e,t=Ao(e.stateNode,t,2),2))&&(je(e,2),Lu(e))}function Eu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Mc||!Mc.has(r))){e=Yr(n,e),null!==(r=wa(t,n=Po(2),2))&&(jo(n,r,t,e),je(r,2),Lu(r));break}}t=t.return}}function _u(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(xc=!0,i.add(n),e=Tu.bind(null,e,t,n),t.then(e,e))}function Tu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,mc===e&&(vc&n)===n&&(4===Ec||3===Ec&&(62914560&vc)===vc&&300>le()-Rc?0===(2&pc)&&nu(e,0):Cc|=n,Nc===vc&&(Nc=0)),Lu(e)}function Cu(e,t){0===t&&(t=Ae()),null!==(e=Rr(e,t))&&(je(e,t),Lu(e))}function Iu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cu(e,n)}function Nu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cu(e,n)}var Au=null,Pu=null,ju=!1,Ru=!1,Du=!1,Ou=0;function Lu(e){e!==Pu&&null===e.next&&(null===Pu?Au=Pu=e:Pu=Pu.next=e),Ru=!0,ju||(ju=!0,_d(function(){0!==(6&pc)?ie(ue,Fu):zu()}))}function Mu(e,t){if(!Du&&Ru){Du=!0;do{for(var n=!1,r=Au;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-we(42|e)+1)-1,a=201326741&(a&=i&~(s&~o))?201326741&a|1:a?2|a:0}0!==a&&(n=!0,Bu(r,a))}else a=vc,0===(3&(a=Ce(r,r===mc?a:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||Ie(r,a)||(n=!0,Bu(r,a));r=r.next}}while(n);Du=!1}}function Fu(){zu()}function zu(){Ru=ju=!1;var e=0;0!==Ou&&function(){var e=window.event;if(e&&"popstate"===e.type)return e!==Sd&&(Sd=e,!0);return Sd=null,!1}()&&(e=Ou);for(var t=le(),n=null,r=Au;null!==r;){var i=r.next,a=Uu(r,t);0===a?(r.next=null,null===n?Au=i:n.next=i,null===i&&(Pu=n)):(n=r,(0!==e||0!==(3&a))&&(Ru=!0)),r=i}0!==Fc&&5!==Fc||Mu(e,!1),0!==Ou&&(Ou=0)}function Uu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var s=31-we(a),o=1<<s,l=i[s];-1===l?0!==(o&n)&&0===(o&r)||(i[s]=Ne(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}if(n=vc,n=Ce(e,e===(t=mc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===yc||9===yc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&ae(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||Ie(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&ae(r),Me(n)){case 2:case 8:n=de;break;case 32:default:n=he;break;case 268435456:n=pe}return r=Vu.bind(null,e),n=ie(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&ae(r),e.callbackPriority=2,e.callbackNode=null,2}function Vu(e,t){if(0!==Fc&&5!==Fc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Su()&&e.callbackNode!==n)return null;var r=vc;return 0===(r=Ce(e,e===mc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:($c(e,r,t),Uu(e,le()),null!=e.callbackNode&&e.callbackNode===n?Vu.bind(null,e):null)}function Bu(e,t){if(Su())return null;$c(e,t,!0)}function qu(){if(0===Ou){var e=Hi;0===e&&(e=ke,0===(261888&(ke<<=1))&&(ke=256)),Ou=e}return Ou}function Hu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Pt(""+e)}function Wu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ku=0;Ku<Er.length;Ku++){var Gu=Er[Ku];_r(Gu.toLowerCase(),"on"+(Gu[0].toUpperCase()+Gu.slice(1)))}_r(gr,"onAnimationEnd"),_r(vr,"onAnimationIteration"),_r(yr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(br,"onTransitionRun"),_r(wr,"onTransitionStart"),_r(Sr,"onTransitionCancel"),_r(xr,"onTransitionEnd"),it("onMouseEnter",["mouseout","mouseover"]),it("onMouseLeave",["mouseout","mouseover"]),it("onPointerEnter",["pointerout","pointerover"]),it("onPointerLeave",["pointerout","pointerover"]),rt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),rt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),rt("onBeforeInput",["compositionend","keypress","textInput","paste"]),rt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),rt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function $u(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Tr(u)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(l=(o=r[s]).instance,c=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=c;try{a(i)}catch(u){Tr(u)}i.currentTarget=null,a=l}}}}function Ju(e,t){var n=t[He];void 0===n&&(n=t[He]=new Set);var r=e+"__bubble";n.has(r)||(td(t,e,2,!1),n.add(r))}function Xu(e,t,n){var r=0;t&&(r|=4),td(n,e,r,t)}var Zu="_reactListening"+Math.random().toString(36).slice(2);function ed(e){if(!e[Zu]){e[Zu]=!0,tt.forEach(function(t){"selectionchange"!==t&&(Yu.has(t)||Xu(t,!1,e),Xu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Zu]||(t[Zu]=!0,Xu("selectionchange",!1,t))}}function td(e,t,n,r){switch(Ch(t)){case 2:var i=Sh;break;case 8:i=xh;break;default:i=kh}n=i.bind(null,t,n,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function nd(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var o=r.stateNode.containerInfo;if(o===i)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===i)return;s=s.return}for(;null!==o;){if(null===(s=$e(o)))return;if(5===(c=s.tag)||6===c||26===c||27===c){r=a=s;continue e}o=o.parentNode}}r=r.return}zt(function(){var r=a,i=Dt(n),s=[];e:{var o=kr.get(e);if(void 0!==o){var c=nn,u=e;switch(e){case"keypress":if(0===Qt(n))break e;case"keydown":case"keyup":c=yn;break;case"focusin":u="focus",c=cn;break;case"focusout":u="blur",c=cn;break;case"beforeblur":case"afterblur":c=cn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=on;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=ln;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=wn;break;case gr:case vr:case yr:c=un;break;case xr:c=Sn;break;case"scroll":case"scrollend":c=an;break;case"wheel":c=xn;break;case"copy":case"cut":case"paste":c=dn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=bn;break;case"toggle":case"beforetoggle":c=kn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),f=d?null!==o?o+"Capture":null:o;d=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ut(m,f))&&d.push(rd(m,g,p)),h)break;m=m.return}0<d.length&&(o=new c(o,u,null,n,i),s.push({event:o,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!$e(u)&&!u[qe])&&(c||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?$e(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=r),c!==u)){if(d=on,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=bn,g="onPointerLeave",f="onPointerEnter",m="pointer"),h=null==c?o:Xe(c),p=null==u?o:Xe(u),(o=new d(g,m+"leave",c,n,i)).target=h,o.relatedTarget=p,g=null,$e(i)===r&&((d=new d(f,m+"enter",u,n,i)).target=p,d.relatedTarget=h,g=d),h=g,c&&u)e:{for(d=ad,m=u,p=0,g=f=c;g;g=d(g))p++;g=0;for(var v=m;v;v=d(v))g++;for(;0<p-g;)f=d(f),p--;for(;0<g-p;)m=d(m),g--;for(;p--;){if(f===m||null!==m&&f===m.alternate){d=f;break e}f=d(f),m=d(m)}d=null}else d=null;null!==c&&sd(s,o,c,d,!1),null!==u&&null!==h&&sd(s,h,u,d,!0)}if("select"===(c=(o=r?Xe(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===c&&"file"===o.type)var y=Vn;else if(On(o))if(Bn)y=Jn;else{y=Yn;var b=Qn}else!(c=o.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==o.type&&"radio"!==o.type?r&&It(r.elementType)&&(y=Vn):y=$n;switch(y&&(y=y(e,r))?Ln(s,y,n,i):(b&&b(e,o,r),"focusout"===e&&r&&"number"===o.type&&null!=r.memoizedProps.value&&wt(o,"number",o.value)),b=r?Xe(r):window,e){case"focusin":(On(b)||"true"===b.contentEditable)&&(sr=b,or=r,lr=null);break;case"focusout":lr=or=sr=null;break;case"mousedown":cr=!0;break;case"contextmenu":case"mouseup":case"dragend":cr=!1,ur(s,n,i);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":ur(s,n,i)}var w;if(_n)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Rn?Pn(e,n)&&(S="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(S="onCompositionStart");S&&(In&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==S?"onCompositionEnd"===S&&Rn&&(w=Gt()):(Wt="value"in(Ht=i)?Ht.value:Ht.textContent,Rn=!0)),0<(b=id(r,S)).length&&(S=new hn(S,e,null,n,i),s.push({event:S,listeners:b}),w?S.data=w:null!==(w=jn(n))&&(S.data=w))),(w=Cn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(An=!0,Nn);case"textInput":return(e=t.data)===Nn&&An?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!_n&&Pn(e,t)?(e=Gt(),Kt=Wt=Ht=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(S=id(r,"onBeforeInput")).length&&(b=new hn("onBeforeInput","beforeinput",null,n,i),s.push({event:b,listeners:S}),b.data=w)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var a=Hu((i[Be]||null).action),s=r.submitter;s&&null!==(t=(t=s[Be]||null)?Hu(t.formAction):s.getAttribute("formAction"))&&(a=t,s=null);var o=new nn("action","action",null,r,i);e.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==Ou){var e=s?Wu(i,s):new FormData(i);to(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(o.preventDefault(),e=s?Wu(i,s):new FormData(i),to(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(s,e,r,n,i)}$u(s,t)})}function rd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function id(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=Ut(e,n))&&r.unshift(rd(e,i,a)),null!=(i=Ut(e,t))&&r.push(rd(e,i,a))),3===e.tag)return r;e=e.return}return[]}function ad(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function sd(e,t,n,r,i){for(var a=t._reactName,s=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(o=o.tag,null!==l&&l===r)break;5!==o&&26!==o&&27!==o||null===c||(l=c,i?null!=(c=Ut(n,a))&&s.unshift(rd(n,c,l)):i||null!=(c=Ut(n,a))&&s.push(rd(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var od=/\r\n?/g,ld=/\u0000|\uFFFD/g;function cd(e){return("string"===typeof e?e:""+e).replace(od,"\n").replace(ld,"")}function ud(e,t){return t=cd(t),cd(e)===t}function dd(e,t,n,r,i,a){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":ct(e,"class",r);break;case"tabIndex":ct(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":ct(e,n,r);break;case"style":Ct(e,r,a);break;case"data":if("object"!==t){ct(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===n?("input"!==t&&dd(e,t,"name",i.name,i,null),dd(e,t,"formEncType",i.formEncType,i,null),dd(e,t,"formMethod",i.formMethod,i,null),dd(e,t,"formTarget",i.formTarget,i,null)):(dd(e,t,"encType",i.encType,i,null),dd(e,t,"method",i.method,i,null),dd(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Pt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=jt);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Pt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Ju("beforetoggle",e),Ju("toggle",e),lt(e,"popover",r);break;case"xlinkActuate":ut(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ut(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ut(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ut(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ut(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ut(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ut(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ut(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ut(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":lt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&lt(e,n=Nt.get(n)||n,r)}}function hd(e,t,n,r,i,a){switch(n){case"style":Ct(e,r,a);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(s(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Ju("scroll",e);break;case"onScrollEnd":null!=r&&Ju("scrollend",e);break;case"onClick":null!=r&&(e.onclick=jt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:nt.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(a=null!=(a=e[Be]||null)?a[n]:null)&&e.removeEventListener(t,a,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):lt(e,n,r):("function"!==typeof a&&null!==a&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function fd(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ju("error",e),Ju("load",e);var r,i=!1,a=!1;for(r in n)if(n.hasOwnProperty(r)){var o=n[r];if(null!=o)switch(r){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,r,o,n,null)}}return a&&dd(e,t,"srcSet",n.srcSet,n,null),void(i&&dd(e,t,"src",n.src,n,null));case"input":Ju("invalid",e);var l=r=o=a=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var d=n[i];if(null!=d)switch(i){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:dd(e,t,i,d,n,null)}}return void bt(e,r,l,c,u,o,a,!1);case"select":for(a in Ju("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"multiple":i=l;default:dd(e,t,a,l,n,null)}return t=r,n=o,e.multiple=!!i,void(null!=t?St(e,!!i,t,!1):null!=n&&St(e,!!i,n,!0));case"textarea":for(o in Ju("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:dd(e,t,o,l,n,null)}return void kt(e,i,a,r);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else dd(e,t,c,i,n,null);return;case"dialog":Ju("beforetoggle",e),Ju("toggle",e),Ju("cancel",e),Ju("close",e);break;case"iframe":case"object":Ju("load",e);break;case"video":case"audio":for(i=0;i<Qu.length;i++)Ju(Qu[i],e);break;case"image":Ju("error",e),Ju("load",e);break;case"details":Ju("toggle",e);break;case"embed":case"source":case"link":Ju("error",e),Ju("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:dd(e,t,u,i,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(i=n[d])&&hd(e,t,d,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&dd(e,t,l,i,n,null))}function pd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}var md=null,gd=null;function vd(e){return 9===e.nodeType?e:e.ownerDocument}function yd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bd(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function wd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Sd=null;var xd="function"===typeof setTimeout?setTimeout:void 0,kd="function"===typeof clearTimeout?clearTimeout:void 0,Ed="function"===typeof Promise?Promise:void 0,_d="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Ed?function(e){return Ed.resolve(null).then(e).catch(Td)}:xd;function Td(e){setTimeout(function(){throw e})}function Cd(e){return"head"===e}function Id(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)||"/&"===n){if(0===r)return e.removeChild(i),void Wh(t);r--}else if("$"===n||"$?"===n||"$~"===n||"$!"===n||"&"===n)r++;else if("html"===n)zd(e.ownerDocument.documentElement);else if("head"===n){zd(n=e.ownerDocument.head);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Qe]||"SCRIPT"===o||"STYLE"===o||"LINK"===o&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}else"body"===n&&zd(e.ownerDocument.body);n=i}while(n);Wh(t)}function Nd(e,t){var n=e;e=0;do{var r=n.nextSibling;if(1===n.nodeType?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",""===n.getAttribute("style")&&n.removeAttribute("style")):3===n.nodeType&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===e)break;e--}else"$"!==n&&"$?"!==n&&"$~"!==n&&"$!"!==n||e++;n=r}while(n)}function Ad(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Ad(n),Ye(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function Pd(e,t){for(;8!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!t)return null;if(null===(e=Dd(e.nextSibling)))return null}return e}function jd(e){return"$?"===e.data||"$~"===e.data}function Rd(e){return"$!"===e.data||"$?"===e.data&&"loading"!==e.ownerDocument.readyState}function Dd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"$~"===t||"&"===t||"F!"===t||"F"===t)break;if("/$"===t||"/&"===t)return null}}return e}var Od=null;function Ld(e){e=e.nextSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n||"/&"===n){if(0===t)return Dd(e.nextSibling);t--}else"$"!==n&&"$!"!==n&&"$?"!==n&&"$~"!==n&&"&"!==n||t++}e=e.nextSibling}return null}function Md(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n||"$~"===n||"&"===n){if(0===t)return e;t--}else"/$"!==n&&"/&"!==n||t++}e=e.previousSibling}return null}function Fd(e,t,n){switch(t=vd(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function zd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ye(e)}var Ud=new Map,Vd=new Set;function Bd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var qd=O.d;O.d={f:function(){var e=qd.f(),t=eu();return e||t},r:function(e){var t=Je(e);null!==t&&5===t.tag&&"form"===t.type?ro(t):qd.r(e)},D:function(e){qd.D(e),Wd("dns-prefetch",e,null)},C:function(e,t){qd.C(e,t),Wd("preconnect",e,t)},L:function(e,t,n){qd.L(e,t,n);var r=Hd;if(r&&e&&t){var i='link[rel="preload"][as="'+vt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+vt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+vt(n.imageSizes)+'"]')):i+='[href="'+vt(e)+'"]';var a=i;switch(t){case"style":a=Gd(e);break;case"script":a=$d(e)}Ud.has(a)||(e=f({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Ud.set(a,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Qd(a))||"script"===t&&r.querySelector(Jd(a))||(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}},m:function(e,t){qd.m(e,t);var n=Hd;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+vt(r)+'"][href="'+vt(e)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=$d(e)}if(!Ud.has(a)&&(e=f({rel:"modulepreload",href:e},t),Ud.set(a,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Jd(a)))return}fd(r=n.createElement("link"),"link",e),et(r),n.head.appendChild(r)}}},X:function(e,t){qd.X(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=$d(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=f({src:e,async:!0},t),(t=Ud.get(i))&&th(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}},S:function(e,t,n){qd.S(e,t,n);var r=Hd;if(r&&e){var i=Ze(r).hoistableStyles,a=Gd(e);t=t||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Qd(a)))o.loading=5;else{e=f({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ud.get(a))&&eh(e,n);var l=s=r.createElement("link");et(l),fd(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Zd(s,t,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}},M:function(e,t){qd.M(e,t);var n=Hd;if(n&&e){var r=Ze(n).hoistableScripts,i=$d(e),a=r.get(i);a||((a=n.querySelector(Jd(i)))||(e=f({src:e,async:!0,type:"module"},t),(t=Ud.get(i))&&th(e,t),et(a=n.createElement("script")),fd(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}};var Hd="undefined"===typeof document?null:document;function Wd(e,t,n){var r=Hd;if(r&&"string"===typeof t&&t){var i=vt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Vd.has(i)||(Vd.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(fd(t=r.createElement("link"),"link",e),et(t),r.head.appendChild(t)))}}function Kd(e,t,n,r){var i,a,o,l,c=(c=K.current)?Bd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Gd(n.href),(r=(n=Ze(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Gd(n.href);var u=Ze(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Qd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),Ud.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ud.set(e,n),u||(i=c,a=e,o=n,l=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?l.loading=1:(a=i.createElement("link"),l.preload=a,a.addEventListener("load",function(){return l.loading|=1}),a.addEventListener("error",function(){return l.loading|=2}),fd(a,"link",o),et(a),i.head.appendChild(a))))),t&&null===r)throw Error(s(528,""));return d}if(t&&null!==r)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=$d(n),(r=(n=Ze(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Gd(e){return'href="'+vt(e)+'"'}function Qd(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return f({},e,{"data-precedence":e.precedence,precedence:null})}function $d(e){return'[src="'+vt(e)+'"]'}function Jd(e){return"script[async]"+e}function Xd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+vt(n.href)+'"]');if(r)return t.instance=r,et(r),r;var i=f({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return et(r=(e.ownerDocument||e).createElement("style")),fd(r,"style",i),Zd(r,n.precedence,e),t.instance=r;case"stylesheet":i=Gd(n.href);var a=e.querySelector(Qd(i));if(a)return t.state.loading|=4,t.instance=a,et(a),a;r=Yd(n),(i=Ud.get(i))&&eh(r,i),et(a=(e.ownerDocument||e).createElement("link"));var o=a;return o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),fd(a,"link",r),t.state.loading|=4,Zd(a,n.precedence,e),t.instance=a;case"script":return a=$d(n.src),(i=e.querySelector(Jd(a)))?(t.instance=i,et(i),i):(r=n,(i=Ud.get(a))&&th(r=f({},n),i),et(i=(e=e.ownerDocument||e).createElement("script")),fd(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Zd(r,n.precedence,e));return t.instance}function Zd(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===t)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function eh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function th(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var nh=null;function rh(e,t,n){if(null===nh){var r=new Map,i=nh=new Map;i.set(n,r)}else(r=(i=nh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[Qe]||a[Ve]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var s=a.getAttribute(t)||"";s=e+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function ih(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function ah(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var sh=0;function oh(){if(this.count--,0===this.count&&(0===this.imgCount||!this.waitingForImages))if(this.stylesheets)ch(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var lh=null;function ch(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,lh=new Map,t.forEach(uh,e),lh=null,oh.call(e))}function uh(e,t){if(!(4&t.state.loading)){var n=lh.get(e);if(n)var r=n.get(null);else{n=new Map,lh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}s=(i=t.instance).getAttribute("data-precedence"),(a=n.get(s)||r)===r&&n.set(null,i),n.set(s,i),this.count++,r=oh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var dh={$$typeof:S,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function hh(e,t,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pe(0),this.hiddenUpdates=Pe(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function fh(e,t,n,r,i,a,s,o,l,c,u,d){return e=new hh(e,t,n,s,l,c,u,d,o),t=1,!0===a&&(t|=24),a=zr(3,null,null,t),e.current=a,a.stateNode=e,(t=Ui()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},va(a),e}function ph(e){return e?e=Mr:Mr}function mh(e,t,n,r,i,a){i=ph(i),null===r.context?r.context=i:r.pendingContext=i,(r=ba(t)).payload={element:n},null!==(a=void 0===a?null:a)&&(r.callback=a),null!==(n=wa(e,r,t))&&(Yc(n,0,t),Sa(n,e,t))}function gh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function vh(e,t){gh(e,t),(e=e.alternate)&&gh(e,t)}function yh(e){if(13===e.tag||31===e.tag){var t=Rr(e,67108864);null!==t&&Yc(t,0,67108864),vh(e,67108864)}}function bh(e){if(13===e.tag||31===e.tag){var t=Gc(),n=Rr(e,t=Le(t));null!==n&&Yc(n,0,t),vh(e,t)}}var wh=!0;function Sh(e,t,n,r){var i=D.T;D.T=null;var a=O.p;try{O.p=2,kh(e,t,n,r)}finally{O.p=a,D.T=i}}function xh(e,t,n,r){var i=D.T;D.T=null;var a=O.p;try{O.p=8,kh(e,t,n,r)}finally{O.p=a,D.T=i}}function kh(e,t,n,r){if(wh){var i=Eh(r);if(null===i)nd(e,t,r,_h,n),Lh(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nh=Mh(Nh,e,t,n,r,i),!0;case"dragenter":return Ah=Mh(Ah,e,t,n,r,i),!0;case"mouseover":return Ph=Mh(Ph,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jh.set(a,Mh(jh.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rh.set(a,Mh(Rh.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lh(e,r),4&t&&-1<Oh.indexOf(e)){for(;null!==i;){var a=Je(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var s=Te(a.pendingLanes);if(0!==s){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-we(s);o.entanglements[1]|=l,s&=~l}Lu(a),0===(6&pc)&&(Oc=le()+500,Mu(0,!1))}}break;case 31:case 13:null!==(o=Rr(a,2))&&Yc(o,0,2),eu(),vh(a,2)}if(null===(a=Eh(r))&&nd(e,t,r,_h,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else nd(e,t,r,null,n)}}function Eh(e){return Th(e=Dt(e))}var _h=null;function Th(e){if(_h=null,null!==(e=$e(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(31===n){if(null!==(e=u(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return _h=e,null}function Ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ce()){case ue:return 2;case de:return 8;case he:case fe:return 32;case pe:return 268435456;default:return 32}default:return 32}}var Ih=!1,Nh=null,Ah=null,Ph=null,jh=new Map,Rh=new Map,Dh=[],Oh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lh(e,t){switch(e){case"focusin":case"focusout":Nh=null;break;case"dragenter":case"dragleave":Ah=null;break;case"mouseover":case"mouseout":Ph=null;break;case"pointerover":case"pointerout":jh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rh.delete(t.pointerId)}}function Mh(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=Je(t))&&yh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Fh(e){var t=$e(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(31===t){if(null!==(t=u(n)))return e.blockedOn=t,void ze(e.priority,function(){bh(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eh(e.nativeEvent);if(null!==n)return null!==(t=Je(n))&&yh(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Uh(e,t,n){zh(e)&&n.delete(t)}function Vh(){Ih=!1,null!==Nh&&zh(Nh)&&(Nh=null),null!==Ah&&zh(Ah)&&(Ah=null),null!==Ph&&zh(Ph)&&(Ph=null),jh.forEach(Uh),Rh.forEach(Uh)}function Bh(e,t){e.blockedOn===t&&(e.blockedOn=null,Ih||(Ih=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Vh)))}var qh=null;function Hh(e){qh!==e&&(qh=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){qh===e&&(qh=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===Th(r||n))continue;break}var a=Je(n);null!==a&&(e.splice(t,3),t-=3,to(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Wh(e){function t(t){return Bh(t,e)}null!==Nh&&Bh(Nh,e),null!==Ah&&Bh(Ah,e),null!==Ph&&Bh(Ph,e),jh.forEach(t),Rh.forEach(t);for(var n=0;n<Dh.length;n++){var r=Dh[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Dh.length&&null===(n=Dh[0]).blockedOn;)Fh(n),null===n.blockedOn&&Dh.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Be]||null;if("function"===typeof a)s||Hh(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Be]||null)o=s.formAction;else if(null!==Th(i))continue}else o=s.action;"function"===typeof o?n[r+1]=o:(n.splice(r,3),r-=3),Hh(n)}}}function Kh(){function e(e){e.canIntercept&&"react-transition"===e.info&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:"manual",scroll:"manual"})}function t(){null!==i&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&null!=e.url&&navigation.navigate(e.url,{state:e.getState(),info:"react-transition",history:"replace"})}}if("object"===typeof navigation){var r=!1,i=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),null!==i&&(i(),i=null)}}}function Gh(e){this._internalRoot=e}function Qh(e){this._internalRoot=e}Qh.prototype.render=Gh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));mh(t.current,Gc(),e,t,null,null)},Qh.prototype.unmount=Gh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mh(e.current,2,null,e,null,null),eu(),t[qe]=null}},Qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Fe();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dh.length&&0!==t&&t<Dh[n].priority;n++);Dh.splice(n,0,e),0===n&&Fh(e)}};var Yh=i.version;if("19.2.4"!==Yh)throw Error(s(527,Yh,"19.2.4"));O.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return d(i),e;if(a===r)return d(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,c=i.child;c;){if(c===n){o=!0,n=i,r=a;break}if(c===r){o=!0,r=i,n=a;break}c=c.sibling}if(!o){for(c=a.child;c;){if(c===n){o=!0,n=a,r=i;break}if(c===r){o=!0,r=a,n=i;break}c=c.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var $h={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.2.4"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ve=Jh.inject($h),ye=Jh}catch(Zh){}}t.createRoot=function(e,t){if(!o(e))throw Error(s(299));var n=!1,r="",i=_o,a=To,l=Co;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError)),t=fh(e,1,!1,null,0,n,r,null,i,a,l,Kh),e[qe]=t.current,ed(e),new Gh(t)},t.hydrateRoot=function(e,t,n){if(!o(e))throw Error(s(299));var r=!1,i="",a=_o,l=To,c=Co,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(a=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.formState&&(u=n.formState)),(t=fh(e,1,!0,t,0,r,i,u,a,l,c,Kh)).context=ph(null),n=t.current,(i=ba(r=Le(r=Gc()))).callback=null,wa(n,i,r),n=r,t.current.lanes=n,je(t,n),Lu(t),e[qe]=t.current,ed(e),new Qh(t)},t.version="19.2.4"},672(e,t,n){var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:o,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):"script"===n&&s.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.2.4"},391(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},950(e,t,n){!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)},799(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in r={},t)"key"!==a&&(r[a]=t[a]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},288(e,t){var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),p=Symbol.iterator;var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}function b(){}function w(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||m}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=y.prototype;var S=w.prototype=new b;S.constructor=w,g(S,y.prototype),S.isPureReactComponent=!0;var x=Array.isArray;function k(){}var E={H:null,A:null,T:null,S:null},_=Object.prototype.hasOwnProperty;function T(e,t,r){var i=r.ref;return{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:r}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(e,t,i,a,s){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(o){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case h:return A((u=e._init)(e._payload),t,i,a,s)}}if(u)return s=s(e),u=""===a?"."+N(e,0):a,x(s)?(i="",null!=u&&(i=u.replace(I,"$&/")+"/"),A(s,t,i,"",function(e){return e})):null!=s&&(C(s)&&(l=s,c=i+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+u,s=T(l.type,c,l.props)),t.push(s)),1;u=0;var d,f=""===a?".":a+":";if(x(e))for(var m=0;m<e.length;m++)u+=A(a=e[m],t,i,o=f+N(a,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(a=e.next()).done;)u+=A(a=a.value,t,i,o=f+N(a,m++),s);else if("object"===o){if("function"===typeof e.then)return A(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(k,k):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function P(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",function(e){return t.call(n,e,i++)}),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},D={map:P,forEach:function(e,t,n){P(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return P(e,function(){t++}),t},toArray:function(e){return P(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};t.Activity=f,t.Children=D,t.Component=y,t.Fragment=i,t.Profiler=s,t.PureComponent=w,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cacheSignal=function(){return null},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.key&&(i=""+t.key),t)!_.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(r[a]=t[a]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return T(e.type,i,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:o,_context:e},e},t.createElement=function(e,t,n){var r,i={},a=null;if(null!=t)for(r in void 0!==t.key&&(a=""+t.key),t)_.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return T(e,a,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(k,R)}catch(a){R(a)}finally{null!==t&&null!==n.types&&(t.types=n.types),E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t){return E.H.useEffect(e,t)},t.useEffectEvent=function(e){return E.H.useEffectEvent(e)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.2.4"},43(e,t,n){e.exports=n(288)},579(e,t,n){e.exports=n(799)},896(e,t){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v=!1,y="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function S(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function x(e){if(g=!1,S(e),!m)if(null!==r(c))m=!0,E||(E=!0,k());else{var t=r(u);null!==t&&j(x,t.startTime-e)}}var k,E=!1,_=-1,T=5,C=-1;function I(){return!!v||!(t.unstable_now()-C<T)}function N(){if(v=!1,E){var e=t.unstable_now();C=e;var n=!0;try{e:{m=!1,g&&(g=!1,b(_),_=-1),p=!0;var a=f;try{t:{for(S(e),h=r(c);null!==h&&!(h.expirationTime>e&&I());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var o=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof o){h.callback=o,S(e),n=!0;break t}h===r(c)&&i(c),S(e)}else i(c);h=r(c)}if(null!==h)n=!0;else{var l=r(u);null!==l&&j(x,l.startTime-e),n=!1}}break e}finally{h=null,f=a,p=!1}n=void 0}}finally{n?k():E=!1}}}if("function"===typeof w)k=function(){w(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,P=A.port2;A.port1.onmessage=N,k=function(){P.postMessage(null)}}else k=function(){y(N,0)};function j(e,n){_=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var s=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>s?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(b(_),_=-1):g=!0,j(x,a-s))):(e.sortIndex=o,n(c,e),m||p||(m=!0,E||(E=!0,k()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853(e,t,n){e.exports=n(896)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".8462a104.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="hero-siege-brasil:";n.l=(r,i,a,s)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+a){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=a);var s=n.p+n.u(t),o=new Error;n.l(s,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+s+")",o.name="ChunkLoadError",o.type=a,o.request=s,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,a,[s,o,l]=r,c=0;if(s.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<s.length;c++)a=s[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkhero_siege_brasil=self.webpackChunkhero_siege_brasil||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}function o(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}const u=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},d={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,s=a?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|s>>4;let d=(15&s)<<2|l>>6,h=63&l;o||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(u(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==s||null==o)throw new h;const l=t<<2|a>>4;if(r.push(l),64!==s){const e=a<<4&240|s>>2;if(r.push(e),64!==o){const e=s<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class h extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const f=function(e){return function(e){const t=u(e);return d.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return d.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function m(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const g=()=>{try{return m().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&p(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},v=e=>{var t;return null===(t=g())||void 0===t||null===(t=t.emulatorHosts)||void 0===t?void 0:t[e]},y=()=>{var e;return null===(e=g())||void 0===e?void 0:e.config},b=e=>{var t;return null===(t=g())||void 0===t?void 0:t["_".concat(e)]};class w{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function S(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch(t){return!1}}async function x(e){return(await fetch(e,{credentials:"include"})).ok}const k={};let E=!1;function _(e,t){if("undefined"===typeof window||"undefined"===typeof document||!S(window.location.host)||k[e]===t||k[e]||E)return;function n(e){return"__firebase__banner__".concat(e)}k[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(k))k[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function a(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{E=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function s(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),s=document.getElementById(t)||document.createElement("span"),o=n("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const n=a();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,s,l,n),document.body.appendChild(t)}i?(s.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',s.innerText="Preview backend running in this workspace."),s.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",s):s()}function T(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function C(){var e;const t=null===(e=g())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}function I(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function N(){return!C()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){try{return"object"===typeof indexedDB}catch(e){return!1}}function P(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class j extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,j.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,R.prototype.create)}}class R{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(D,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new j(n,a,t)}}const D=/\{\$([^}]+)}/g;function O(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(L(n)&&L(a)){if(!O(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function L(e){return null!==e&&"object"===typeof e}function M(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function F(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class U{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=V),void 0===r.error&&(r.error=V),void 0===r.complete&&(r.complete=V);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V(){}function B(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function q(e){return e&&e._delegate?e._delegate:e}class H{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const W="[DEFAULT]";class K{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new w;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:W})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===W?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;return this.component?this.component.multipleInstances?e:W:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class G{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new K(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Q=[];var Y;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Y||(Y={}));const $={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},J=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},Z=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=X[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,a=new Array(i>2?i-2:0),s=2;s<i;s++)a[s-2]=arguments[s];console[r]("[".concat(n,"]  ").concat(e.name,":"),...a)};class ee{constructor(e){this.name=e,this._logLevel=J,this._logHandler=Z,this._userLogHandler=null,Q.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Y))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...t),this._logHandler(this,Y.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...t),this._logHandler(this,Y.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.INFO,...t),this._logHandler(this,Y.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.WARN,...t),this._logHandler(this,Y.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...t),this._logHandler(this,Y.ERROR,...t)}}let te,ne;const re=new WeakMap,ie=new WeakMap,ae=new WeakMap,se=new WeakMap,oe=new WeakMap;let le={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ie.get(e);if("objectStoreNames"===t)return e.objectStoreNames||ae.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return de(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ce(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ne||(ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(he(this),n),de(re.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return de(e.apply(he(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(he(this),t,...r);return ae.set(a,t.sort?t.sort():[t]),de(a)}}function ue(e){return"function"===typeof e?ce(e):(e instanceof IDBTransaction&&function(e){if(ie.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});ie.set(e,t)}(e),t=e,(te||(te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,le):e);var t}function de(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(de(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(t=>{t instanceof IDBCursor&&re.set(t,e)}).catch(()=>{}),oe.set(t,e),t}(e);if(se.has(e))return se.get(e);const t=ue(e);return t!==e&&(se.set(e,t),oe.set(t,e)),t}const he=e=>oe.get(e);function fe(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=indexedDB.open(e,t),o=de(s);return r&&s.addEventListener("upgradeneeded",e=>{r(de(s.result),e.oldVersion,e.newVersion,de(s.transaction),e)}),n&&s.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{a&&e.addEventListener("close",()=>a()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}const pe=["get","getKey","getAll","getAllKeys","count"],me=["put","add","delete","clear"],ge=new Map;function ve(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(ge.get(t))return ge.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=me.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!pe.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var s=arguments.length,o=new Array(s>1?s-1:0),l=1;l<s;l++)o[l-1]=arguments[l];return r&&(a=a.index(o.shift())),(await Promise.all([a[n](...o),i&&t.done]))[0]};return ge.set(t,a),a}le=(e=>c(c({},e),{},{get:(t,n,r)=>ve(t,n)||e.get(t,n,r),has:(t,n)=>!!ve(t,n)||e.has(t,n)}))(le);class ye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const be="@firebase/app",we="0.14.8",Se=new ee("@firebase/app"),xe="@firebase/app-compat",ke="@firebase/analytics-compat",Ee="@firebase/analytics",_e="@firebase/app-check-compat",Te="@firebase/app-check",Ce="@firebase/auth",Ie="@firebase/auth-compat",Ne="@firebase/database",Ae="@firebase/data-connect",Pe="@firebase/database-compat",je="@firebase/functions",Re="@firebase/functions-compat",De="@firebase/installations",Oe="@firebase/installations-compat",Le="@firebase/messaging",Me="@firebase/messaging-compat",Fe="@firebase/performance",ze="@firebase/performance-compat",Ue="@firebase/remote-config",Ve="@firebase/remote-config-compat",Be="@firebase/storage",qe="@firebase/storage-compat",He="@firebase/firestore",We="@firebase/ai",Ke="@firebase/firestore-compat",Ge="firebase",Qe="[DEFAULT]",Ye={[be]:"fire-core",[xe]:"fire-core-compat",[Ee]:"fire-analytics",[ke]:"fire-analytics-compat",[Te]:"fire-app-check",[_e]:"fire-app-check-compat",[Ce]:"fire-auth",[Ie]:"fire-auth-compat",[Ne]:"fire-rtdb",[Ae]:"fire-data-connect",[Pe]:"fire-rtdb-compat",[je]:"fire-fn",[Re]:"fire-fn-compat",[De]:"fire-iid",[Oe]:"fire-iid-compat",[Le]:"fire-fcm",[Me]:"fire-fcm-compat",[Fe]:"fire-perf",[ze]:"fire-perf-compat",[Ue]:"fire-rc",[Ve]:"fire-rc-compat",[Be]:"fire-gcs",[qe]:"fire-gcs-compat",[He]:"fire-fst",[Ke]:"fire-fst-compat",[We]:"fire-vertex","fire-js":"fire-js",[Ge]:"fire-js-all"},$e=new Map,Je=new Map,Xe=new Map;function Ze(e,t){try{e.container.addComponent(t)}catch(n){Se.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function et(e){const t=e.name;if(Xe.has(t))return Se.debug("There were multiple attempts to register component ".concat(t,".")),!1;Xe.set(t,e);for(const n of $e.values())Ze(n,e);for(const n of Je.values())Ze(n,e);return!0}function tt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function nt(e){return null!==e&&void 0!==e&&void 0!==e.settings}const rt=new R("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class it{constructor(e,t,n){this._isDeleted=!1,this._options=c({},e),this._config=c({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new H("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rt.create("app-deleted",{appName:this._name})}}const at="12.9.0";function st(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=c({name:Qe,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw rt.create("bad-app-name",{appName:String(i)});if(n||(n=y()),!n)throw rt.create("no-options");const a=$e.get(i);if(a){if(O(n,a.options)&&O(r,a.config))return a;throw rt.create("duplicate-app",{appName:i})}const s=new G(i);for(const l of Xe.values())s.addComponent(l);const o=new it(n,r,s);return $e.set(i,o),o}function ot(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe;const t=$e.get(e);if(!t&&e===Qe&&y())return st();if(!t)throw rt.create("no-app",{appName:e});return t}function lt(e,t,n){var r;let i=null!==(r=Ye[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const a=i.match(/\s|\//),s=t.match(/\s|\//);if(a||s){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&s&&e.push("and"),s&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Se.warn(e.join(" "))}et(new H("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const ct="firebase-heartbeat-store";let ut=null;function dt(){return ut||(ut=fe("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ct)}catch(n){console.warn(n)}}}).catch(e=>{throw rt.create("idb-open",{originalErrorMessage:e.message})})),ut}async function ht(e,t){try{const n=(await dt()).transaction(ct,"readwrite"),r=n.objectStore(ct);await r.put(t,ft(e)),await n.done}catch(n){if(n instanceof j)Se.warn(n.message);else{const e=rt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Se.warn(e.message)}}}function ft(e){return"".concat(e.name,"!").concat(e.options.appId)}class pt{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gt(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{var e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mt();var t;if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats))if(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Se.warn(n)}}async getHeartbeatsHeader(){try{var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=mt(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),vt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=f(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return Se.warn(t),""}}}function mt(){return(new Date).toISOString().substring(0,10)}class gt{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!A()&&P().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await dt()).transaction(ct),n=await t.objectStore(ct).get(ft(e));return await t.done,n}catch(t){if(t instanceof j)Se.warn(t.message);else{const e=rt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Se.warn(e.message)}}}(this.app);return null!==e&&void 0!==e&&e.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ht(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){var t;const n=await this.read();return ht(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function vt(e){return f(JSON.stringify({version:2,heartbeats:e})).length}var yt;yt="",et(new H("platform-logger",e=>new ye(e),"PRIVATE")),et(new H("heartbeat",e=>new pt(e),"PRIVATE")),lt(be,we,yt),lt(be,we,"esm2020"),lt("fire-js","");lt("firebase","12.9.0","app");const bt="@firebase/installations",wt="0.6.19",St=1e4,xt="w:".concat(wt),kt="FIS_v2",Et=36e5,_t=new R("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(e){return e instanceof j&&e.code.includes("request-failed")}function Ct(e){let{projectId:t}=e;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function It(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function Nt(e,t){const n=(await t.json()).error;return _t.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function At(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Pt(e,t){let{refreshToken:n}=t;const r=At(e);return r.append("Authorization",function(e){return"".concat(kt," ").concat(e)}(n)),r}async function jt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Rt(e){return new Promise(t=>{setTimeout(t,e)})}const Dt=/^[cdef][\w-]{21}$/;function Ot(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Dt.test(t)?t:""}catch(e){return""}}function Lt(e){return"".concat(e.appName,"!").concat(e.appId)}const Mt=new Map;function Ft(e,t){const n=Lt(e);zt(n,t),function(e,t){const n=Vt();n&&n.postMessage({key:e,fid:t});Bt()}(n,t)}function zt(e,t){const n=Mt.get(e);if(n)for(const r of n)r(t)}let Ut=null;function Vt(){return!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=e=>{zt(e.data.key,e.data.fid)}),Ut}function Bt(){0===Mt.size&&Ut&&(Ut.close(),Ut=null)}const qt="firebase-installations-store";let Ht=null;function Wt(){return Ht||(Ht=fe("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(qt)}})),Ht}async function Kt(e,t){const n=Lt(e),r=(await Wt()).transaction(qt,"readwrite"),i=r.objectStore(qt),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Ft(e,t.fid),t}async function Gt(e){const t=Lt(e),n=(await Wt()).transaction(qt,"readwrite");await n.objectStore(qt).delete(t),await n.done}async function Qt(e,t){const n=Lt(e),r=(await Wt()).transaction(qt,"readwrite"),i=r.objectStore(qt),a=await i.get(n),s=t(a);return void 0===s?await i.delete(n):await i.put(s,n),await r.done,!s||a&&a.fid===s.fid||Ft(e,s.fid),s}async function Yt(e){let t;const n=await Qt(e.appConfig,n=>{const r=function(e){const t=e||{fid:Ot(),registrationStatus:0};return Xt(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(_t.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=Ct(n),s=At(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const l={fid:i,authVersion:kt,appId:n.appId,sdkVersion:xt},c={method:"POST",headers:s,body:JSON.stringify(l)},u=await jt(()=>fetch(a,c));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:It(e.authToken)}}throw await Nt("Create Installation",u)}(e,t);return Kt(e.appConfig,n)}catch(n){throw Tt(n)&&409===n.customData.serverCode?await Gt(e.appConfig):await Kt(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:$t(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function $t(e){let t=await Jt(e.appConfig);for(;1===t.registrationStatus;)await Rt(100),t=await Jt(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Yt(e);return n||t}return t}function Jt(e){return Qt(e,e=>{if(!e)throw _t.create("installation-not-found");return Xt(e)})}function Xt(e){return 1===(t=e).registrationStatus&&t.registrationTime+St<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Zt(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return"".concat(Ct(e),"/").concat(n,"/authTokens:generate")}(n,t),a=Pt(n,t),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const o={installation:{sdkVersion:xt,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(o)},c=await jt(()=>fetch(i,l));if(c.ok){return It(await c.json())}throw await Nt("Generate Auth Token",c)}async function en(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Qt(e.appConfig,r=>{if(!nn(r))throw _t.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Et}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await tn(e.appConfig);for(;1===n.authToken.requestStatus;)await Rt(100),n=await tn(e.appConfig);const r=n.authToken;return 0===r.requestStatus?en(e,t):r}(e,n),r;{if(!navigator.onLine)throw _t.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return c(c({},e),{},{authToken:t})}(r);return t=async function(e,t){try{const n=await Zt(e,t),r=c(c({},t),{},{authToken:n});return await Kt(e.appConfig,r),n}catch(n){if(!Tt(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=c(c({},t),{},{authToken:{requestStatus:0}});await Kt(e.appConfig,n)}else await Gt(e.appConfig);throw n}}(e,n),n}});return t?await t:r.authToken}function tn(e){return Qt(e,e=>{if(!nn(e))throw _t.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+St<Date.now()?c(c({},e),{},{authToken:{requestStatus:0}}):e;var n})}function nn(e){return void 0!==e&&2===e.registrationStatus}async function rn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Yt(e);t&&await t}(n);return(await en(n,t)).token}function an(e){return _t.create("missing-app-config-values",{valueName:e})}const sn="installations",on=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw an("App Configuration");if(!e.name)throw an("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw an(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:tt(t,"heartbeat"),_delete:()=>Promise.resolve()}},ln=e=>{const t=tt(e.getProvider("app").getImmediate(),sn).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Yt(t);return r?r.catch(console.error):en(t).catch(console.error),n.fid}(t),getToken:e=>rn(t,e)}};et(new H(sn,on,"PUBLIC")),et(new H("installations-internal",ln,"PRIVATE")),lt(bt,wt),lt(bt,wt,"esm2020");const cn="analytics",un="https://www.googletagmanager.com/gtag/js",dn=new ee("@firebase/analytics"),hn=new R("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function fn(e){if(!e.startsWith(un)){const t=hn.create("invalid-gtag-resource",{gtagURL:e});return dn.warn(t.message),""}return e}function pn(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function mn(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:fn}),r=document.createElement("script"),i="".concat(un,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function gn(e,t,n,r){return async function(i){try{for(var a=arguments.length,s=new Array(a>1?a-1:0),o=1;o<a;o++)s[o-1]=arguments[o];if("event"===i){const[r,i]=s;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await pn(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch(a){dn.error(a)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=s;await async function(e,t,n,r,i,a){const s=r[i];try{if(s)await t[s];else{const e=(await pn(n)).find(e=>e.measurementId===i);e&&await t[e.appId]}}catch(o){dn.error(o)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=s;e("consent",t,n)}else if("get"===i){const[t,n,r]=s;e("get",t,n,r)}else if("set"===i){const[t]=s;e("set",t)}else e(i,...s)}catch(l){dn.error(l)}}}const vn=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function yn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function bn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vn,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw hn.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw hn.create("no-api-key")}const s=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Sn;return setTimeout(async()=>{o.abort()},void 0!==n?n:6e4),wn({appId:r,apiKey:i,measurementId:a},s,o,t)}async function wn(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vn;const{appId:s,measurementId:o}=e;try{await function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(a),r(hn.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(n,r)}catch(c){if(o)return dn.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===c||void 0===c?void 0:c.message,"]")),{appId:s,measurementId:o};throw c}try{const t=await async function(e){const{appId:t,apiKey:n}=e,r={method:"GET",headers:yn(n)},i="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",t),a=await fetch(i,r);if(200!==a.status&&304!==a.status){let e="";try{var s;const t=await a.json();null!==(s=t.error)&&void 0!==s&&s.message&&(e=t.error.message)}catch(o){}throw hn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return a.deleteThrottleMetadata(s),t}catch(c){var l;const t=c;if(!function(e){if(!(e instanceof j)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(t)){if(a.deleteThrottleMetadata(s),o)return dn.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(o)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===t||void 0===t?void 0:t.message,"]")),{appId:s,measurementId:o};throw c}const r=503===Number(null===t||void 0===t||null===(l=t.customData)||void 0===l?void 0:l.httpStatus)?B(i,a.intervalMillis,30):B(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+r,backoffCount:i+1};return a.setThrottleMetadata(s,u),dn.debug("Calling attemptFetch again in ".concat(r," millis")),wn(e,u,n,a)}}class Sn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let xn,kn;function En(e){kn=e}function _n(e){xn=e}async function Tn(e,t,n,r,i,a,s){var o;const l=bn(e);l.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&dn.warn("The measurement ID in the local Firebase config (".concat(e.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(t.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")}).catch(e=>dn.error(e)),t.push(l);const c=async function(){if(!A())return dn.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await P()}catch(e){return dn.warn(hn.create("indexeddb-unavailable",{errorInfo:null===e||void 0===e?void 0:e.toString()}).message),!1}return!0}().then(e=>e?r.getId():void 0),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(un)&&n.src.includes(e))return n;return null})(a)||mn(a,u.measurementId),kn&&(i("consent","default",kn),En(void 0)),i("js",new Date);const h=null!==(o=null===s||void 0===s?void 0:s.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),xn&&(i("set",xn),_n(void 0)),u.measurementId}class Cn{constructor(e){this.app=e}_delete(){return delete In[this.app.options.appId],Promise.resolve()}}let In={},Nn=[];const An={};let Pn,jn,Rn="dataLayer",Dn="gtag",On=!1;function Ln(){const e=[];if(I()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>"(".concat(t+1,") ").concat(e)).join(" "),n=hn.create("invalid-analytics-context",{errorInfo:t});dn.warn(n.message)}}function Mn(e,t,n){Ln();const r=e.options.appId;if(!r)throw hn.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw hn.create("no-api-key");dn.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=In[r])throw hn.create("already-exists",{id:r});if(!On){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Rn);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=gn(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(In,Nn,An,Rn,Dn);jn=e,Pn=t,On=!0}In[r]=Tn(e,Nn,An,t,Pn,Rn,n);return new Cn(e)}function Fn(e,t,n){e=q(e),async function(e,t,n,r){if(r&&r.global){const t={};for(const e of Object.keys(n))t["user_properties.".concat(e)]=n[e];return e("set",t),Promise.resolve()}e("config",await t,{update:!0,user_properties:n})}(jn,In[e.app.options.appId],t,n).catch(e=>dn.error(e))}function zn(e,t,n,r){e=q(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,c(c({},r),{},{send_to:i}))}}(jn,In[e.app.options.appId],t,n,r).catch(e=>dn.error(e))}const Un="@firebase/analytics",Vn="0.10.19";et(new H(cn,(e,t)=>{let{options:n}=t;return Mn(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)},"PUBLIC")),et(new H("analytics-internal",function(e){try{const t=e.getProvider(cn).getImmediate();return{logEvent:(e,n,r)=>zn(t,e,n,r),setUserProperties:(e,n)=>Fn(t,e,n)}}catch(t){throw hn.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),lt(Un,Vn),lt(Un,Vn,"esm2020");var Bn,qn,Hn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Wn={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}function n(e,t,n){n||(n=0);const r=Array(16);if("string"===typeof t)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a,s=e.g[3];a=t+(s^n&(i^s))+r[0]+3614090360&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[1]+3905402710&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[2]+606105819&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[3]+3250441966&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[4]+4118548399&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[5]+1200080426&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[6]+2821735955&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[7]+4249261313&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[8]+1770035416&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[9]+2336552879&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[10]+4294925233&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[11]+2304563134&4294967295,a=t+(s^(n=i+(a<<22&4294967295|a>>>10))&(i^s))+r[12]+1804603682&4294967295,a=s+(i^(t=n+(a<<7&4294967295|a>>>25))&(n^i))+r[13]+4254626195&4294967295,s=t+(a<<12&4294967295|a>>>20),a=i+(n^s&(t^n))+r[14]+2792965006&4294967295,a=n+(t^(i=s+(a<<17&4294967295|a>>>15))&(s^t))+r[15]+1236535329&4294967295,a=t+(i^s&((n=i+(a<<22&4294967295|a>>>10))^i))+r[1]+4129170786&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[6]+3225465664&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[11]+643717713&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[0]+3921069994&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[5]+3593408605&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[10]+38016083&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[15]+3634488961&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[4]+3889429448&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[9]+568446438&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[14]+3275163606&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[3]+4107603335&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[8]+1163531501&4294967295,a=t+(i^s&((n=i+(a<<20&4294967295|a>>>12))^i))+r[13]+2850285829&4294967295,a=s+(n^i&((t=n+(a<<5&4294967295|a>>>27))^n))+r[2]+4243563512&4294967295,s=t+(a<<9&4294967295|a>>>23),a=i+(t^n&(s^t))+r[7]+1735328473&4294967295,a=n+(s^t&((i=s+(a<<14&4294967295|a>>>18))^s))+r[12]+2368359562&4294967295,a=t+((n=i+(a<<20&4294967295|a>>>12))^i^s)+r[5]+4294588738&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[8]+2272392833&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[11]+1839030562&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[14]+4259657740&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[1]+2763975236&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[4]+1272893353&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[7]+4139469664&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[10]+3200236656&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[13]+681279174&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[0]+3936430074&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[3]+3572445317&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[6]+76029189&4294967295,a=t+((n=i+(a<<23&4294967295|a>>>9))^i^s)+r[9]+3654602809&4294967295,a=s+((t=n+(a<<4&4294967295|a>>>28))^n^i)+r[12]+3873151461&4294967295,s=t+(a<<11&4294967295|a>>>21),a=i+(s^t^n)+r[15]+530742520&4294967295,a=n+((i=s+(a<<16&4294967295|a>>>16))^s^t)+r[2]+3299628645&4294967295,a=t+(i^((n=i+(a<<23&4294967295|a>>>9))|~s))+r[0]+4096336452&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[7]+1126891415&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[14]+2878612391&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[5]+4237533241&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[12]+1700485571&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[3]+2399980690&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[10]+4293915773&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[1]+2240044497&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[8]+1873313359&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[15]+4264355552&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[6]+2734768916&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[13]+1309151649&4294967295,a=t+(i^((n=i+(a<<21&4294967295|a>>>11))|~s))+r[4]+4149444226&4294967295,a=s+(n^((t=n+(a<<6&4294967295|a>>>26))|~i))+r[11]+3174756917&4294967295,s=t+(a<<10&4294967295|a>>>22),a=i+(t^(s|~n))+r[2]+718787259&4294967295,a=n+(s^((i=s+(a<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;const n=[];let r=!0;for(let i=e.length-1;i>=0;i--){const a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.v=function(e,t){void 0===t&&(t=e.length);const r=t-this.blockSize,i=this.C;let a=this.h,s=0;for(;s<t;){if(0==a)for(;s<=r;)n(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(i[a++]=e.charCodeAt(s++),a==this.blockSize){n(this,i),a=0;break}}else for(;s<t;)if(i[a++]=e[s++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.A=function(){var e=Array((this.h<56?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=8*this.o;for(var n=e.length-8;n<e.length;++n)e[n]=255&t,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};var i={};function a(e){return-128<=e&&e<128?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],e<0?-1:0)}):new r([0|e],e<0?-1:0)}function s(e){if(isNaN(e)||!isFinite(e))return o;if(e<0)return h(s(-e));const t=[];let n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new r(t,0)}var o=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(let t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){const t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(o,o);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(e.g.length>30){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;r.l(e)<=0;)n=v(n),r=v(r);var i=y(n,1),a=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=a.add(r);c.l(e)<=0&&(i=i.add(n),a=c),r=y(r,1),n=y(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=o;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=(r=Math.ceil(Math.log(n)/Math.LN2))<=48?1:Math.pow(2,r-48),c=(a=s(n)).j(t);d(c)||c.l(e)>0;)c=(a=s(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function v(e){const t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new r(n,e.h)}function y(e,t){const n=t>>5;t%=32;const i=e.g.length-n,a=[];for(let r=0;r<i;r++)a[r]=t>0?e.i(r+n)>>>t|e.i(r+n+1)<<32-t:e.i(r+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){const r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if((e=e||10)<2||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);const t=s(Math.pow(e,6));var n=this;let r="";for(;;){const i=g(n,t).g;let a=(((n=f(n,i.j(t))).g.length>0?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;a.length<6;)a="0"+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){const t=Math.max(this.g.length,e.g.length),n=[];let i=0;for(let r=0;r<=t;r++){let t=i+(65535&this.i(r))+(65535&e.i(r)),a=(t>>>16)+(this.i(r)>>>16)+(e.i(r)>>>16);i=a>>>16,t&=65535,a&=65535,n[r]=a<<16|t}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(this.l(c)<0&&e.l(c)<0)return s(this.m()*e.m());const t=this.g.length+e.g.length,n=[];for(var i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(let t=0;t<e.g.length;t++){const r=this.i(i)>>>16,a=65535&this.i(i),s=e.i(t)>>>16,o=65535&e.i(t);n[2*i+2*t]+=a*o,p(n,2*i+2*t),n[2*i+2*t+1]+=r*o,p(n,2*i+2*t+1),n[2*i+2*t+1]+=a*s,p(n,2*i+2*t+1),n[2*i+2*t+2]+=r*s,p(n,2*i+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new r(n,0)},e.B=function(e){return g(this,e).h},e.and=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new r(n,this.h&e.h)},e.or=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new r(n,this.h|e.h)},e.xor=function(e){const t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.A,t.prototype.reset=t.prototype.u,t.prototype.update=t.prototype.v,qn=Wn.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.B,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=s,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if((n=n||10)<2||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(t.indexOf("-")>=0)throw Error('number format error: interior "-" character');const r=s(Math.pow(n,8));let i=o;for(let o=0;o<t.length;o+=8){var a=Math.min(8,t.length-o);const e=parseInt(t.substring(o,o+a),n);a<8?(a=s(Math.pow(n,a)),i=i.j(a).add(s(e))):(i=i.j(r),i=i.add(s(e)))}return i},Bn=Wn.Integer=r}).apply("undefined"!==typeof Hn?Hn:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Kn,Gn,Qn,Yn,$n,Jn,Xn,Zn,er="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},tr={};(function(){var e,t=Object.defineProperty;var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof er&&er];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);function r(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var s=e[a];if(!(s in i))break e;i=i[s]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}r("Symbol.dispose",function(e){return e||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(e){return e||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(e){return e||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push([t,e[t]]);return n}});var i=i||{},a=this||self;function s(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return(l=o).apply(null,arguments)}function c(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function u(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var d="undefined"!==typeof AsyncContext&&"function"===typeof AsyncContext.Snapshot?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function h(e){const t=e.length;if(t>0){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let r=1;r<arguments.length;r++){const t=arguments[r];var n=typeof t;if("array"==(n="object"!=n?n:t?Array.isArray(t)?"array":n:"null")||"object"==n&&"number"==typeof t.length){n=e.length||0;const r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){a.setTimeout(()=>{throw e},0)}function m(){var e=w;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var g=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new v,e=>e.reset());class v{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let y,b=!1,w=new class{constructor(){this.h=this.g=null}add(e,t){const n=g.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},S=()=>{const e=Promise.resolve(void 0);y=()=>{e.then(x)}};function x(){for(var e;e=m();){try{e.h.call(e.g)}catch(n){p(n)}var t=g;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}b=!1}function k(){this.u=this.u,this.C=this.C}function E(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},E.prototype.h=function(){this.defaultPrevented=!0};var _=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};a.addEventListener("test",e,t),a.removeEventListener("test",e,t)}catch(n){}return e}();function T(e){return/^[\s\xa0]*$/.test(e)}function C(e,t){E.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e&&this.init(e,t)}u(C,E),C.prototype.init=function(e,t){const n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,(t=e.relatedTarget)||("mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&C.Z.h.call(this)},C.prototype.h=function(){C.Z.h.call(this);const e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var I="closure_listenable_"+(1e6*Math.random()|0),N=0;function A(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++N,this.da=this.fa=!1}function P(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function j(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function R(e){const t={};for(const n in e)t[n]=e[n];return t}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<D.length;t++)n=D[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function L(e){this.src=e,this.g={},this.h=0}function M(e,t){const n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=a>=0)&&Array.prototype.splice.call(i,a,1),r&&(P(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function F(e,t,n,r){for(let i=0;i<e.length;++i){const a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}L.prototype.add=function(e,t,n,r,i){const a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);const s=F(e,t,r,i);return s>-1?(t=e[s],n||(t.fa=!1)):((t=new A(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var z="closure_lm_"+(1e6*Math.random()|0),U={};function V(e,t,n,r,i){if(r&&r.once)return q(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)V(e,t[a],n,r,i);return null}return n=$(n),e&&e[I]?e.J(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!1,r,i)}function B(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");const o=s(i)?!!i.capture:!!i;let l=Q(e);if(l||(e[z]=l=new L(e)),(n=l.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=G;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)_||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(K(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function q(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)q(e,t[a],n,r,i);return null}return n=$(n),e&&e[I]?e.K(t,n,s(r)?!!r.capture:!!r,i):B(e,t,n,!0,r,i)}function H(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)H(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=$(n),e&&e[I]?(e=e.i,(a=String(t).toString())in e.g&&((n=F(t=e.g[a],n,r,i))>-1&&(P(t[n]),Array.prototype.splice.call(t,n,1),0==t.length&&(delete e.g[a],e.h--)))):e&&(e=Q(e))&&(t=e.g[t.toString()],e=-1,t&&(e=F(t,n,r,i)),(n=e>-1?t[e]:null)&&W(n))}function W(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[I])M(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(K(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Q(t))?(M(n,e),0==n.h&&(n.src=null,t[z]=null)):P(e)}}}function K(e){return e in U?U[e]:U[e]="on"+e}function G(e,t){if(e.da)e=!0;else{t=new C(t,this);const n=e.listener,r=e.ha||e.src;e.fa&&W(e),e=n.call(r,t)}return e}function Q(e){return(e=e[z])instanceof L?e:null}var Y="__closure_events_fn_"+(1e9*Math.random()>>>0);function $(e){return"function"===typeof e?e:(e[Y]||(e[Y]=function(t){return e.handleEvent(t)}),e[Y])}function J(){k.call(this),this.i=new L(this),this.M=this,this.G=null}function X(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new E(t,e);else if(t instanceof E)t.target=t.target||e;else{var i=t;O(t=new E(r,e),i)}let a,s;if(i=!0,n)for(s=n.length-1;s>=0;s--)a=t.g=n[s],i=Z(a,r,!0,t)&&i;if(a=t.g=e,i=Z(a,r,!0,t)&&i,i=Z(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)a=t.g=n[s],i=Z(a,r,!1,t)&&i}function Z(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){const s=t[a];if(s&&!s.da&&s.capture==n){const t=s.listener,n=s.ha||s.src;s.fa&&M(e.i,s),i=!1!==t.call(n,r)&&i}}return i&&!r.defaultPrevented}function ee(e){e.g=function(e,t){if("function"!==typeof e){if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=l(e.handleEvent,e)}return Number(t)>2147483647?-1:a.setTimeout(e,t||0)}(()=>{e.g=null,e.i&&(e.i=!1,ee(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}u(J,k),J.prototype[I]=!0,J.prototype.removeEventListener=function(e,t,n,r){H(this,e,t,n,r)},J.prototype.N=function(){if(J.Z.N.call(this),this.i){var e=this.i;for(const t in e.g){const n=e.g[t];for(let e=0;e<n.length;e++)P(n[e]);delete e.g[t],e.h--}}this.G=null},J.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},J.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class te extends k{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ee(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ne(e){k.call(this),this.h=e,this.g={}}u(ne,k);var re=[];function ie(e){j(e.g,function(e,t){this.g.hasOwnProperty(t)&&W(e)},e),e.g={}}ne.prototype.N=function(){ne.Z.N.call(this),ie(this)},ne.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ae=a.JSON.stringify,se=a.JSON.parse,oe=class{stringify(e){return a.JSON.stringify(e,void 0)}parse(e){return a.JSON.parse(e,void 0)}};function le(){}function ce(){}var ue={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function de(){E.call(this,"d")}function he(){E.call(this,"c")}u(de,E),u(he,E);var fe={},pe=null;function me(){return pe=pe||new J}function ge(e){E.call(this,fe.Ia,e)}function ve(e){const t=me();X(t,new ge(t))}function ye(e,t){E.call(this,fe.STAT_EVENT,e),this.stat=t}function be(e){const t=me();X(t,new ye(t,e))}function we(e,t){E.call(this,fe.Ja,e),this.size=t}function Se(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}function xe(){this.g=!0}function ke(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{const a=JSON.parse(t);if(a)for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(let e=1;e<r.length;e++)r[e]=""}}}return ae(a)}catch(a){return t}}(e,n)+(r?" "+r:"")})}fe.Ia="serverreachability",u(ge,E),fe.STAT_EVENT="statevent",u(ye,E),fe.Ja="timingevent",u(we,E),xe.prototype.ua=function(){this.g=!1},xe.prototype.info=function(){};var Ee,_e={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Te={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"};function Ce(){}function Ie(e){return encodeURIComponent(String(e))}function Ne(e){var t=1;e=e.split(":");const n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ae(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Pe}function Pe(){this.i=null,this.g="",this.h=!1}u(Ce,le),Ce.prototype.g=function(){return new XMLHttpRequest},Ee=new Ce;var je={},Re={};function De(e,t,n){e.M=1,e.A=at(et(t)),e.u=n,e.R=!0,Oe(e,null)}function Oe(e,t){e.F=Date.now(),Fe(e),e.B=et(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),bt(n.i,"t",r),e.C=0,n=e.j.L,e.h=new Pe,e.g=sn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new te(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i="readystatechange";Array.isArray(i)||(i&&(re[0]=i.toString()),i=re);for(let a=0;a<i.length;a++){const e=V(n,i[a],r||t.handleEvent,!1,t.h||t);if(!e)break;t.g[e.key]=e}t=e.J?R(e.J):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.B,e.v,e.u,t)):(e.v="GET",e.g.ea(e.B,e.v,null,t)),ve(),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var s="",o=a.split("&");for(let e=0;e<o.length;e++){var l=o[e].split("=");if(l.length>1){const e=l[0];l=l[1];const t=e.split("_");s=t.length>=2&&"type"==t[1]?s+(e+"=")+l+"&":s+(e+"=redacted&")}}}else s=null;else s=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.i,e.v,e.B,e.l,e.S,e.u)}function Le(e){return!!e.g&&("GET"==e.v&&2!=e.M&&e.j.Aa)}function Me(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Re:(n=Number(t.substring(n,r)),isNaN(n)?je:(r+=1)+n>t.length?Re:(t=t.slice(r,r+n),e.C=r+n,t))}function Fe(e){e.T=Date.now()+e.H,ze(e,e.H)}function ze(e,t){if(null!=e.D)throw Error("WatchDog timer not null");e.D=Se(l(e.aa,e),t)}function Ue(e){e.D&&(a.clearTimeout(e.D),e.D=null)}function Ve(e){0==e.j.I||e.K||en(e.j,e)}function Be(e){Ue(e);var t=e.O;t&&"function"==typeof t.dispose&&t.dispose(),e.O=null,ie(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function qe(e,t){try{var n=e.j;if(0!=n.I&&(n.g==e||Qe(n.h,e)))if(!e.L&&Qe(n.h,e)&&3==n.I){try{var r=n.Ba.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.v){if(n.g){if(!(n.g.F+3e3<e.F))break e;Zt(n),qt(n)}$t(n),be(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&0==n.A&&!n.C&&(n.C=Se(l(n.Va,n),6e3));Ge(n.h)<=1&&n.ta&&(n.ta=void 0)}else nn(n,11)}else if((e.L||n.g==e)&&Zt(n),!T(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t];const u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],2==n.I)if("c"==l[0]){n.M=l[1],n.ba=l[2];const t=l[3];null!=t&&(n.ka=t,n.j.info("VER="+n.ka));const i=l[4];null!=i&&(n.za=i,n.j.info("SVER="+n.za));const u=l[5];null!=u&&"number"===typeof u&&u>0&&(r=1.5*u,n.O=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(Ye(a,a.h),a.h=null))}if(r.G){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.wa=e,it(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info("Handshake RTT: "+n.T+"ms"));var s=e;if((r=n).na=an(r,r.L?r.ba:null,r.W),s.L){$e(r.h,s);var o=s,c=r.O;c&&(o.H=c),o.D&&(Ue(o),Fe(o)),r.g=s}else Yt(r);n.i.length>0&&Wt(n)}else"stop"!=l[0]&&"close"!=l[0]||nn(n,7);else 3==n.I&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?nn(n,7):Bt(n):"noop"!=l[0]&&n.l&&n.l.qa(l),n.A=0)}ve()}catch(u){}}Ae.prototype.ba=function(e){e=e.target;const t=this.O;t&&3==Ft(e)?t.j():this.Y(e)},Ae.prototype.Y=function(e){try{if(e==this.g)e:{const l=Ft(this.g),c=this.g.ya();this.g.ca();if(!(l<3)&&(3!=l||this.g&&(this.h.h||this.g.la()||zt(this.g)))){this.K||4!=l||7==c||ve(),Ue(this);var t=this.g.ca();this.X=t;var n=function(e){if(!Le(e))return e.g.la();const t=zt(e.g);if(""===t)return"";let n="";const r=t.length,i=4==Ft(e.g);if(!e.h.i){if("undefined"===typeof TextDecoder)return Be(e),Ve(e),"";e.h.i=new a.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}(this);if(this.o=200==t,function(e,t,n,r,i,a,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+s})}(this.i,this.v,this.B,this.l,this.S,l,t),this.o){if(this.U&&!this.L){t:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(r)){var s=r;break t}}s=null}if(!(e=s)){this.o=!1,this.m=3,be(12),Be(this),Ve(this);break e}ke(this.i,this.l,e,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,qe(this,e)}if(this.R){let t;for(e=!0;!this.K&&this.C<n.length;){if(t=Me(this,n),t==Re){4==l&&(this.m=4,be(14),e=!1),ke(this.i,this.l,null,"[Incomplete Response]");break}if(t==je){this.m=4,be(15),ke(this.i,this.l,n,"[Invalid Chunk]"),e=!1;break}ke(this.i,this.l,t,null),qe(this,t)}if(Le(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=l||0!=n.length||this.h.h||(this.m=1,be(16),e=!1),this.o=this.o&&e,e){if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jt(o),o.P=!0,be(11))}}else ke(this.i,this.l,n,"[Invalid Chunked Response]"),Be(this),Ve(this)}else ke(this.i,this.l,n,null),qe(this,n);4==l&&Be(this),this.o&&!this.K&&(4==l?en(this.j,this):(this.o=!1,Fe(this)))}else(function(e){const t={};e=(e.g&&Ft(e)>=2&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(T(e[r]))continue;var n=Ne(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==t&&n.indexOf("Unknown SID")>0?(this.m=3,be(12)):(this.m=0,be(13)),Be(this),Ve(this)}}}catch(l){}},Ae.prototype.cancel=function(){this.K=!0,Be(this)},Ae.prototype.aa=function(){this.D=null;const e=Date.now();e-this.T>=0?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.B),2!=this.M&&(ve(),be(17)),Be(this),this.m=2,Ve(this)):ze(this,this.T-e)};var He=class{constructor(e,t){this.g=e,this.map=t}};function We(e){this.l=e||10,a.PerformanceNavigationTiming?e=(e=a.performance.getEntriesByType("navigation")).length>0&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ke(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ge(e){return e.h?1:e.g?e.g.size:0}function Qe(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Ye(e,t){e.g?e.g.add(t):e.h=t}function $e(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Je(e){if(null!=e.h)return e.i.concat(e.h.G);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.G);return t}return h(e.i)}We.prototype.cancel=function(){if(this.i=Je(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Xe=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ze(e){let t;this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1,e instanceof Ze?(this.l=e.l,tt(this,e.j),this.o=e.o,this.g=e.g,nt(this,e.u),this.h=e.h,rt(this,wt(e.i)),this.m=e.m):e&&(t=String(e).match(Xe))?(this.l=!1,tt(this,t[1]||"",!0),this.o=st(t[2]||""),this.g=st(t[3]||"",!0),nt(this,t[4]),this.h=st(t[5]||"",!0),rt(this,t[6]||"",!0),this.m=st(t[7]||"")):(this.l=!1,this.i=new pt(null,this.l))}function et(e){return new Ze(e)}function tt(e,t,n){e.j=n?st(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function nt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error("Bad port number "+t);e.u=t}else e.u=null}function rt(e,t,n){t instanceof pt?(e.i=t,function(e,t){t&&!e.j&&(mt(e),e.i=null,e.g.forEach(function(e,t){const n=t.toLowerCase();t!=n&&(gt(this,t),bt(this,n,e))},e)),e.j=t}(e.i,e.l)):(n||(t=ot(t,ht)),e.i=new pt(t,e.l))}function it(e,t,n){e.i.set(t,n)}function at(e){return it(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function st(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ot(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,lt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function lt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ze.prototype.toString=function(){const e=[];var t=this.j;t&&e.push(ot(t,ct,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ot(t,ct,!0),"@"),e.push(Ie(n).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.u)&&e.push(":",String(n))),(n=this.h)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ot(n,"/"==n.charAt(0)?dt:ut,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ot(n,ft)),e.join("")},Ze.prototype.resolve=function(e){const t=et(this);let n=!!e.j;n?tt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=null!=e.u;var r=e.h;if(n)nt(t,e.u);else if(n=!!e.h){if("/"!=r.charAt(0))if(this.g&&!this.h)r="/"+r;else{var i=t.h.lastIndexOf("/");-1!=i&&(r=t.h.slice(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");const e=[];for(let t=0;t<i.length;){const n=i[t++];"."==n?r&&t==i.length&&e.push(""):".."==n?((e.length>1||1==e.length&&""!=e[0])&&e.pop(),r&&t==i.length&&e.push("")):(e.push(n),r=!0)}r=e.join("/")}else r=i}return n?t.h=r:n=""!==e.i.toString(),n?rt(t,wt(e.i)):n=!!e.m,n&&(t.m=e.m),t};var ct=/[#\/\?@]/g,ut=/[#\?:]/g,dt=/[#\?]/g,ht=/[#\?@]/g,ft=/#/g;function pt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function mt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(let n=0;n<e.length;n++){const r=e[n].indexOf("=");let i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function gt(e,t){mt(e),t=St(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vt(e,t){return mt(e),t=St(e,t),e.g.has(t)}function yt(e,t){mt(e);let n=[];if("string"===typeof t)vt(e,t)&&(n=n.concat(e.g.get(St(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}function bt(e,t,n){gt(e,t),n.length>0&&(e.i=null,e.g.set(St(e,t),h(n)),e.h+=n.length)}function wt(e){const t=new pt;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function St(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function kt(){this.g=new oe}function Et(e){this.i=e.Sb||null,this.h=e.ab||!1}function _t(e,t){J.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}function Tt(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}function Ct(e){e.readyState=4,e.l=null,e.j=null,e.B=null,It(e)}function It(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Nt(e){let t="";return j(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function At(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Nt(n),"string"===typeof e?null!=n&&Ie(n):it(e,t,n))}function Pt(e){J.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}(e=pt.prototype).add=function(e,t){mt(this),this.i=null,e=St(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){mt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.set=function(e,t){return mt(this),this.i=null,vt(this,e=St(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&(e=yt(this,e)).length>0?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];const i=Ie(n);n=yt(this,n);for(let t=0;t<n.length;t++){let r=i;""!==n[t]&&(r+="="+Ie(n[t])),e.push(r)}}return this.i=e.join("&")},u(Et,le),Et.prototype.g=function(){return new _t(this.i,this.h)},u(_t,J),(e=_t.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.F=e,this.D=t,this.readyState=1,It(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||a).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&4!=this.readyState&&(this.g=!1,Ct(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,It(this)),this.g&&(this.readyState=3,It(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if("undefined"!==typeof a.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Tt(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))},e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ct(this):It(this),3==this.readyState&&Tt(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,Ct(this))},e.Na=function(e){this.g&&(this.response=e,Ct(this))},e.ga=function(){this.g&&Ct(this)},e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_t.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),u(Pt,J);var jt=/^https?$/i,Rt=["POST","PUT"];function Dt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,Ot(e),Mt(e)}function Ot(e){e.A||(e.A=!0,X(e,"complete"),X(e,"error"))}function Lt(e){if(e.h&&"undefined"!=typeof i)if(e.v&&4==Ft(e))setTimeout(e.Ca.bind(e),0);else if(X(e,"readystatechange"),4==Ft(e)){e.h=!1;try{const i=e.ca();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===i){let t=String(e.D).match(Xe)[1]||null;!t&&a.self&&a.self.location&&(t=a.self.location.protocol.slice(0,-1)),r=!jt.test(t?t.toLowerCase():"")}n=r}if(n)X(e,"complete"),X(e,"success");else{e.o=6;try{var s=Ft(e)>2?e.g.statusText:""}catch(o){s=""}e.l=s+" ["+e.ca()+"]",Ot(e)}}finally{Mt(e)}}}function Mt(e,t){if(e.g){e.m&&(clearTimeout(e.m),e.m=null);const r=e.g;e.g=null,t||X(e,"ready");try{r.onreadystatechange=null}catch(n){}}}function Ft(e){return e.g?e.g.readyState:0}function zt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.F){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Ut(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Vt(e){this.za=0,this.i=[],this.j=new xe,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ut("failFast",!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ut("baseRetryDelayMs",5e3,e),this.Za=Ut("retryDelaySeedMs",1e4,e),this.Ta=Ut("forwardChannelMaxRetries",2,e),this.va=Ut("forwardChannelRequestTimeoutMs",2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M="",this.h=new We(e&&e.concurrentRequestLimit),this.Ba=new kt,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}function Bt(e){if(Ht(e),3==e.I){var t=e.V++,n=et(e.J);if(it(n,"SID",e.M),it(n,"RID",t),it(n,"TYPE","terminate"),Gt(e,n),(t=new Ae(e,e.j,t)).M=2,t.A=at(et(n)),n=!1,a.navigator&&a.navigator.sendBeacon)try{n=a.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&a.Image&&((new Image).src=t.A,n=!0),n||(t.g=sn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),Fe(t)}rn(e)}function qt(e){e.g&&(Jt(e),e.g.cancel(),e.g=null)}function Ht(e){qt(e),e.v&&(a.clearTimeout(e.v),e.v=null),Zt(e),e.h.cancel(),e.m&&("number"===typeof e.m&&a.clearTimeout(e.m),e.m=null)}function Wt(e){if(!Ke(e.h)&&!e.m){e.m=!0;var t=e.Ea;y||S(),b||(y(),b=!0),w.add(t,e),e.D=0}}function Kt(e,t){var n;n=t?t.l:e.V++;const r=et(e.J);it(r,"SID",e.M),it(r,"RID",n),it(r,"AID",e.K),Gt(e,r),e.u&&e.o&&At(r,e.u,e.o),n=new Ae(e,e.j,n,e.D+1),null===e.u&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=Qt(e,n,1e3),n.H=Math.round(.5*e.va)+Math.round(.5*e.va*Math.random()),Ye(e.h,n),De(n,r,t)}function Gt(e,t){e.H&&j(e.H,function(e,n){it(t,n,e)}),e.l&&j({},function(e,n){it(t,n,e)})}function Qt(e,t,n){n=Math.min(e.i.length,n);const r=e.l?l(e.l.Ka,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?n>0?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let l=!0;for(let c=0;c<n;c++){var a=i[c].g;const n=i[c].map;if((a-=t)<0)t=Math.max(0,i[c].g-100),l=!1;else try{a="req"+a+"_"||0;try{var o=n instanceof Map?n:Object.entries(n);for(const[t,n]of o){let r=n;s(n)&&(r=ae(n)),e.push(a+t+"="+encodeURIComponent(r))}}catch(Rr){throw e.push(a+"type="+encodeURIComponent("_badmap")),Rr}}catch(Rr){r&&r(n)}}if(l){o=e.join("&");break e}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Yt(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;y||S(),b||(y(),b=!0),w.add(t,e),e.A=0}}function $t(e){return!(e.g||e.v||e.A>=3)&&(e.Y++,e.v=Se(l(e.Da,e),tn(e,e.A)),e.A++,!0)}function Jt(e){null!=e.B&&(a.clearTimeout(e.B),e.B=null)}function Xt(e){e.g=new Ae(e,e.j,"rpc",e.Y),null===e.u&&(e.g.J=e.o),e.g.P=0;var t=et(e.na);it(t,"RID","rpc"),it(t,"SID",e.M),it(t,"AID",e.K),it(t,"CI",e.F?"0":"1"),!e.F&&e.ia&&it(t,"TO",e.ia),it(t,"TYPE","xmlhttp"),Gt(e,t),e.u&&e.o&&At(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=at(et(t)),n.u=null,n.R=!0,Oe(n,e)}function Zt(e){null!=e.C&&(a.clearTimeout(e.C),e.C=null)}function en(e,t){var n=null;if(e.g==t){Zt(e),Jt(e),e.g=null;var r=2}else{if(!Qe(e.h,t))return;n=t.G,$e(e.h,t),r=1}if(0!=e.I)if(t.o)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;X(r=me(),new we(r,n)),Wt(e)}else Yt(e);else if(3==(i=t.m)||0==i&&t.X>0||!(1==r&&function(e,t){return!(Ge(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.G.concat(e.i),!0):!(1==e.I||2==e.I||e.D>=(e.Sa?0:e.Ta))&&(e.m=Se(l(e.Ea,e,t),tn(e,e.D)),e.D++,!0))}(e,t)||2==r&&$t(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:nn(e,5);break;case 4:nn(e,10);break;case 3:nn(e,6);break;default:nn(e,2)}}function tn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function nn(e,t){if(e.j.info("Error code "+t),2==t){var n=l(e.bb,e),r=e.Ua;const t=!r;r=new Ze(r||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||tt(r,"https"),at(r),t?function(e,t){const n=new xe;if(a.Image){const r=new Image;r.onload=c(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=c(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=c(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=c(xt,n,"TestLoadImage: timeout",!1,t,r),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new xe;const n=new AbortController,r=setTimeout(()=>{n.abort(),xt(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)}).catch(()=>{clearTimeout(r),xt(0,0,!1,t)})}(r.toString(),n)}else be(2);e.I=0,e.l&&e.l.pa(t),rn(e),Ht(e)}function rn(e){if(e.I=0,e.ja=[],e.l){const t=Je(e.h);0==t.length&&0==e.i.length||(f(e.ja,t),f(e.ja,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.oa()}}function an(e,t,n){var r=n instanceof Ze?et(n):new Ze(n);if(""!=r.g)t&&(r.g=t+"."+r.g),nt(r,r.u);else{var i=a.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;const e=new Ze(null);r&&tt(e,r),t&&(e.g=t),i&&nt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&it(r,n,t),it(r,"VER",e.ka),Gt(e,r),r}function sn(e,t,n){if(t&&!e.L)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Aa&&!e.ma?new Pt(new Et({ab:n})):new Pt(e.ma)).Fa(e.L),t}function on(){}function ln(){}function cn(e,t){J.call(this),this.g=new Vt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e["X-WebChannel-Client-Profile"]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!T(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!T(t)&&(this.g.G=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hn(this)}function un(e){de.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function dn(){he.call(this),this.status=1}function hn(e){this.g=e}(e=Pt.prototype).Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ee.g(),this.g.onreadystatechange=d(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(s){return void Dt(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=a.FormData&&e instanceof a.FormData,!(Array.prototype.indexOf.call(Rt,t,void 0)>=0)||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,o]of n)this.g.setRequestHeader(a,o);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(e),this.v=!1}catch(s){Dt(this,s)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,X(this,"complete"),X(this,"abort"),Mt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mt(this,!0)),Pt.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?Lt(this):this.Xa())},e.Xa=function(){Lt(this)},e.isActive=function(){return!!this.g},e.ca=function(){try{return Ft(this)>2?this.g.status:-1}catch(e){return-1}},e.la=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),se(t)}},e.ya=function(){return this.o},e.Ha=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Vt.prototype).ka=8,e.I=1,e.connect=function(e,t,n,r){be(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=an(this,null,this.W),Wt(this)},e.Ea=function(e){if(this.m)if(this.m=null,1==this.I){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new Ae(this,this.j,e);let a=this.o;if(this.U&&(a?(a=R(a),O(a,this.U)):a=this.U),null!==this.u||this.R||(i.J=a,a=null),this.S)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if((t+=r)>4096){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Qt(this,i,t),it(n=et(this.J),"RID",e),it(n,"CVER",22),this.G&&it(n,"X-HTTP-Session-Id",this.G),Gt(this,n),a&&(this.R?t="headers="+Ie(Nt(a))+"&"+t:this.u&&At(n,this.u,a)),Ye(this.h,i),this.Ra&&it(n,"TYPE","init"),this.S?(it(n,"$req",t),it(n,"SID","null"),i.U=!0,De(i,n,null)):De(i,n,t),this.I=2}}else 3==this.I&&(e?Kt(this,e):0==this.i.length||Ke(this.h)||Kt(this))},e.Da=function(){if(this.v=null,Xt(this),this.aa&&!(this.P||null==this.g||this.T<=0)){var e=4*this.T;this.j.info("BP detection timer enabled: "+e),this.B=Se(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,be(10),qt(this),Xt(this))},e.Va=function(){null!=this.C&&(this.C=null,qt(this),$t(this),be(19))},e.bb=function(e){e?(this.j.info("Successfully pinged google.com"),be(2)):(this.j.info("Failed to ping google.com"),be(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=on.prototype).ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){},ln.prototype.g=function(e,t){return new cn(e,t)},u(cn,J),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Bt(this.g)},cn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=ae(e),e=n);t.i.push(new He(t.Ya++,e)),3==t.I&&Wt(t)},cn.prototype.N=function(){this.g.l=null,delete this.j,Bt(this.g),delete this.g,cn.Z.N.call(this)},u(un,de),u(dn,he),u(hn,on),hn.prototype.ra=function(){X(this.g,"a")},hn.prototype.qa=function(e){X(this.g,new un(e))},hn.prototype.pa=function(e){X(this.g,new dn)},hn.prototype.oa=function(){X(this.g,"b")},ln.prototype.createWebChannel=ln.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Zn=tr.createWebChannelTransport=function(){return new ln},Xn=tr.getStatEventTarget=function(){return me()},Jn=tr.Event=fe,$n=tr.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,Yn=tr.ErrorCode=_e,Te.COMPLETE="complete",Qn=tr.EventType=Te,ce.EventType=ue,ue.OPEN="a",ue.CLOSE="b",ue.ERROR="c",ue.MESSAGE="d",J.prototype.listen=J.prototype.J,Gn=tr.WebChannel=ce,tr.FetchXmlHttpFactory=Et,Pt.prototype.listenOnce=Pt.prototype.K,Pt.prototype.getLastError=Pt.prototype.Ha,Pt.prototype.getLastErrorCode=Pt.prototype.ya,Pt.prototype.getStatus=Pt.prototype.ca,Pt.prototype.getResponseJson=Pt.prototype.La,Pt.prototype.getResponseText=Pt.prototype.la,Pt.prototype.send=Pt.prototype.ea,Pt.prototype.setWithCredentials=Pt.prototype.Fa,Kn=tr.XhrIo=Pt}).apply("undefined"!==typeof er?er:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});class nr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nr.UNAUTHENTICATED=new nr(null),nr.GOOGLE_CREDENTIALS=new nr("google-credentials-uid"),nr.FIRST_PARTY=new nr("first-party-uid"),nr.MOCK_USER=new nr("mock-user");let rr="12.9.0";const ir=new ee("@firebase/firestore");function ar(){return ir.logLevel}function sr(e){if(ir.logLevel<=Y.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cr);ir.debug("Firestore (".concat(rr,"): ").concat(e),...i)}}function or(e){if(ir.logLevel<=Y.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cr);ir.error("Firestore (".concat(rr,"): ").concat(e),...i)}}function lr(e){if(ir.logLevel<=Y.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(cr);ir.warn("Firestore (".concat(rr,"): ").concat(e),...i)}}function cr(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ur(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,dr(e,r,n)}function dr(e,t,n){let r="FIRESTORE (".concat(rr,") INTERNAL ASSERTION FAILED: ").concat(t," (ID: ").concat(e.toString(16),")");if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw or(r),new Error(r)}function hr(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||dr(t,i,r)}function fr(e,t){return e}const pr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mr extends j{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class gr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class vr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class yr{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(nr.UNAUTHENTICATED))}shutdown(){}}class br{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wr{constructor(e){this.t=e,this.currentUser=nr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){hr(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new gr,e.enqueueRetryable(()=>r(this.currentUser))};const a=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},s=e=>{sr("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(e=>s(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(sr("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new gr)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(sr("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(hr("string"==typeof t.accessToken,31837,{l:t}),new vr(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return hr(null===e||"string"==typeof e,2055,{h:e}),new nr(e)}}class Sr{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=nr.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class xr{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Sr(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(nr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class kr{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Er{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,nt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){hr(void 0===this.o,3512);const n=e=>{null!=e.error&&sr("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.m;return this.m=e.token,sr("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{sr("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):sr("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new kr(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(hr("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new kr(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function _r(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Tr{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=_r(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function Cr(e,t){return e<t?-1:e>t?1:0}function Ir(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.charAt(r),i=t.charAt(r);if(n!==i)return Pr(n)===Pr(i)?Cr(n,i):Pr(n)?1:-1}return Cr(e.length,t.length)}const Nr=55296,Ar=57343;function Pr(e){const t=e.charCodeAt(0);return t>=Nr&&t<=Ar}function jr(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}const Rr="__name__";class Dr{constructor(e,t,n){void 0===t?t=0:t>e.length&&ur(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&ur(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Dr.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Dr?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=Dr.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Cr(e.length,t.length)}static compareSegments(e,t){const n=Dr.isNumericId(e),r=Dr.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?Dr.extractNumericId(e).compare(Dr.extractNumericId(t)):Ir(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Bn.fromString(e.substring(4,e.length-2))}}class Or extends Dr{construct(e,t,n){return new Or(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Or(e)}static emptyPath(){return new Or([])}}const Lr=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mr extends Dr{construct(e,t,n){return new Mr(e,t,n)}static isValidIdentifier(e){return Lr.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===Rr}static keyField(){return new Mr([Rr])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new mr(pr.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new mr(pr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new mr(pr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new mr(pr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mr(t)}static emptyPath(){return new Mr([])}}class Fr{constructor(e){this.path=e}static fromPath(e){return new Fr(Or.fromString(e))}static fromName(e){return new Fr(Or.fromString(e).popFirst(5))}static empty(){return new Fr(Or.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Or.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Or.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Fr(new Or(e.slice()))}}function zr(e,t,n){if(!n)throw new mr(pr.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ur(e){if(!Fr.isDocumentKey(e))throw new mr(pr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Vr(e){if(Fr.isDocumentKey(e))throw new mr(pr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Br(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function qr(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ur(12329,{type:typeof e})}function Hr(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mr(pr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qr(e);throw new mr(pr.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function Wr(e,t){const n={typeString:e};return t&&(n.value=t),n}function Kr(e,t){if(!Br(e))throw new mr(pr.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const i=t[r].typeString,a="value"in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n="JSON missing required field: '".concat(r,"'");break}const s=e[r];if(i&&typeof s!==i){n="JSON field '".concat(r,"' must be a ").concat(i,".");break}if(void 0!==a&&s!==a.value){n="Expected '".concat(r,"' field to equal '").concat(a.value,"'");break}}if(n)throw new mr(pr.INVALID_ARGUMENT,n);return!0}const Gr=-62135596800,Qr=1e6;class Yr{static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*Qr);return new Yr(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mr(pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mr(pr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Gr)throw new mr(pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mr(pr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Qr}_compareTo(e){return this.seconds===e.seconds?Cr(this.nanoseconds,e.nanoseconds):Cr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Yr._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Kr(e,Yr._jsonSchema))return new Yr(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Gr;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Yr._jsonSchemaVersion="firestore/timestamp/1.0",Yr._jsonSchema={type:Wr("string",Yr._jsonSchemaVersion),seconds:Wr("number"),nanoseconds:Wr("number")};class $r{static fromTimestamp(e){return new $r(e)}static min(){return new $r(new Yr(0,0))}static max(){return new $r(new Yr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Jr=-1;class Xr{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Xr.UNKNOWN_ID=-1;function Zr(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$r.fromTimestamp(1e9===r?new Yr(n+1,0):new Yr(n,r));return new ti(i,Fr.empty(),t)}function ei(e){return new ti(e.readTime,e.key,Jr)}class ti{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ti($r.min(),Fr.empty(),Jr)}static max(){return new ti($r.max(),Fr.empty(),Jr)}}function ni(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Fr.comparator(e.documentKey,t.documentKey),0!==n?n:Cr(e.largestBatchId,t.largestBatchId))}const ri="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ii{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function ai(e){if(e.code!==pr.FAILED_PRECONDITION||e.message!==ri)throw e;sr("LocalStore","Unexpectedly lost primary lease")}class si{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ur(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new si((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof si?t:si.resolve(t)}catch(e){return si.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):si.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):si.reject(t)}static resolve(e){return new si((t,n)=>{t(e)})}static reject(e){return new si((t,n)=>{n(e)})}static waitFor(e){return new si((t,n)=>{let r=0,i=0,a=!1;e.forEach(e=>{++r,e.next(()=>{++i,a&&i===r&&t()},e=>n(e))}),a=!0,i===r&&t()})}static or(e){let t=si.resolve(!1);for(const n of e)t=t.next(e=>e?si.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new si((n,r)=>{const i=e.length,a=new Array(i);let s=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{a[l]=e,++s,s===i&&n(a)},e=>r(e))}})}static doWhile(e,t){return new si((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function oi(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function li(e){return"IndexedDbTransactionError"===e.name}class ci{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ci.ce=-1;const ui=-1;function di(e){return null==e}function hi(e){return 0===e&&1/e==-1/0}function fi(e){return"number"==typeof e&&Number.isInteger(e)&&!hi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const pi="\x01";function mi(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=vi(t)),t=gi(e.get(n),t);return vi(t)}function gi(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case pi:n+="\x01\x11";break;default:n+=t}}return n}function vi(e){return e+pi+"\x01"}const yi="remoteDocuments",bi="owner",wi="mutationQueues",Si="mutations";const xi="documentMutations",ki="remoteDocumentsV14",Ei="remoteDocumentGlobal",_i="targets",Ti="targetDocuments",Ci="targetGlobal",Ii="collectionParents",Ni="clientMetadata",Ai="bundles",Pi="namedQueries",ji="indexConfiguration",Ri="indexState",Di="indexEntries",Oi="documentOverlays",Li="globals",Mi=[wi,Si,xi,yi,_i,bi,Ci,Ti,Ni,Ei,Ii,Ai,Pi],Fi=[wi,Si,xi,ki,_i,bi,Ci,Ti,Ni,Ei,Ii,Ai,Pi,Oi],zi=Fi,Ui=[...zi,ji,Ri,Di];function Vi(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Bi(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function qi(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hi{constructor(e,t){this.comparator=e,this.root=t||Ki.EMPTY}insert(e,t){return new Hi(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ki.BLACK,null,null))}remove(e){return new Hi(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ki.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wi(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wi(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wi(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wi(this.root,e,this.comparator,!0)}}class Wi{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ki{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Ki.RED,this.left=null!=r?r:Ki.EMPTY,this.right=null!=i?i:Ki.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Ki(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Ki.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Ki.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ki.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ki.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ur(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ur(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ur(27949);return e+(this.isRed()?0:1)}}Ki.EMPTY=null,Ki.RED=!0,Ki.BLACK=!1,Ki.EMPTY=new class{constructor(){this.size=0}get key(){throw ur(57766)}get value(){throw ur(16141)}get color(){throw ur(16727)}get left(){throw ur(29726)}get right(){throw ur(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new Ki(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gi{constructor(e){this.comparator=e,this.data=new Hi(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qi(this.data.getIterator())}getIteratorFrom(e){return new Qi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Gi))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Gi(this.comparator);return t.data=e,t}}class Qi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Yi{constructor(e){this.fields=e,e.sort(Mr.comparator)}static empty(){return new Yi([])}unionWith(e){let t=new Gi(Mr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Yi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return jr(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class $i extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ji{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $i("Invalid base64 string: "+e):e}}(e);return new Ji(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ji(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Cr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ji.EMPTY_BYTE_STRING=new Ji("");const Xi=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zi(e){if(hr(!!e,39018),"string"==typeof e){let t=0;const n=Xi.exec(e);if(hr(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ea(e.seconds),nanos:ea(e.nanos)}}function ea(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ta(e){return"string"==typeof e?Ji.fromBase64String(e):Ji.fromUint8Array(e)}const na="server_timestamp",ra="__type__",ia="__previous_value__",aa="__local_write_time__";function sa(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ra])||void 0===t?void 0:t.stringValue)===na}function oa(e){const t=e.mapValue.fields[ia];return sa(t)?oa(t):t}function la(e){const t=Zi(e.mapValue.fields[aa].timestampValue);return new Yr(t.seconds,t.nanos)}class ca{constructor(e,t,n,r,i,a,s,o,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=o,this.useFetchStreams=l,this.isUsingEmulator=c,this.apiKey=u}}const ua="(default)";class da{constructor(e,t){this.projectId=e,this.database=t||ua}static empty(){return new da("","")}get isDefaultDatabase(){return this.database===ua}isEqual(e){return e instanceof da&&e.projectId===this.projectId&&e.database===this.database}}const ha="__type__",fa="__max__",pa={mapValue:{fields:{__type__:{stringValue:fa}}}},ma="__vector__",ga="value";function va(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sa(e)?4:Ra(e)?9007199254740991:Pa(e)?10:11:ur(28295,{value:e})}function ya(e,t){if(e===t)return!0;const n=va(e);if(n!==va(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return la(e).isEqual(la(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Zi(e.timestampValue),r=Zi(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ta(e.bytesValue).isEqual(ta(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ea(e.geoPointValue.latitude)===ea(t.geoPointValue.latitude)&&ea(e.geoPointValue.longitude)===ea(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ea(e.integerValue)===ea(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ea(e.doubleValue),r=ea(t.doubleValue);return n===r?hi(n)===hi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return jr(e.arrayValue.values||[],t.arrayValue.values||[],ya);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vi(n)!==Vi(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ya(n[i],r[i])))return!1;return!0}(e,t);default:return ur(52216,{left:e})}}function ba(e,t){return void 0!==(e.values||[]).find(e=>ya(e,t))}function wa(e,t){if(e===t)return 0;const n=va(e),r=va(t);if(n!==r)return Cr(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Cr(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ea(e.integerValue||e.doubleValue),r=ea(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Sa(e.timestampValue,t.timestampValue);case 4:return Sa(la(e),la(t));case 5:return Ir(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ta(e),r=ta(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Cr(n[i],r[i]);if(0!==e)return e}return Cr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Cr(ea(e.latitude),ea(t.latitude));return 0!==n?n:Cr(ea(e.longitude),ea(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return xa(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const s=e.fields||{},o=t.fields||{},l=null===(n=s[ga])||void 0===n?void 0:n.arrayValue,c=null===(r=o[ga])||void 0===r?void 0:r.arrayValue,u=Cr((null===l||void 0===l||null===(i=l.values)||void 0===i?void 0:i.length)||0,(null===c||void 0===c||null===(a=c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:xa(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===pa.mapValue&&t===pa.mapValue)return 0;if(e===pa.mapValue)return 1;if(t===pa.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let s=0;s<r.length&&s<a.length;++s){const e=Ir(r[s],a[s]);if(0!==e)return e;const t=wa(n[r[s]],i[a[s]]);if(0!==t)return t}return Cr(r.length,a.length)}(e.mapValue,t.mapValue);default:throw ur(23264,{he:n})}}function Sa(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Cr(e,t);const n=Zi(e),r=Zi(t),i=Cr(n.seconds,r.seconds);return 0!==i?i:Cr(n.nanos,r.nanos)}function xa(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=wa(n[i],r[i]);if(e)return e}return Cr(n.length,r.length)}function ka(e){return Ea(e)}function Ea(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Zi(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ta(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Fr.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ea(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Ea(e.fields[i]));return n+"}"}(e.mapValue):ur(61005,{value:e})}function _a(e){switch(va(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oa(e);return t?16+_a(t):16;case 5:return 2*e.stringValue.length;case 6:return ta(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce((e,t)=>e+_a(t),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Bi(e.fields,(e,n)=>{t+=e.length+_a(n)}),t}(e.mapValue);default:throw ur(13486,{value:e})}}function Ta(e){return!!e&&"integerValue"in e}function Ca(e){return!!e&&"arrayValue"in e}function Ia(e){return!!e&&"nullValue"in e}function Na(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Aa(e){return!!e&&"mapValue"in e}function Pa(e){var t,n;return(null===(t=((null===e||void 0===e||null===(n=e.mapValue)||void 0===n?void 0:n.fields)||{})[ha])||void 0===t?void 0:t.stringValue)===ma}function ja(e){if(e.geoPointValue)return{geoPointValue:c({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:c({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Bi(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ja(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ja(e.arrayValue.values[n]);return t}return c({},e)}function Ra(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===fa}class Da{constructor(e){this.value=e}static empty(){return new Da({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Aa(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ja(t)}setAll(e){let t=Mr.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ja(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Aa(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ya(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Aa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Bi(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new Da(ja(this.value))}}function Oa(e){const t=[];return Bi(e.fields,(e,n)=>{const r=new Mr([e]);if(Aa(n)){const e=Oa(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Yi(t)}class La{constructor(e,t,n,r,i,a,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=s}static newInvalidDocument(e){return new La(e,0,$r.min(),$r.min(),$r.min(),Da.empty(),0)}static newFoundDocument(e,t,n,r){return new La(e,1,t,$r.min(),n,r,0)}static newNoDocument(e,t){return new La(e,2,t,$r.min(),$r.min(),Da.empty(),0)}static newUnknownDocument(e,t){return new La(e,3,t,$r.min(),$r.min(),Da.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($r.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Da.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Da.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$r.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof La&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new La(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Ma{constructor(e,t){this.position=e,this.inclusive=t}}function Fa(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],s=e.position[i];if(r=a.field.isKeyField()?Fr.comparator(Fr.fromName(s.referenceValue),n.key):wa(s,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function za(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ya(e.position[n],t.position[n]))return!1;return!0}class Ua{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Va(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ba{}class qa extends Ba{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Ja(e,t,n):"array-contains"===t?new ts(e,n):"in"===t?new ns(e,n):"not-in"===t?new rs(e,n):"array-contains-any"===t?new is(e,n):new qa(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Xa(e,n):new Za(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(wa(t,this.value)):null!==t&&va(this.value)===va(t)&&this.matchesComparison(wa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ur(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ha extends Ba{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ha(e,t)}matches(e){return Wa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.Pe||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wa(e){return"and"===e.op}function Ka(e){return Ga(e)&&Wa(e)}function Ga(e){for(const t of e.filters)if(t instanceof Ha)return!1;return!0}function Qa(e){if(e instanceof qa)return e.field.canonicalString()+e.op.toString()+ka(e.value);if(Ka(e))return e.filters.map(e=>Qa(e)).join(",");{const t=e.filters.map(e=>Qa(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Ya(e,t){return e instanceof qa?function(e,t){return t instanceof qa&&e.op===t.op&&e.field.isEqual(t.field)&&ya(e.value,t.value)}(e,t):e instanceof Ha?function(e,t){return t instanceof Ha&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Ya(n,t.filters[r]),!0)}(e,t):void ur(19439)}function $a(e){return e instanceof qa?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(ka(e.value))}(e):e instanceof Ha?function(e){return e.op.toString()+" {"+e.getFilters().map($a).join(" ,")+"}"}(e):"Filter"}class Ja extends qa{constructor(e,t,n){super(e,t,n),this.key=Fr.fromName(n.referenceValue)}matches(e){const t=Fr.comparator(e.key,this.key);return this.matchesComparison(t)}}class Xa extends qa{constructor(e,t){super(e,"in",t),this.keys=es("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Za extends qa{constructor(e,t){super(e,"not-in",t),this.keys=es("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function es(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>Fr.fromName(e.referenceValue))}class ts extends qa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ca(t)&&ba(t.arrayValue,this.value)}}class ns extends qa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ba(this.value.arrayValue,t)}}class rs extends qa{constructor(e,t){super(e,"not-in",t)}matches(e){if(ba(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!ba(this.value.arrayValue,t)}}class is extends qa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ca(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>ba(this.value.arrayValue,e))}}class as{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=s,this.Te=null}}function ss(e){return new as(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function os(e){const t=fr(e);if(null===t.Te){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>Qa(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),di(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>ka(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>ka(e)).join(",")),t.Te=e}return t.Te}function ls(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Va(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ya(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!za(e.startAt,t.startAt)&&za(e.endAt,t.endAt)}function cs(e){return Fr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class us{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=s,this.endAt=o,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function ds(e,t,n,r,i,a,s,o){return new us(e,t,n,r,i,a,s,o)}function hs(e){return new us(e)}function fs(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ps(e){return null!==e.collectionGroup}function ms(e){const t=fr(e);if(null===t.Ie){t.Ie=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ie.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Gi(Mr.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Ua(r,n))}),e.has(Mr.keyField().canonicalString())||t.Ie.push(new Ua(Mr.keyField(),n))}return t.Ie}function gs(e){const t=fr(e);return t.Ee||(t.Ee=vs(t,ms(e))),t.Ee}function vs(e,t){if("F"===e.limitType)return ss(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new Ua(e.field,t)});const n=e.endAt?new Ma(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Ma(e.startAt.position,e.startAt.inclusive):null;return ss(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function ys(e,t,n){return new us(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function bs(e,t){return ls(gs(e),gs(t))&&e.limitType===t.limitType}function ws(e){return"".concat(os(gs(e)),"|lt:").concat(e.limitType)}function Ss(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>$a(e)).join(", "),"]")),di(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>ka(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>ka(e)).join(",")),"Target(".concat(t,")")}(gs(e)),"; limitType=").concat(e.limitType,")")}function xs(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Fr.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of ms(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Fa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,ms(e),t))&&!(e.endAt&&!function(e,t,n){const r=Fa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,ms(e),t))}(e,t)}function ks(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Es(e){return(t,n)=>{let r=!1;for(const i of ms(e)){const e=_s(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function _s(e,t,n){const r=e.field.isKeyField()?Fr.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wa(r,i):ur(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ur(19790,{direction:e.dir})}}class Ts{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return qi(this.inner)}size(){return this.innerSize}}const Cs=new Hi(Fr.comparator);function Is(){return Cs}const Ns=new Hi(Fr.comparator);function As(){let e=Ns;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ps(e){let t=Ns;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function js(){return Ds()}function Rs(){return Ds()}function Ds(){return new Ts(e=>e.toString(),(e,t)=>e.isEqual(t))}const Os=new Hi(Fr.comparator),Ls=new Gi(Fr.comparator);function Ms(){let e=Ls;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Fs=new Gi(Cr);function zs(){return Fs}function Us(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hi(t)?"-0":t}}function Vs(e){return{integerValue:""+e}}function Bs(e,t){return fi(t)?Vs(t):Us(e,t)}class qs{constructor(){this._=void 0}}function Hs(e,t,n){return e instanceof Gs?function(e,t){const n={fields:{[ra]:{stringValue:na},[aa]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&sa(t)&&(t=oa(t)),t&&(n.fields[ia]=t),{mapValue:n}}(n,t):e instanceof Qs?Ys(e,t):e instanceof $s?Js(e,t):function(e,t){const n=Ks(e,t),r=Zs(n)+Zs(e.Ae);return Ta(n)&&Ta(e.Ae)?Vs(r):Us(e.serializer,r)}(e,t)}function Ws(e,t,n){return e instanceof Qs?Ys(e,t):e instanceof $s?Js(e,t):n}function Ks(e,t){return e instanceof Xs?function(e){return Ta(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Gs extends qs{}class Qs extends qs{constructor(e){super(),this.elements=e}}function Ys(e,t){const n=eo(t);for(const r of e.elements)n.some(e=>ya(e,r))||n.push(r);return{arrayValue:{values:n}}}class $s extends qs{constructor(e){super(),this.elements=e}}function Js(e,t){let n=eo(t);for(const r of e.elements)n=n.filter(e=>!ya(e,r));return{arrayValue:{values:n}}}class Xs extends qs{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function Zs(e){return ea(e.integerValue||e.doubleValue)}function eo(e){return Ca(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class to{constructor(e,t){this.field=e,this.transform=t}}class no{constructor(e,t){this.version=e,this.transformResults=t}}class ro{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ro}static exists(e){return new ro(void 0,e)}static updateTime(e){return new ro(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function io(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class ao{}function so(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new vo(e.key,ro.none()):new ho(e.key,e.data,ro.none());{const n=e.data,r=Da.empty();let i=new Gi(Mr.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new fo(e.key,r,new Yi(i.toArray()),ro.none())}}function oo(e,t,n){e instanceof ho?function(e,t,n){const r=e.value.clone(),i=mo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fo?function(e,t,n){if(!io(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=mo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(po(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function lo(e,t,n,r){return e instanceof ho?function(e,t,n,r){if(!io(e.precondition,t))return n;const i=e.value.clone(),a=go(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fo?function(e,t,n,r){if(!io(e.precondition,t))return n;const i=go(e.fieldTransforms,r,t),a=t.data;return a.setAll(po(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return io(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function co(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ks(r.transform,e||null);null!=i&&(null===n&&(n=Da.empty()),n.set(r.field,i))}return n||null}function uo(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&jr(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Qs&&t instanceof Qs||e instanceof $s&&t instanceof $s?jr(e.elements,t.elements,ya):e instanceof Xs&&t instanceof Xs?ya(e.Ae,t.Ae):e instanceof Gs&&t instanceof Gs}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ho extends ao{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fo extends ao{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function po(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function mo(e,t,n){const r=new Map;hr(e.length===n.length,32656,{Ve:n.length,de:e.length});for(let i=0;i<n.length;i++){const a=e[i],s=a.transform,o=t.data.field(a.field);r.set(a.field,Ws(s,o,n[i]))}return r}function go(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,Hs(e,a,t))}return r}class vo extends ao{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yo extends ao{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bo{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&oo(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=lo(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=lo(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Rs();return this.mutations.forEach(r=>{const i=e.get(r.key),a=i.overlayedDocument;let s=this.applyToLocalView(a,i.mutatedFields);s=t.has(r.key)?null:s;const o=so(a,s);null!==o&&n.set(r.key,o),a.isValidDocument()||a.convertToNoDocument($r.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ms())}isEqual(e){return this.batchId===e.batchId&&jr(this.mutations,e.mutations,(e,t)=>uo(e,t))&&jr(this.baseMutations,e.baseMutations,(e,t)=>uo(e,t))}}class wo{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){hr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let r=Os;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new wo(e,t,n,r)}}class So{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class xo{constructor(e,t){this.count=e,this.unchangedNames=t}}var ko,Eo;function _o(e){switch(e){case pr.OK:return ur(64938);case pr.CANCELLED:case pr.UNKNOWN:case pr.DEADLINE_EXCEEDED:case pr.RESOURCE_EXHAUSTED:case pr.INTERNAL:case pr.UNAVAILABLE:case pr.UNAUTHENTICATED:return!1;case pr.INVALID_ARGUMENT:case pr.NOT_FOUND:case pr.ALREADY_EXISTS:case pr.PERMISSION_DENIED:case pr.FAILED_PRECONDITION:case pr.ABORTED:case pr.OUT_OF_RANGE:case pr.UNIMPLEMENTED:case pr.DATA_LOSS:return!0;default:return ur(15467,{code:e})}}function To(e){if(void 0===e)return or("GRPC error has no .code"),pr.UNKNOWN;switch(e){case ko.OK:return pr.OK;case ko.CANCELLED:return pr.CANCELLED;case ko.UNKNOWN:return pr.UNKNOWN;case ko.DEADLINE_EXCEEDED:return pr.DEADLINE_EXCEEDED;case ko.RESOURCE_EXHAUSTED:return pr.RESOURCE_EXHAUSTED;case ko.INTERNAL:return pr.INTERNAL;case ko.UNAVAILABLE:return pr.UNAVAILABLE;case ko.UNAUTHENTICATED:return pr.UNAUTHENTICATED;case ko.INVALID_ARGUMENT:return pr.INVALID_ARGUMENT;case ko.NOT_FOUND:return pr.NOT_FOUND;case ko.ALREADY_EXISTS:return pr.ALREADY_EXISTS;case ko.PERMISSION_DENIED:return pr.PERMISSION_DENIED;case ko.FAILED_PRECONDITION:return pr.FAILED_PRECONDITION;case ko.ABORTED:return pr.ABORTED;case ko.OUT_OF_RANGE:return pr.OUT_OF_RANGE;case ko.UNIMPLEMENTED:return pr.UNIMPLEMENTED;case ko.DATA_LOSS:return pr.DATA_LOSS;default:return ur(39323,{code:e})}}(Eo=ko||(ko={}))[Eo.OK=0]="OK",Eo[Eo.CANCELLED=1]="CANCELLED",Eo[Eo.UNKNOWN=2]="UNKNOWN",Eo[Eo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Eo[Eo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Eo[Eo.NOT_FOUND=5]="NOT_FOUND",Eo[Eo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Eo[Eo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Eo[Eo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Eo[Eo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Eo[Eo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Eo[Eo.ABORTED=10]="ABORTED",Eo[Eo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Eo[Eo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Eo[Eo.INTERNAL=13]="INTERNAL",Eo[Eo.UNAVAILABLE=14]="UNAVAILABLE",Eo[Eo.DATA_LOSS=15]="DATA_LOSS";let Co=null;function Io(){return new TextEncoder}const No=new Bn([4294967295,4294967295],0);function Ao(e){const t=Io().encode(e),n=new qn;return n.update(t),new Uint8Array(n.digest())}function Po(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Bn([n,r],0),new Bn([i,a],0)]}class jo{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ro("Invalid padding: ".concat(t));if(n<0)throw new Ro("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ro("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ro("Invalid padding when bitmap length is 0: ".concat(t));this.ge=8*e.length-t,this.pe=Bn.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(Bn.fromNumber(n)));return 1===r.compare(No)&&(r=new Bn([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.ge)return!1;const t=Ao(e),[n,r]=Po(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);if(!this.we(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new jo(i,r,t);return n.forEach(e=>a.insert(e)),a}insert(e){if(0===this.ge)return;const t=Ao(e),[n,r]=Po(t);for(let i=0;i<this.hashCount;i++){const e=this.ye(n,r,i);this.be(e)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ro extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Do{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Oo.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Do($r.min(),r,new Hi(Cr),Is(),Ms())}}class Oo{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Oo(n,t,Ms(),Ms(),Ms())}}class Lo{constructor(e,t,n,r){this.Se=e,this.removedTargetIds=t,this.key=n,this.De=r}}class Mo{constructor(e,t){this.targetId=e,this.Ce=t}}class Fo{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ji.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class zo{constructor(){this.ve=0,this.Fe=Bo(),this.Me=Ji.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return 0!==this.ve}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ms(),t=Ms(),n=Ms();return this.Fe.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ur(38017,{changeType:i})}}),new Oo(this.Me,this.xe,e,t,n)}Ke(){this.Oe=!1,this.Fe=Bo()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,hr(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class Uo{constructor(e){this.Ge=e,this.ze=new Map,this.je=Is(),this.He=Vo(),this.Je=Vo(),this.Ze=new Hi(Cr)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:ur(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((e,n)=>{this.rt(n)&&t(n)})}st(e){const t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){const a=r.target;if(cs(a))if(0===n){const e=new Fr(a.path);this.et(t,e,La.newNoDocument(e,$r.min()))}else hr(1===n,20013,{expectedCount:n});else{const r=this._t(t);if(r!==n){var i;const n=this.ut(e),a=n?this.ct(n,e,r):1;if(0!==a){this.it(t);const e=2===a?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null===(i=Co)||void 0===i||i.lt(function(e,t,n,r,i){var a,s,o,l,c;const u={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(u.bloomFilter={applied:0===i,hashCount:null!==(a=null===d||void 0===d?void 0:d.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(s=null===d||void 0===d||null===(o=d.bits)||void 0===o||null===(o=o.bitmap)||void 0===o?void 0:o.length)&&void 0!==s?s:0,padding:null!==(l=null===d||void 0===d||null===(c=d.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null===r||void 0===r?void 0:r.mightContain(e))&&void 0!==t&&t}}),u}(r,e.Ce,this.Ge.ht(),n,a))}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,s;try{a=ta(n).toUint8Array()}catch(e){if(e instanceof $i)return lr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{s=new jo(a,r,i)}catch(e){return lr(e instanceof Ro?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===s.ge?null:s}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){const n=this.Ge.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Ge.ht(),a="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(a)||(this.et(t,n,null),r++)}),r}Tt(e){const t=new Map;this.ze.forEach((n,r)=>{const i=this.ot(r);if(i){if(n.current&&cs(i.target)){const t=new Fr(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,La.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.Ke())}});let n=Ms();this.Je.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.ot(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.je.forEach((t,n)=>n.setReadTime(e));const r=new Do(e,t,this.Ze,this.je,n);return this.je=Is(),this.He=Vo(),this.Je=Vo(),this.Ze=new Hi(Cr),r}Ye(e,t){if(!this.rt(e))return;const n=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,n),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.qe(t,1):r.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new zo,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new Gi(Cr),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new Gi(Cr),this.He=this.He.insert(e,t)),t}rt(e){const t=null!==this.ot(e);return t||sr("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new zo),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Vo(){return new Hi(Fr.comparator)}function Bo(){return new Hi(Fr.comparator)}const qo={asc:"ASCENDING",desc:"DESCENDING"},Ho={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wo={and:"AND",or:"OR"};class Ko{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Go(e,t){return e.useProto3Json||di(t)?t:{value:t}}function Qo(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Yo(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function $o(e,t){return Qo(e,t.toTimestamp())}function Jo(e){return hr(!!e,49232),$r.fromTimestamp(function(e){const t=Zi(e);return new Yr(t.seconds,t.nanos)}(e))}function Xo(e,t){return Zo(e,t).canonicalString()}function Zo(e,t){const n=function(e){return new Or(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function el(e){const t=Or.fromString(e);return hr(wl(t),10190,{key:t.toString()}),t}function tl(e,t){return Xo(e.databaseId,t.path)}function nl(e,t){const n=el(t);if(n.get(1)!==e.databaseId.projectId)throw new mr(pr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mr(pr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Fr(sl(n))}function rl(e,t){return Xo(e.databaseId,t)}function il(e){const t=el(e);return 4===t.length?Or.emptyPath():sl(t)}function al(e){return new Or(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function sl(e){return hr(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function ol(e,t,n){return{name:tl(e,t),fields:n.value.mapValue.fields}}function ll(e,t){let n;if(t instanceof ho)n={update:ol(e,t.key,t.value)};else if(t instanceof vo)n={delete:tl(e,t.key)};else if(t instanceof fo)n={update:ol(e,t.key,t.data),updateMask:bl(t.fieldMask)};else{if(!(t instanceof yo))return ur(16599,{dt:t.type});n={verify:tl(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Gs)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Qs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof $s)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Xs)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw ur(20930,{transform:t.transform})}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:$o(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:ur(27497)}(e,t.precondition)),n}function cl(e,t){return{documents:[rl(e,t.path)]}}function ul(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=rl(e,i);const a=function(e){if(0!==e.length)return yl(Ha.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:gl(e.field),direction:fl(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=Go(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function dl(e){let t=il(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){hr(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=hl(e);return t instanceof Ha&&Ka(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map(e=>function(e){return new Ua(vl(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,di(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Ma(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Ma(n,t)}(n.endAt)),ds(t,i,s,a,o,"F",l,c)}function hl(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=vl(e.unaryFilter.field);return qa.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=vl(e.unaryFilter.field);return qa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vl(e.unaryFilter.field);return qa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vl(e.unaryFilter.field);return qa.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ur(61313);default:return ur(60726)}}(e):void 0!==e.fieldFilter?function(e){return qa.create(vl(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ur(58110);default:return ur(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ha.create(e.compositeFilter.filters.map(e=>hl(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ur(1026)}}(e.compositeFilter.op))}(e):ur(30097,{filter:e})}function fl(e){return qo[e]}function pl(e){return Ho[e]}function ml(e){return Wo[e]}function gl(e){return{fieldPath:e.canonicalString()}}function vl(e){return Mr.fromServerFormat(e.fieldPath)}function yl(e){return e instanceof qa?function(e){if("=="===e.op){if(Na(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NAN"}};if(Ia(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Na(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NAN"}};if(Ia(e.value))return{unaryFilter:{field:gl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:gl(e.field),op:pl(e.op),value:e.value}}}(e):e instanceof Ha?function(e){const t=e.getFilters().map(e=>yl(e));return 1===t.length?t[0]:{compositeFilter:{op:ml(e.op),filters:t}}}(e):ur(54877,{filter:e})}function bl(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function wl(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Sl(e){return!!e&&"function"==typeof e._toProto&&"ProtoValue"===e._protoValueType}class xl{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$r.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$r.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Ji.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=o}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class kl{constructor(e){this.yt=e}}function El(e){const t=dl({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ys(t,t.limit,"L"):t}class _l{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(ea(e.integerValue));else if("doubleValue"in e){const n=ea(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),hi(n)?t.Mt(0):t.Mt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Ft(t,20),"string"==typeof n&&(n=Zi(n)),t.xt("".concat(n.seconds||"")),t.Mt(n.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(ta(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else"mapValue"in e?Ra(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Pa(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):ur(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const n=e.fields||{};this.Ft(t,55);for(const r of Object.keys(n))this.Ot(r,t),this.Ct(n[r],t)}kt(e,t){var n;const r=e.fields||{};this.Ft(t,53);const i=ga,a=(null===(n=r[i].arrayValue)||void 0===n||null===(n=n.values)||void 0===n?void 0:n.length)||0;this.Ft(t,15),t.Mt(ea(a)),this.Ot(i,t),this.Ct(r[i],t)}qt(e,t){const n=e.values||[];this.Ft(t,50);for(const r of n)this.Ct(r,t)}Lt(e,t){this.Ft(t,37),Fr.fromName(e).path.forEach(e=>{this.Ft(t,60),this.$t(e,t)})}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}_l.Wt=new _l;class Tl{constructor(){this.Sn=new Cl}addToCollectionParentIndex(e,t){return this.Sn.add(t),si.resolve()}getCollectionParents(e,t){return si.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return si.resolve()}deleteFieldIndex(e,t){return si.resolve()}deleteAllFieldIndexes(e){return si.resolve()}createTargetIndexes(e,t){return si.resolve()}getDocumentsMatchingTarget(e,t){return si.resolve(null)}getIndexType(e,t){return si.resolve(0)}getFieldIndexes(e,t){return si.resolve([])}getNextCollectionGroupToUpdate(e){return si.resolve(null)}getMinOffset(e,t){return si.resolve(ti.min())}getMinOffsetFromCollectionGroup(e,t){return si.resolve(ti.min())}updateCollectionGroup(e,t,n){return si.resolve()}updateIndexEntries(e,t){return si.resolve()}}class Cl{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Gi(Or.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Gi(Or.comparator)).toArray()}}new Uint8Array(0);const Il={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Nl=41943040;class Al{static withCacheSize(e){return new Al(e,Al.DEFAULT_COLLECTION_PERCENTILE,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Al.DEFAULT_COLLECTION_PERCENTILE=10,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Al.DEFAULT=new Al(Nl,Al.DEFAULT_COLLECTION_PERCENTILE,Al.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Al.DISABLED=new Al(-1,0,0);class Pl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Pl(0)}static ar(){return new Pl(-1)}}const jl="LruGarbageCollector",Rl=1048576;function Dl(e,t){let[n,r]=e,[i,a]=t;const s=Cr(n,i);return 0===s?Cr(r,a):s}class Ol{constructor(e){this.Pr=e,this.buffer=new Gi(Dl),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Dl(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Ll{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return null!==this.Rr}Ar(e){sr(jl,"Garbage collection scheduled in ".concat(e,"ms")),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){li(e)?sr(jl,"Ignoring IndexedDB error during garbage collection: ",e):await ai(e)}await this.Ar(3e5)})}}class Ml{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return si.resolve(ci.ce);const n=new Ol(t);return this.Vr.forEachTarget(e,e=>n.Er(e.sequenceNumber)).next(()=>this.Vr.mr(e,e=>n.Er(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.Vr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(sr("LruGarbageCollector","Garbage collection skipped; disabled"),si.resolve(Il)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(sr("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),Il):this.gr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let n,r,i,a,s,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(sr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(l=Date.now(),ar()<=Y.DEBUG&&sr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(s-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-s)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),si.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}function Fl(e,t){return new Ml(e,t)}class zl{constructor(){this.changes=new Ts(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,La.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?si.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ul{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vl{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&lo(n.mutation,e,Yi.empty(),Yr.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,Ms()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ms();const r=js();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=As();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=js();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,Ms()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Is();const a=Ds(),s=Ds();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof fo)?i=i.insert(t.key,t):void 0!==s?(a.set(t.key,s.mutation.getFieldMask()),lo(s.mutation,t,s.mutation.getFieldMask(),Yr.now())):a.set(t.key,Yi.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>a.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Ul(t,null!==(n=a.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Ds();let r=new Hi((e,t)=>e-t),i=Ms();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const a=t.get(e);if(null===a)return;let s=n.get(e)||Yi.empty();s=i.applyToLocalView(a,s),n.set(e,s);const o=(r.get(i.batchId)||Ms()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const a=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),o=r.key,l=r.value,c=Rs();l.forEach(e=>{if(!i.has(e)){const r=so(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),a.push(this.documentOverlayCache.saveOverlays(e,o,c))}return si.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Fr.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ps(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):si.resolve(js());let s=Jr,o=i;return a.next(t=>si.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?si.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,Ms())).next(e=>({batchId:s,changes:Ps(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Fr(t)).next(e=>{let t=As();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=As();return this.indexManager.getCollectionParents(e,i).next(s=>si.forEach(s,s=>{const o=function(e,t){return new us(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{a=a.insert(e,t)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,La.newInvalidDocument(r)))});let n=As();return e.forEach((e,r)=>{const a=i.get(e);void 0!==a&&lo(a.mutation,r,Yi.empty(),Yr.now()),xs(t,r)&&(n=n.insert(e,r))}),n})}}class Bl{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return si.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Jo(e.createTime)}}(t)),si.resolve()}getNamedQuery(e,t){return si.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,function(e){return{name:e.name,query:El(e.bundledQuery),readTime:Jo(e.readTime)}}(t)),si.resolve()}}class ql{constructor(){this.overlays=new Hi(Fr.comparator),this.Lr=new Map}getOverlay(e,t){return si.resolve(this.overlays.get(t))}getOverlays(e,t){const n=js();return si.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.bt(e,t,r)}),si.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Lr.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Lr.delete(n)),si.resolve()}getOverlaysForCollection(e,t,n){const r=js(),i=t.length+1,a=new Fr(t.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const e=s.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return si.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hi((e,t)=>e-t);const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=js(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=js(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return si.resolve(s)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Lr.get(r.largestBatchId).delete(n.key);this.Lr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new So(t,n));let i=this.Lr.get(t);void 0===i&&(i=Ms(),this.Lr.set(t,i)),this.Lr.set(t,i.add(n.key))}}class Hl{constructor(){this.sessionToken=Ji.EMPTY_BYTE_STRING}getSessionToken(e){return si.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,si.resolve()}}class Wl{constructor(){this.kr=new Gi(Kl.Kr),this.qr=new Gi(Kl.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const n=new Kl(e,t);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Wr(new Kl(e,t))}Qr(e,t){e.forEach(e=>this.removeReference(e,t))}Gr(e){const t=new Fr(new Or([])),n=new Kl(t,e),r=new Kl(t,e+1),i=[];return this.qr.forEachInRange([n,r],e=>{this.Wr(e),i.push(e.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new Fr(new Or([])),n=new Kl(t,e),r=new Kl(t,e+1);let i=Ms();return this.qr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new Kl(e,0),n=this.kr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Kl{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return Fr.comparator(e.key,t.key)||Cr(e.Hr,t.Hr)}static Ur(e,t){return Cr(e.Hr,t.Hr)||Fr.comparator(e.key,t.key)}}class Gl{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new Gi(Kl.Kr)}checkEmpty(e){return si.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new bo(i,t,n,r);this.mutationQueue.push(a);for(const s of r)this.Jr=this.Jr.add(new Kl(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return si.resolve(a)}lookupMutationBatch(e,t){return si.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Xr(n),i=r<0?0:r;return si.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return si.resolve(0===this.mutationQueue.length?ui:this.Yn-1)}getAllMutationBatches(e){return si.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Kl(t,0),r=new Kl(t,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([n,r],e=>{const t=this.Zr(e.Hr);i.push(t)}),si.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Gi(Cr);return t.forEach(e=>{const t=new Kl(e,0),r=new Kl(e,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([t,r],e=>{n=n.add(e.Hr)})}),si.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Fr.isDocumentKey(i)||(i=i.child(""));const a=new Kl(new Fr(i),0);let s=new Gi(Cr);return this.Jr.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.Hr)),!0)},a),si.resolve(this.Yr(s))}Yr(e){const t=[];return e.forEach(e=>{const n=this.Zr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){hr(0===this.ei(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Jr;return si.forEach(t.mutations,r=>{const i=new Kl(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Jr=n})}nr(e){}containsKey(e,t){const n=new Kl(t,0),r=this.Jr.firstAfterOrEqual(n);return si.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,si.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ql{constructor(e){this.ti=e,this.docs=new Hi(Fr.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ti(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return si.resolve(n?n.document.mutableCopy():La.newInvalidDocument(t))}getEntries(e,t){let n=Is();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():La.newInvalidDocument(e))}),si.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Is();const a=t.path,s=new Fr(a.child("__id-9223372036854775808__")),o=this.docs.getIteratorFrom(s);for(;o.hasNext();){const{key:e,value:{document:s}}=o.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||ni(ei(s),n)<=0||(r.has(s.key)||xs(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return si.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ur(9500)}ni(e,t){return si.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Yl(this)}getSize(e){return si.resolve(this.size)}}class Yl extends zl{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.Mr.addEntry(e,r)):this.Mr.removeEntry(n)}),si.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class $l{constructor(e){this.persistence=e,this.ri=new Ts(e=>os(e),ls),this.lastRemoteSnapshotVersion=$r.min(),this.highestTargetId=0,this.ii=0,this.si=new Wl,this.targetCount=0,this.oi=Pl._r()}forEachTarget(e,t){return this.ri.forEach((e,n)=>t(n)),si.resolve()}getLastRemoteSnapshotVersion(e){return si.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return si.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),si.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ii&&(this.ii=t),si.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Pl(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,si.resolve()}updateTargetData(e,t){return this.lr(t),si.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,si.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.ri.forEach((a,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.ri.delete(a),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),si.waitFor(i).next(()=>r)}getTargetCount(e){return si.resolve(this.targetCount)}getTargetData(e,t){const n=this.ri.get(t)||null;return si.resolve(n)}addMatchingKeys(e,t,n){return this.si.$r(t,n),si.resolve()}removeMatchingKeys(e,t,n){this.si.Qr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),si.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),si.resolve()}getMatchingKeysForTargetId(e,t){const n=this.si.jr(t);return si.resolve(n)}containsKey(e,t){return si.resolve(this.si.containsKey(t))}}class Jl{constructor(e,t){this._i={},this.overlays={},this.ai=new ci(0),this.ui=!1,this.ui=!0,this.ci=new Hl,this.referenceDelegate=e(this),this.li=new $l(this),this.indexManager=new Tl,this.remoteDocumentCache=function(e){return new Ql(e)}(e=>this.referenceDelegate.hi(e)),this.serializer=new kl(t),this.Pi=new Bl(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ql,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this._i[e.toKey()];return n||(n=new Gl(t,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,n){sr("MemoryPersistence","Starting transaction:",e);const r=new Xl(this.ai.next());return this.referenceDelegate.Ti(),n(r).next(e=>this.referenceDelegate.Ii(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ei(e,t){return si.or(Object.values(this._i).map(n=>()=>n.containsKey(e,t)))}}class Xl extends ii{constructor(e){super(),this.currentSequenceNumber=e}}class Zl{constructor(e){this.persistence=e,this.Ri=new Wl,this.Ai=null}static Vi(e){return new Zl(e)}get di(){if(this.Ai)return this.Ai;throw ur(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.di.delete(n.toString()),si.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.di.add(n.toString()),si.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),si.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach(e=>this.di.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.di.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return si.forEach(this.di,n=>{const r=Fr.fromPath(n);return this.mi(e,r).next(e=>{e||t.removeEntry(r,$r.min())})}).next(()=>(this.Ai=null,t.apply(e)))}updateLimboDocument(e,t){return this.mi(e,t).next(e=>{e?this.di.delete(t.toString()):this.di.add(t.toString())})}hi(e){return 0}mi(e,t){return si.or([()=>si.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class ec{constructor(e,t){this.persistence=e,this.fi=new Ts(e=>mi(e.path),(e,t)=>e.isEqual(t)),this.garbageCollector=Fl(this,t)}static Vi(e,t){return new ec(e,t)}Ti(){}Ii(e){return si.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}pr(e){let t=0;return this.mr(e,e=>{t++}).next(()=>t)}mr(e,t){return si.forEach(this.fi,(n,r)=>this.wr(e,n,r).next(e=>e?si.resolve():t(r)))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ni(e,r=>this.wr(e,r,t).next(e=>{e||(n++,i.removeEntry(r,$r.min()))})).next(()=>i.apply(e)).next(()=>n)}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),si.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),si.resolve()}removeReference(e,t,n){return this.fi.set(n,e.currentSequenceNumber),si.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),si.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_a(e.data.value)),t}wr(e,t,n){return si.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.fi.get(t);return si.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class tc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Ts=n,this.Is=r}static Es(e,t){let n=Ms(),r=Ms();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new tc(e,t.fromCache,n,r)}}class nc{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class rc{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=N()?8:oi(T())>0?6:4}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.gs(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.ps(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new nc;return this.ys(e,t,n).next(r=>{if(i.result=r,this.As)return this.ws(e,t,n,r.size)})}).next(()=>i.result)}ws(e,t,n,r){return n.documentReadCount<this.Vs?(ar()<=Y.DEBUG&&sr("QueryEngine","SDK will not create cache indexes for query:",Ss(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),si.resolve()):(ar()<=Y.DEBUG&&sr("QueryEngine","Query:",Ss(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ds*r?(ar()<=Y.DEBUG&&sr("QueryEngine","The SDK decides to create cache indexes for query:",Ss(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gs(t))):si.resolve())}gs(e,t){if(fs(t))return si.resolve(null);let n=gs(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=ys(t,null,"F"),n=gs(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=Ms(...r);return this.fs.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const a=this.bs(t,r);return this.Ss(t,a,i,n.readTime)?this.gs(e,ys(t,null,"F")):this.Ds(e,a,t,n)}))})))}ps(e,t,n,r){return fs(t)||r.isEqual($r.min())?si.resolve(null):this.fs.getDocuments(e,n).next(i=>{const a=this.bs(t,i);return this.Ss(t,a,n,r)?si.resolve(null):(ar()<=Y.DEBUG&&sr("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ss(t)),this.Ds(e,a,t,Zr(r,Jr)).next(e=>e))})}bs(e,t){let n=new Gi(Es(e));return t.forEach((t,r)=>{xs(e,r)&&(n=n.add(r))}),n}Ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ys(e,t,n){return ar()<=Y.DEBUG&&sr("QueryEngine","Using full collection scan to execute query:",Ss(t)),this.fs.getDocumentsMatchingQuery(e,t,ti.min(),n)}Ds(e,t,n,r){return this.fs.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}const ic="LocalStore";class ac{constructor(e,t,n,r){this.persistence=e,this.Cs=t,this.serializer=r,this.vs=new Hi(Cr),this.Fs=new Ts(e=>os(e),ls),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vl(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.vs))}}function sc(e,t,n,r){return new ac(e,t,n,r)}async function oc(e,t){const n=fr(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.Os(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],a=[];let s=Ms();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ns:e,removedBatchIds:i,addedBatchIds:a}))})})}function lc(e){const t=fr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.li.getLastRemoteSnapshotVersion(e))}function cc(e,t,n){let r=Ms(),i=Ms();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Is();return n.forEach((n,a)=>{const s=e.get(n);a.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual($r.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):sr(ic,"Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)}),{Bs:r,Ls:i}})}function uc(e,t){const n=fr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=ui),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function dc(e,t){const n=fr(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.li.getTargetData(e,t).next(i=>i?(r=i,si.resolve(r)):n.li.allocateTargetId(e).next(i=>(r=new xl(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.li.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.vs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.vs=n.vs.insert(e.targetId,e),n.Fs.set(t,e.targetId)),e})}async function hc(e,t,n){const r=fr(e),i=r.vs.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!li(e))throw e;sr(ic,"Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.vs=r.vs.remove(t),r.Fs.delete(i.target)}function fc(e,t,n){const r=fr(e);let i=$r.min(),a=Ms();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=fr(e),i=r.Fs.get(n);return void 0!==i?si.resolve(r.vs.get(i)):r.li.getTargetData(t,n)}(r,e,gs(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(e,t.targetId).next(e=>{a=e})}).next(()=>r.Cs.getDocumentsMatchingQuery(e,t,n?i:$r.min(),n?a:Ms())).next(e=>(pc(r,ks(t),e),{documents:e,ks:a})))}function pc(e,t,n){let r=e.Ms.get(t)||$r.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Ms.set(t,r)}class mc{constructor(){this.activeTargetIds=zs()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gc{constructor(){this.vo=new mc,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,n){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new mc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class vc{Mo(e){}shutdown(){}}const yc="ConnectivityMonitor";class bc{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){sr(yc,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){sr(yc,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let wc=null;function Sc(){return null===wc?wc=268435456+Math.round(2147483648*Math.random()):wc++,"0x"+wc.toString(16)}const xc="RestConnection",kc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class Ec{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo="projects/".concat(n,"/databases/").concat(r),this.$o=this.databaseId.database===ua?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Wo(e,t,n,r,i){const a=Sc(),s=this.Qo(e,t.toUriEncodedString());sr(xc,"Sending RPC '".concat(e,"' ").concat(a,":"),s,n);const o={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(o,r,i);const{host:l}=new URL(s),c=S(l);return this.zo(e,s,o,n,c).then(t=>(sr(xc,"Received RPC '".concat(e,"' ").concat(a,": "),t),t),t=>{throw lr(xc,"RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",s,"request:",n),t})}jo(e,t,n,r,i,a){return this.Wo(e,t,n,r,i)}Go(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+rr,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}Qo(e,t){const n=kc[e];let r="".concat(this.qo,"/v1/").concat(t,":").concat(n);return this.databaseInfo.apiKey&&(r="".concat(r,"?key=").concat(encodeURIComponent(this.databaseInfo.apiKey))),r}terminate(){}}class _c{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const Tc="WebChannelConnection",Cc=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};class Ic extends Ec{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ic.c_){const e=Xn();Cc(e,Jn.STAT_EVENT,e=>{e.stat===$n.PROXY?sr(Tc,"STAT_EVENT: detected buffering proxy"):e.stat===$n.NOPROXY&&sr(Tc,"STAT_EVENT: detected no buffering proxy")}),Ic.c_=!0}}zo(e,t,n,r,i){const a=Sc();return new Promise((i,s)=>{const o=new Kn;o.setWithCredentials(!0),o.listenOnce(Qn.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Yn.NO_ERROR:const n=o.getResponseJson();sr(Tc,"XHR for RPC '".concat(e,"' ").concat(a," received:"),JSON.stringify(n)),i(n);break;case Yn.TIMEOUT:sr(Tc,"RPC '".concat(e,"' ").concat(a," timed out")),s(new mr(pr.DEADLINE_EXCEEDED,"Request time out"));break;case Yn.HTTP_ERROR:const r=o.getStatus();if(sr(Tc,"RPC '".concat(e,"' ").concat(a," failed with status:"),r,"response text:",o.getResponseText()),r>0){var t;let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const n=null===(t=e)||void 0===t?void 0:t.error;if(n&&n.status&&n.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(pr).indexOf(t)>=0?t:pr.UNKNOWN}(n.status);s(new mr(e,n.message))}else s(new mr(pr.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new mr(pr.UNAVAILABLE,"Connection failed."));break;default:ur(9055,{l_:e,streamId:a,h_:o.getLastErrorCode(),P_:o.getLastError()})}}finally{sr(Tc,"RPC '".concat(e,"' ").concat(a," completed."))}});const l=JSON.stringify(r);sr(Tc,"RPC '".concat(e,"' ").concat(a," sending request:"),r),o.send(t,"POST",l,n,15)})}T_(e,t,n){const r=Sc(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=this.createWebChannelTransport(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},o=this.longPollingOptions.timeoutSeconds;void 0!==o&&(s.longPollingTimeout=Math.round(1e3*o)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Go(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const l=i.join("");sr(Tc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);const c=a.createWebChannel(l,s);this.I_(c);let u=!1,d=!1;const h=new _c({Ho:t=>{d?sr(Tc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(u||(sr(Tc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),u=!0),sr(Tc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Jo:()=>c.close()});return Cc(c,Gn.EventType.OPEN,()=>{d||(sr(Tc,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),h.i_())}),Cc(c,Gn.EventType.CLOSE,()=>{d||(d=!0,sr(Tc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.o_(),this.E_(c))}),Cc(c,Gn.EventType.ERROR,t=>{d||(d=!0,lr(Tc,"RPC '".concat(e,"' stream ").concat(r," transport errored. Name:"),t.name,"Message:",t.message),h.o_(new mr(pr.UNAVAILABLE,"The operation could not be completed")))}),Cc(c,Gn.EventType.MESSAGE,t=>{if(!d){var n;const i=t.data[0];hr(!!i,16349);const a=i,s=(null===a||void 0===a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(s){sr(Tc,"RPC '".concat(e,"' stream ").concat(r," received error:"),s);const t=s.status;let n=function(e){const t=ko[e];if(void 0!==t)return To(t)}(t),i=s.message;"NOT_FOUND"===t&&i.includes("database")&&i.includes("does not exist")&&i.includes(this.databaseId.database)&&lr("Database '".concat(this.databaseId.database,"' not found. Please check your project configuration.")),void 0===n&&(n=pr.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),d=!0,h.o_(new mr(n,i)),c.close()}else sr(Tc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.__(i)}}),Ic.u_(),setTimeout(()=>{h.s_()},0),h}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(t=>t===e)}Go(e,t,n){super.Go(e,t,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return Zn()}}function Nc(e){return new Ic(e)}function Ac(){return"undefined"!=typeof document?document:null}function Pc(e){return new Ko(e,!0)}Ic.c_=!1;class jc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ci=e,this.timerId=t,this.R_=n,this.A_=r,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&sr("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.d_," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.m_=this.Ci.enqueueAfterDelay(this.timerId,r,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){null!==this.m_&&(this.m_.skipDelay(),this.m_=null)}cancel(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const Rc="PersistentStream";class Dc{constructor(e,t,n,r,i,a,s,o){this.Ci=e,this.b_=n,this.S_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=o,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jc(e,t)}x_(){return 1===this.state||5===this.state||this.O_()}O_(){return 2===this.state||3===this.state}start(){this.F_=0,4!==this.state?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&null===this.C_&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,4!==e?this.M_.reset():t&&t.code===pr.RESOURCE_EXHAUSTED?(or(t.toString()),or("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===pr.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.D_===t&&this.G_(n,r)},t=>{e(()=>{const e=new mr(pr.UNKNOWN,"Fetching auth token failed: "+t.message);return this.z_(e)})})}G_(e,t){const n=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo(()=>{n(()=>this.listener.Zo())}),this.stream.Yo(()=>{n(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(e=>{n(()=>this.z_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.F_?this.H_(e):this.onNext(e))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return sr(Rc,"close with error: ".concat(e)),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget(()=>this.D_===e?t():(sr(Rc,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Oc extends Dc{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ur(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(hr(void 0===t||"string"==typeof t,58123),Ji.fromBase64String(t||"")):(hr(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),Ji.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,o=s&&function(e){const t=void 0===e.code?pr.UNKNOWN:To(e.code);return new mr(t,e.message||"")}(s);n=new Fo(r,i,a,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=nl(e,r.document.name),a=Jo(r.document.updateTime),s=r.document.createTime?Jo(r.document.createTime):$r.min(),o=new Da({mapValue:{fields:r.document.fields}}),l=La.newFoundDocument(i,a,s,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Lo(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=nl(e,r.document),a=r.readTime?Jo(r.readTime):$r.min(),s=La.newNoDocument(i,a),o=r.removedTargetIds||[];n=new Lo([],o,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=nl(e,r.document),a=r.removedTargetIds||[];n=new Lo([],a,i,null)}else{if(!("filter"in t))return ur(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new xo(r,i),s=e.targetId;n=new Mo(s,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $r.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$r.min():t.readTime?Jo(t.readTime):$r.min()}(e);return this.listener.J_(t,n)}Z_(e){const t={};t.database=al(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=cs(r)?{documents:cl(e,r)}:{query:ul(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Yo(e,t.resumeToken);const r=Go(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo($r.min())>0){n.readTime=Qo(e,t.snapshotVersion.toTimestamp());const r=Go(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ur(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.K_(t)}X_(e){const t={};t.database=al(this.serializer),t.removeTarget=e,this.K_(t)}}class Lc extends Dc{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return hr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,hr(!e.writeResults||0===e.writeResults.length,55816),this.listener.ta()}onNext(e){hr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=function(e,t){return e&&e.length>0?(hr(void 0!==t,14353),e.map(e=>function(e,t){let n=e.updateTime?Jo(e.updateTime):Jo(t);return n.isEqual($r.min())&&(n=Jo(t)),new no(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Jo(e.commitTime);return this.listener.na(n,t)}ra(){const e={};e.database=al(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>ll(this.serializer,e))};this.K_(t)}}class Mc{}class Fc extends Mc{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new mr(pr.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[a,s]=i;return this.connection.Wo(e,Zo(t,n),r,a,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===pr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mr(pr.UNKNOWN,e.toString())})}jo(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(a=>{let[s,o]=a;return this.connection.jo(e,Zo(t,n),r,s,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===pr.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mr(pr.UNKNOWN,e.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function zc(e,t,n,r){return new Fc(e,t,n,r)}class Uc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){0===this.oa&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){"Online"===this.state?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,"Online"===e&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.aa?(or(t),this.aa=!1):sr("OnlineStateTracker",t)}Pa(){null!==this._a&&(this._a.cancel(),this._a=null)}}const Vc="RemoteStore";class Bc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(e=>{n.enqueueAndForget(async()=>{Jc(this)&&(sr(Vc,"Restarting streams for network reachability change."),await async function(e){const t=fr(e);t.Ea.add(4),await Hc(t),t.Va.set("Unknown"),t.Ea.delete(4),await qc(t)}(this))})}),this.Va=new Uc(n,r)}}async function qc(e){if(Jc(e))for(const t of e.Ra)await t(!0)}async function Hc(e){for(const t of e.Ra)await t(!1)}function Wc(e,t){const n=fr(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),$c(n)?Yc(n):gu(n).O_()&&Gc(n,t))}function Kc(e,t){const n=fr(e),r=gu(n);n.Ia.delete(t),r.O_()&&Qc(n,t),0===n.Ia.size&&(r.O_()?r.L_():Jc(n)&&n.Va.set("Unknown"))}function Gc(e,t){if(e.da.$e(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($r.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gu(e).Z_(t)}function Qc(e,t){e.da.$e(t),gu(e).X_(t)}function Yc(e){e.da=new Uo({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),gu(e).start(),e.Va.ua()}function $c(e){return Jc(e)&&!gu(e).x_()&&e.Ia.size>0}function Jc(e){return 0===fr(e).Ea.size}function Xc(e){e.da=void 0}async function Zc(e){e.Va.set("Online")}async function eu(e){e.Ia.forEach((t,n)=>{Gc(e,t)})}async function tu(e,t){Xc(e),$c(e)?(e.Va.ha(t),Yc(e)):e.Va.set("Unknown")}async function nu(e,t,n){if(e.Va.set("Online"),t instanceof Fo&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.da.removeTarget(r))}(e,t)}catch(n){sr(Vc,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ru(e,n)}else if(t instanceof Lo?e.da.Xe(t):t instanceof Mo?e.da.st(t):e.da.tt(t),!n.isEqual($r.min()))try{const t=await lc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.da.Tt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Ia.get(t);if(!r)return;e.Ia.set(t,r.withResumeToken(Ji.EMPTY_BYTE_STRING,r.snapshotVersion)),Qc(e,t);const i=new xl(r.target,t,n,r.sequenceNumber);Gc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){sr(Vc,"Failed to raise snapshot:",t),await ru(e,t)}}async function ru(e,t,n){if(!li(t))throw t;e.Ea.add(1),await Hc(e),e.Va.set("Offline"),n||(n=()=>lc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{sr(Vc,"Retrying IndexedDB access"),await n(),e.Ea.delete(1),await qc(e)})}function iu(e,t){return t().catch(n=>ru(e,n,t))}async function au(e){const t=fr(e),n=vu(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:ui;for(;su(t);)try{const e=await uc(t.localStore,r);if(null===e){0===t.Ta.length&&n.L_();break}r=e.batchId,ou(t,e)}catch(e){await ru(t,e)}lu(t)&&cu(t)}function su(e){return Jc(e)&&e.Ta.length<10}function ou(e,t){e.Ta.push(t);const n=vu(e);n.O_()&&n.Y_&&n.ea(t.mutations)}function lu(e){return Jc(e)&&!vu(e).x_()&&e.Ta.length>0}function cu(e){vu(e).start()}async function uu(e){vu(e).ra()}async function du(e){const t=vu(e);for(const n of e.Ta)t.ea(n.mutations)}async function hu(e,t,n){const r=e.Ta.shift(),i=wo.from(r,t,n);await iu(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await au(e)}async function fu(e,t){t&&vu(e).Y_&&await async function(e,t){if(function(e){return _o(e)&&e!==pr.ABORTED}(t.code)){const n=e.Ta.shift();vu(e).B_(),await iu(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await au(e)}}(e,t),lu(e)&&cu(e)}async function pu(e,t){const n=fr(e);n.asyncQueue.verifyOperationInProgress(),sr(Vc,"RemoteStore received new credentials");const r=Jc(n);n.Ea.add(3),await Hc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await qc(n)}async function mu(e,t){const n=fr(e);t?(n.Ea.delete(2),await qc(n)):t||(n.Ea.add(2),await Hc(n),n.Va.set("Unknown"))}function gu(e){return e.ma||(e.ma=function(e,t,n){const r=fr(e);return r.sa(),new Oc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:Zc.bind(null,e),Yo:eu.bind(null,e),t_:tu.bind(null,e),J_:nu.bind(null,e)}),e.Ra.push(async t=>{t?(e.ma.B_(),$c(e)?Yc(e):e.Va.set("Unknown")):(await e.ma.stop(),Xc(e))})),e.ma}function vu(e){return e.fa||(e.fa=function(e,t,n){const r=fr(e);return r.sa(),new Lc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Zo:()=>Promise.resolve(),Yo:uu.bind(null,e),t_:fu.bind(null,e),ta:du.bind(null,e),na:hu.bind(null,e)}),e.Ra.push(async t=>{t?(e.fa.B_(),await au(e)):(await e.fa.stop(),e.Ta.length>0&&(sr(Vc,"Stopping write stream with ".concat(e.Ta.length," pending writes")),e.Ta=[]))})),e.fa}class yu{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,s=new yu(e,t,a,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mr(pr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(e,t){if(or("AsyncQueue","".concat(t,": ").concat(e)),li(e))return new mr(pr.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wu{static emptySet(e){return new wu(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Fr.comparator(t.key,n.key):(e,t)=>Fr.comparator(e.key,t.key),this.keyedMap=As(),this.sortedSet=new Hi(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wu))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wu;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Su{constructor(){this.ga=new Hi(Fr.comparator)}track(e){const t=e.doc.key,n=this.ga.get(t);n?0!==e.type&&3===n.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==n.type?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ga=this.ga.remove(t):1===e.type&&2===n.type?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):ur(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,n)=>{e.push(n)}),e}}class xu{constructor(e,t,n,r,i,a,s,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach(e=>{a.push({type:0,doc:e})}),new xu(e,t,wu.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bs(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class ku{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class Eu{constructor(){this.queries=_u(),this.onlineState="Unknown",this.Ca=new Set}terminate(){!function(e,t){const n=fr(e),r=n.queries;n.queries=_u(),r.forEach((e,n)=>{for(const r of n.ba)r.onError(t)})}(this,new mr(pr.ABORTED,"Firestore shutting down"))}}function _u(){return new Ts(e=>ws(e),bs)}async function Tu(e,t){const n=fr(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.Sa()&&t.Da()&&(r=2):(a=new ku,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=bu(e,"Initialization of query '".concat(Ss(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,a),a.ba.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&Au(n)}async function Cu(e,t){const n=fr(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ba.indexOf(t);e>=0&&(a.ba.splice(e,1),0===a.ba.length?i=t.Da()?0:1:!a.Sa()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Iu(e,t){const n=fr(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ba)e.Fa(i)&&(r=!0);t.wa=i}}r&&Au(n)}function Nu(e,t,n){const r=fr(e),i=r.queries.get(t);if(i)for(const a of i.ba)a.onError(n);r.queries.delete(t)}function Au(e){e.Ca.forEach(e=>{e.next()})}var Pu,ju;(ju=Pu||(Pu={})).Ma="default",ju.Cache="cache";class Ru{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new xu(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache)return!0;if(!this.Da())return!0;const n="Offline"!==t;return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=xu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Pu.Cache}}class Du{constructor(e){this.key=e}}class Ou{constructor(e){this.key=e}}class Lu{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ms(),this.mutatedKeys=Ms(),this.eu=Es(e),this.tu=new wu(this.eu)}get nu(){return this.Za}ru(e,t){const n=t?t.iu:new Su,r=t?t.tu:this.tu;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,s=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=xs(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.su(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.eu(u,o)>0||l&&this.eu(u,l)<0)&&(s=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(s=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Ss:s,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ur(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc)),this.ou(n),r=null!==r&&void 0!==r&&r;const s=t&&!r?this._u():[],o=0===this.Ya.size&&this.current&&!r?1:0,l=o!==this.Xa;return this.Xa=o,0!==a.length||l?{snapshot:new xu(this.query,e.tu,i,a,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:s}:{au:s}}va(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Su,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(e=>this.Za=this.Za.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Za=this.Za.delete(e)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ms(),this.tu.forEach(e=>{this.uu(e.key)&&(this.Ya=this.Ya.add(e.key))});const t=[];return e.forEach(e=>{this.Ya.has(e)||t.push(new Ou(e))}),this.Ya.forEach(n=>{e.has(n)||t.push(new Du(n))}),t}cu(e){this.Za=e.ks,this.Ya=Ms();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return xu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,0===this.Xa,this.hasCachedResults)}}const Mu="SyncEngine";class Fu{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class zu{constructor(e){this.key=e,this.hu=!1}}class Uu{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Ts(e=>ws(e),bs),this.Iu=new Map,this.Eu=new Set,this.Ru=new Hi(Fr.comparator),this.Au=new Map,this.Vu=new Wl,this.du={},this.mu=new Map,this.fu=Pl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return!0===this.gu}}async function Vu(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=ld(e);let i;const a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await qu(r,t,n,!0),i}async function Bu(e,t){const n=ld(e);await qu(n,t,!0,!1)}async function qu(e,t,n,r){const i=await dc(e.localStore,gs(t)),a=i.targetId,s=e.sharedClientState.addLocalQueryTarget(a,n);let o;return r&&(o=await Hu(e,t,a,"current"===s,i.resumeToken)),e.isPrimaryClient&&n&&Wc(e.remoteStore,i),o}async function Hu(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Ss&&(i=await fc(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ru(n,i)}));const a=r&&r.targetChanges.get(t.targetId),s=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,a,s);return nd(e,t.targetId,o.au),o.snapshot}(e,t,n,r);const a=await fc(e.localStore,t,!0),s=new Lu(t,a.ks),o=s.ru(a.documents),l=Oo.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=s.applyChanges(o,e.isPrimaryClient,l);nd(e,n,c.au);const u=new Fu(t,n,s);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),c.snapshot}async function Wu(e,t,n){const r=fr(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter(e=>!bs(e,t))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await hc(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Kc(r.remoteStore,i.targetId),ed(r,i.targetId)}).catch(ai)):(ed(r,i.targetId),await hc(r.localStore,i.targetId,!0))}async function Ku(e,t){const n=fr(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Kc(n.remoteStore,r.targetId))}async function Gu(e,t){const n=fr(e);try{const e=await function(e,t){const n=fr(e),r=t.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const a=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const s=[];t.targetChanges.forEach((a,o)=>{const l=i.get(o);if(!l)return;s.push(n.li.removeMatchingKeys(e,a.removedDocuments,o).next(()=>n.li.addMatchingKeys(e,a.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Ji.EMPTY_BYTE_STRING,$r.min()).withLastLimboFreeSnapshotVersion($r.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&s.push(n.li.updateTargetData(e,c))});let o=Is(),l=Ms();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(cc(e,a,t.documentUpdates).next(e=>{o=e.Bs,l=e.Ls})),!r.isEqual($r.min())){const t=n.li.getLastRemoteSnapshotVersion(e).next(t=>n.li.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return si.waitFor(s).next(()=>a.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.vs=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Au.get(t);r&&(hr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?hr(r.hu,14607):e.removedDocuments.size>0&&(hr(r.hu,42227),r.hu=!1))}),await ad(n,e,t)}catch(e){await ai(e)}}function Qu(e,t,n){const r=fr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Tu.forEach((n,r)=>{const i=r.view.va(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=fr(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.ba)i.va(t)&&(r=!0)}),r&&Au(n)}(r.eventManager,t),e.length&&r.Pu.J_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Yu(e,t,n){const r=fr(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Au.get(t),a=i&&i.key;if(a){let e=new Hi(Fr.comparator);e=e.insert(a,La.newNoDocument(a,$r.min()));const n=Ms().add(a),i=new Do($r.min(),new Map,new Hi(Cr),e,n);await Gu(r,i),r.Ru=r.Ru.remove(a),r.Au.delete(t),id(r)}else await hc(r.localStore,t,!1).then(()=>ed(r,t,n)).catch(ai)}async function $u(e,t){const n=fr(e),r=t.batch.batchId;try{const e=await function(e,t){const n=fr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let s=si.resolve();return a.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const a=n.docVersions.get(e);hr(null!==a,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Ms();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Zu(n,r,null),Xu(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ad(n,e)}catch(e){await ai(e)}}async function Ju(e,t,n){const r=fr(e);try{const e=await function(e,t){const n=fr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(hr(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Zu(r,t,n),Xu(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ad(r,e)}catch(n){await ai(n)}}function Xu(e,t){(e.mu.get(t)||[]).forEach(e=>{e.resolve()}),e.mu.delete(t)}function Zu(e,t,n){const r=fr(e);let i=r.du[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.du[r.currentUser.toKey()]=i}}function ed(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Vu.Gr(t).forEach(t=>{e.Vu.containsKey(t)||td(e,t)})}function td(e,t){e.Eu.delete(t.path.canonicalString());const n=e.Ru.get(t);null!==n&&(Kc(e.remoteStore,n),e.Ru=e.Ru.remove(t),e.Au.delete(n),id(e))}function nd(e,t,n){for(const r of n)r instanceof Du?(e.Vu.addReference(r.key,t),rd(e,r)):r instanceof Ou?(sr(Mu,"Document no longer in limbo: "+r.key),e.Vu.removeReference(r.key,t),e.Vu.containsKey(r.key)||td(e,r.key)):ur(19791,{wu:r})}function rd(e,t){const n=t.key,r=n.path.canonicalString();e.Ru.get(n)||e.Eu.has(r)||(sr(Mu,"New document in limbo: "+n),e.Eu.add(r),id(e))}function id(e){for(;e.Eu.size>0&&e.Ru.size<e.maxConcurrentLimboResolutions;){const t=e.Eu.values().next().value;e.Eu.delete(t);const n=new Fr(Or.fromString(t)),r=e.fu.next();e.Au.set(r,new zu(n)),e.Ru=e.Ru.insert(n,r),Wc(e.remoteStore,new xl(gs(hs(n.path)),r,"TargetPurposeLimboResolution",ci.ce))}}async function ad(e,t,n){const r=fr(e),i=[],a=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach((e,o)=>{s.push(r.pu(o,t,n).then(e=>{if((e||n)&&r.isPrimaryClient){var t;const i=e?!e.fromCache:null===n||void 0===n||null===(t=n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=tc.Es(o.targetId,e);a.push(t)}}))}),await Promise.all(s),r.Pu.J_(i),await async function(e,t){const n=fr(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>si.forEach(t,t=>si.forEach(t.Ts,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>si.forEach(t.Is,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!li(e))throw e;sr(ic,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.vs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.vs=n.vs.insert(e,i)}}}(r.localStore,a))}async function sd(e,t){const n=fr(e);if(!n.currentUser.isEqual(t)){sr(Mu,"User change. New user:",t.toKey());const e=await oc(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach(e=>{e.forEach(e=>{e.reject(new mr(pr.CANCELLED,t))})}),e.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ad(n,e.Ns)}}function od(e,t){const n=fr(e),r=n.Au.get(t);if(r&&r.hu)return Ms().add(r.key);{let e=Ms();const r=n.Iu.get(t);if(!r)return e;for(const t of r){const r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function ld(e){const t=fr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Gu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=od.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Yu.bind(null,t),t.Pu.J_=Iu.bind(null,t.eventManager),t.Pu.yu=Nu.bind(null,t.eventManager),t}function cd(e){const t=fr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$u.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Ju.bind(null,t),t}class ud{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Pc(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return sc(this.persistence,new rc,e.initialUser,this.serializer)}Cu(e){return new Jl(Zl.Vi,this.serializer)}Du(e){return new gc}async terminate(){var e,t;null!==(e=this.gcScheduler)&&void 0!==e&&e.stop(),null!==(t=this.indexBackfillerScheduler)&&void 0!==t&&t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ud.provider={build:()=>new ud};class dd extends ud{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){hr(this.persistence.referenceDelegate instanceof ec,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ll(n,e.asyncQueue,t)}Cu(e){const t=void 0!==this.cacheSizeBytes?Al.withCacheSize(this.cacheSizeBytes):Al.DEFAULT;return new Jl(e=>ec.Vi(e,t),this.serializer)}}class hd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Qu(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sd.bind(null,this.syncEngine),await mu(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Eu}createDatastore(e){const t=Pc(e.databaseInfo.databaseId),n=Nc(e.databaseInfo);return zc(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Bc(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>Qu(this.syncEngine,e,0),bc.v()?new bc:new vc)}createSyncEngine(e,t){return function(e,t,n,r,i,a,s){const o=new Uu(e,t,n,r,i,a);return s&&(o.gu=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=fr(e);sr(Vc,"RemoteStore shutting down."),t.Ea.add(5),await Hc(t),t.Aa.shutdown(),t.Va.set("Unknown")}(this.remoteStore),null!==(e=this.datastore)&&void 0!==e&&e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}hd.provider={build:()=>new hd};class fd{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):or("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}const pd="FirestoreClient";class md{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this._databaseInfo=r,this.user=nr.UNAUTHENTICATED,this.clientId=Tr.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{sr(pd,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(sr(pd,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bu(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function gd(e,t){e.asyncQueue.verifyOperationInProgress(),sr(pd,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await oc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function vd(e,t){e.asyncQueue.verifyOperationInProgress();const n=await yd(e);sr(pd,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>pu(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>pu(t.remoteStore,n)),e._onlineComponents=t}async function yd(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){sr(pd,"Using user provided OfflineComponentProvider");try{await gd(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===pr.FAILED_PRECONDITION||e.code===pr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;lr("Error using user provided cache. Falling back to memory cache: "+n),await gd(e,new ud)}}else sr(pd,"Using default OfflineComponentProvider"),await gd(e,new dd(void 0));return e._offlineComponents}async function bd(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(sr(pd,"Using user provided OnlineComponentProvider"),await vd(e,e._uninitializedComponentsProvider._online)):(sr(pd,"Using default OnlineComponentProvider"),await vd(e,new hd))),e._onlineComponents}function wd(e){return bd(e).then(e=>e.syncEngine)}async function Sd(e){const t=await bd(e),n=t.eventManager;return n.onListen=Vu.bind(null,t.syncEngine),n.onUnlisten=Wu.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Bu.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ku.bind(null,t.syncEngine),n}function xd(e,t){const n=new gr;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=cd(e);try{const e=await function(e,t){const n=fr(e),r=Yr.now(),i=t.reduce((e,t)=>e.add(t.key),Ms());let a,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=Is(),l=Ms();return n.xs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{a=i;const s=[];for(const e of t){const t=co(e,a.get(e.key).overlayedDocument);null!=t&&s.push(new fo(e.key,t,Oa(t.value.mapValue),ro.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:Ps(a)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.du[e.currentUser.toKey()];r||(r=new Hi(Cr)),r=r.insert(t,n),e.du[e.currentUser.toKey()]=r}(r,e.batchId,n),await ad(r,e.changes),await au(r.remoteStore)}catch(e){const t=bu(e,"Failed to persist write");n.reject(t)}}(await wd(e),t,n)),n.promise}function kd(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Ed="ComponentProvider",_d=new Map;function Td(e,t,n,r,i){return new ca(e,t,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,kd(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}const Cd="firestore.googleapis.com",Id=!0;class Nd{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new mr(pr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Cd,this.ssl=Id}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:Id;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=Nl;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Rl)throw new mr(pr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new mr(pr.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kd(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mr(pr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new mr(pr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new mr(pr.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ad{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nd({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mr(pr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mr(pr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nd(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new yr;switch(e.type){case"firstParty":return new xr(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mr(pr.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=_d.get(e);t&&(sr(Ed,"Removing Datastore"),_d.delete(e),t.terminate())}(this),Promise.resolve()}}function Pd(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Hr(e,Ad);const i=S(t),a=e._getSettings(),s=c(c({},a),{},{emulatorOptions:e._getEmulatorOptions()}),o="".concat(t,":").concat(n);i&&(x("https://".concat(o)),_("Firestore",!0)),a.host!==Cd&&a.host!==o&&lr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=c(c({},a),{},{host:o,ssl:i,emulatorOptions:r});if(!O(l,s)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=nr.MOCK_USER;else{var u;t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=c({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[f(JSON.stringify({alg:"none",type:"JWT"})),f(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(u=e._app)||void 0===u?void 0:u.options.projectId);const i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new mr(pr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new nr(i)}e._authCredentials=new br(new vr(t,n))}}class jd{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new jd(this.firestore,e,this._query)}}class Rd{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Rd(this.firestore,e,this._key)}toJSON(){return{type:Rd._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,n){if(Kr(t,Rd._jsonSchema))return new Rd(e,n||null,new Fr(Or.fromString(t.referencePath)))}}Rd._jsonSchemaVersion="firestore/documentReference/1.0",Rd._jsonSchema={type:Wr("string",Rd._jsonSchemaVersion),referencePath:Wr("string")};class Dd extends jd{constructor(e,t,n){super(e,t,hs(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Rd(this.firestore,null,new Fr(e))}withConverter(e){return new Dd(this.firestore,e,this._path)}}function Od(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=q(e),zr("collection","path",t),e instanceof Ad){const n=Or.fromString(t,...r);return Vr(n),new Dd(e,null,n)}{if(!(e instanceof Rd||e instanceof Dd))throw new mr(pr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Or.fromString(t,...r));return Vr(n),new Dd(e.firestore,null,n)}}function Ld(e,t){if(e=Hr(e,Ad),zr("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new mr(pr.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new jd(e,null,function(e){return new us(Or.emptyPath(),e)}(t))}function Md(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=q(e),1===arguments.length&&(t=Tr.newId()),zr("doc","path",t),e instanceof Ad){const n=Or.fromString(t,...r);return Ur(n),new Rd(e,null,new Fr(n))}{if(!(e instanceof Rd||e instanceof Dd))throw new mr(pr.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Or.fromString(t,...r));return Ur(n),new Rd(e.firestore,e instanceof Dd?e.converter:null,new Fr(n))}}const Fd="AsyncQueue";class zd{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jc(this,"async_queue_retry"),this._c=()=>{const e=Ac();e&&sr(Fd,"Visibility state changed to "+e.visibilityState),this.M_.w_()},this.ac=e;const t=Ac();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ac();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new gr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(0!==this.Yu.length){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!li(e))throw e;sr(Fd,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(e=>{throw this.nc=e,this.rc=!1,or("INTERNAL UNHANDLED ERROR: ",Ud(e)),e}).then(e=>(this.rc=!1,e))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=yu.createAndSchedule(this,e,t,n,e=>this.hc(e));return this.tc.push(r),r}uc(){this.nc&&ur(47125,{Pc:Ud(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do{e=this.ac,await e}while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Ud(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}class Vd extends Ad{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new zd,this._persistenceKey=(null===r||void 0===r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zd(e),this._firestoreClient=void 0,await e}}}function Bd(e){if(e._terminated)throw new mr(pr.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||qd(e),e._firestoreClient}function qd(e){var t,n,r,i;const a=e._freezeSettings(),s=Td(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,null===(n=e._app)||void 0===n?void 0:n.options.apiKey,a);e._componentsProvider||null!==(r=a.localCache)&&void 0!==r&&r._offlineComponentProvider&&null!==(i=a.localCache)&&void 0!==i&&i._onlineComponentProvider&&(e._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),e._firestoreClient=new md(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null===e||void 0===e?void 0:e._online.build();return{_offline:null===e||void 0===e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class Hd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hd(Ji.fromBase64String(e))}catch(e){throw new mr(pr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hd(Ji.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hd._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Kr(e,Hd._jsonSchema))return Hd.fromBase64String(e.bytes)}}Hd._jsonSchemaVersion="firestore/bytes/1.0",Hd._jsonSchema={type:Wr("string",Hd._jsonSchemaVersion),bytes:Wr("string")};class Wd{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new mr(pr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mr(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Kd{constructor(e){this._methodName=e}}class Gd{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mr(pr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mr(pr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Cr(this._lat,e._lat)||Cr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gd._jsonSchemaVersion}}static fromJSON(e){if(Kr(e,Gd._jsonSchema))return new Gd(e.latitude,e.longitude)}}Gd._jsonSchemaVersion="firestore/geoPoint/1.0",Gd._jsonSchema={type:Wr("string",Gd._jsonSchemaVersion),latitude:Wr("number"),longitude:Wr("number")};class Qd{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Qd._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Kr(e,Qd._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(e=>"number"==typeof e))return new Qd(e.vectorValues);throw new mr(pr.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qd._jsonSchemaVersion="firestore/vectorValue/1.0",Qd._jsonSchema={type:Wr("string",Qd._jsonSchemaVersion),vectorValues:Wr("object")};const Yd=/^__.*__$/;class $d{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new fo(e,this.data,this.fieldMask,t,this.fieldTransforms):new ho(e,this.data,t,this.fieldTransforms)}}function Jd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ur(40011,{dataSource:e})}}class Xd{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xd(c(c({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return uh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(0===e.length)throw this.createError("Document fields must not be empty");if(Jd(this.dataSource)&&Yd.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Zd{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Pc(e)}createContext(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Xd({dataSource:e,methodName:t,targetDoc:n,path:Mr.emptyPath(),arrayElement:!1,hasConverter:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function eh(e){const t=e._freezeSettings(),n=Pc(e._databaseId);return new Zd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function th(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const s=e.createContext(a.merge||a.mergeFields?2:0,t,n,i);sh("Data must be an object, but it was:",s,r);const o=ih(r,s);let l,c;if(a.merge)l=new Yi(s.fieldMask),c=s.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=oh(t,r,n);if(!s.contains(i))throw new mr(pr.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));dh(e,i)||e.push(i)}l=new Yi(e),c=s.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=s.fieldTransforms;return new $d(new Da(o),l,c)}class nh extends Kd{_toFieldTransform(e){return new to(e.path,new Gs)}isEqual(e){return e instanceof nh}}function rh(e,t){if(ah(e=q(e)))return sh("Unsupported field value:",t,e),ih(e,t);if(e instanceof Kd)return function(e,t){if(!Jd(t.dataSource))throw t.createError("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.createError("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.arrayElement&&4!==t.dataSource)throw t.createError("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=rh(i,t.childContextForArray(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=q(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Bs(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Yr.fromDate(e);return{timestampValue:Qo(t.serializer,n)}}if(e instanceof Yr){const n=new Yr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Qo(t.serializer,n)}}if(e instanceof Gd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hd)return{bytesValue:Yo(t.serializer,e._byteString)};if(e instanceof Rd){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.createError("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Xo(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Qd)return function(e,t){const n=e instanceof Qd?e.toArray():e,r={fields:{[ha]:{stringValue:ma},[ga]:{arrayValue:{values:n.map(e=>{if("number"!=typeof e)throw t.createError("VectorValues must only contain numeric values.");return Us(t.serializer,e)})}}}};return{mapValue:r}}(e,t);if(Sl(e))return e._toProto(t.serializer);throw t.createError("Unsupported field value: ".concat(qr(e)))}(e,t)}function ih(e,t){const n={};return qi(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Bi(e,(e,r)=>{const i=rh(r,t.childContextForField(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function ah(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Yr||e instanceof Gd||e instanceof Hd||e instanceof Rd||e instanceof Kd||e instanceof Qd||Sl(e))}function sh(e,t,n){if(!ah(n)||!Br(n)){const r=qr(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function oh(e,t,n){if((t=q(t))instanceof Wd)return t._internalPath;if("string"==typeof t)return ch(e,t);throw uh("Field path arguments must be of type string or ",e,!1,void 0,n)}const lh=new RegExp("[~\\*/\\[\\]]");function ch(e,t,n){if(t.search(lh)>=0)throw uh("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Wd(...t.split("."))._internalPath}catch(r){throw uh("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function uh(e,t,n,r,i){const a=r&&!r.isEmpty(),s=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(a||s)&&(l+=" (found",a&&(l+=" in field ".concat(r)),s&&(l+=" in document ".concat(i)),l+=")"),new mr(pr.INVALID_ARGUMENT,o+e+l)}function dh(e,t){return e.some(e=>e.isEqual(t))}class hh{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(va(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ea(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ta(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ur(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bi(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t;const n=null===(t=e.fields)||void 0===t||null===(t=t[ga].arrayValue)||void 0===t||null===(t=t.values)||void 0===t?void 0:t.map(e=>ea(e.doubleValue));return new Qd(n)}convertGeoPoint(e){return new Gd(ea(e.latitude),ea(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=oa(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(la(e));default:return null}}convertTimestamp(e){const t=Zi(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Or.fromString(e);hr(wl(n),9688,{name:e});const r=new da(n.get(1),n.get(3)),i=new Fr(n.popFirst(5));return r.isEqual(t)||or("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}class fh extends hh{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rd(this.firestore,null,t)}}function ph(){return new nh("serverTimestamp")}const mh="@firebase/firestore",gh="4.11.0";function vh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class yh{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Rd(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new bh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e,t;return null!==(e=null===(t=this._document)||void 0===t?void 0:t.data.clone().value.mapValue.fields)&&void 0!==e?e:void 0}get(e){if(this._document){const t=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class bh extends yh{data(){return super.data()}}function wh(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new mr(pr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Sh(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class kh extends yh{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(oh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mr(pr.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=kh._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),e&&e.isValidDocument()&&e.isFoundDocument()?(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t):t}}kh._jsonSchemaVersion="firestore/documentSnapshot/1.0",kh._jsonSchema={type:Wr("string",kh._jsonSchemaVersion),bundleSource:Wr("string","DocumentSnapshot"),bundleName:Wr("string"),bundle:Wr("string")};class Eh extends kh{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class _h{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xh(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Eh(this._firestore,this._userDataWriter,n.key,n,new xh(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mr(pr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Eh(e._firestore,e._userDataWriter,n.doc.key,n.doc,new xh(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Eh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:Th(t.type),doc:r,oldIndex:i,newIndex:a}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mr(pr.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_h._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tr.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],n=[],r=[];return this.docs.forEach(e=>{null!==e._document&&(t.push(e._document),n.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,"previous")),r.push(e.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Th(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ur(61501,{type:e})}}_h._jsonSchemaVersion="firestore/querySnapshot/1.0",_h._jsonSchema={type:Wr("string",_h._jsonSchemaVersion),bundleSource:Wr("string","QuerySnapshot"),bundleName:Wr("string"),bundle:Wr("string")};function Ch(e){e=Hr(e,Rd);const t=Hr(e.firestore,Vd);return function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new fd({next:o=>{a.Nu(),t.enqueueAndForget(()=>Cu(e,s));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new mr(pr.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new mr(pr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new Ru(hs(n.path),a,{includeMetadataChanges:!0,Ka:!0});return Tu(e,s)}(await Sd(e),e.asyncQueue,t,n,r)),r.promise}(Bd(t),e._key).then(n=>Dh(t,e,n))}function Ih(e){e=Hr(e,jd);const t=Hr(e.firestore,Vd),n=Bd(t),r=new fh(t);return wh(e._query),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new gr;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const a=new fd({next:n=>{a.Nu(),t.enqueueAndForget(()=>Cu(e,s)),n.fromCache&&"server"===r.source?i.reject(new mr(pr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new Ru(n,a,{includeMetadataChanges:!0,Ka:!0});return Tu(e,s)}(await Sd(e),e.asyncQueue,t,n,r)),r.promise}(n,e._query).then(n=>new _h(t,r,e,n))}function Nh(e,t,n){e=Hr(e,Rd);const r=Hr(e.firestore,Vd),i=Sh(e.converter,t,n);return Rh(r,[th(eh(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ro.none())])}function Ah(e){return Rh(Hr(e.firestore,Vd),[new vo(e._key,ro.none())])}function Ph(e,t){const n=Hr(e.firestore,Vd),r=Md(e),i=Sh(e.converter,t);return Rh(n,[th(eh(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function jh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e=q(e);let i={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof n[a]||vh(n[a])||(i=n[a++]);const s={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(vh(n[a])){var o,l,c;const e=n[a];n[a]=null===(o=e.next)||void 0===o?void 0:o.bind(e),n[a+1]=null===(l=e.error)||void 0===l?void 0:l.bind(e),n[a+2]=null===(c=e.complete)||void 0===c?void 0:c.bind(e)}let u,d,h;if(e instanceof Rd)d=Hr(e.firestore,Vd),h=hs(e._key.path),u={next:t=>{n[a]&&n[a](Dh(d,e,t))},error:n[a+1],complete:n[a+2]};else{const t=Hr(e,jd);d=Hr(t.firestore,Vd),h=t._query;const r=new fh(d);u={next:e=>{n[a]&&n[a](new _h(d,r,t,e))},error:n[a+1],complete:n[a+2]},wh(e._query)}return function(e,t,n,r){const i=new fd(r),a=new Ru(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Tu(await Sd(e),a)),()=>{i.Nu(),e.asyncQueue.enqueueAndForget(async()=>Cu(await Sd(e),a))}}(Bd(d),h,s,u)}function Rh(e,t){return xd(Bd(e),t)}function Dh(e,t,n){const r=n.docs.get(t._key),i=new fh(e);return new kh(e,i,t._key,r,new xh(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];rr=at,et(new H("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),s=new Vd(new wr(e.getProvider("auth-internal")),new Er(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mr(pr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new da(e.options.projectId,t)}(a,r),a);return i=c({useFetchStreams:t},i),s._setSettings(i),s},"PUBLIC").setMultipleInstances(!0)),lt(mh,gh,e),lt(mh,gh,"esm2020")}();const Oh=st({apiKey:"AIzaSyDCgl4dbGTJUH-0bsGsisO9KbWYoIN3KU4",authDomain:"herosiege-ef56f.firebaseapp.com",projectId:"herosiege-ef56f",storageBucket:"herosiege-ef56f.firebasestorage.app",messagingSenderId:"147989943940",appId:"1:147989943940:web:3b107b85598b7033fd94d1"}),Lh=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot();e=q(e);const t=tt(e,cn);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=tt(e,cn);if(n.isInitialized()){const e=n.getImmediate();if(O(t,n.getOptions()))return e;throw hn.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Oh),function(e,t){const n="object"==typeof e?e:ot(),r="string"==typeof e?e:t||ua,i=tt(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=v(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Pd(i,...e)}return i}(Oh)),Mh=Oh;var Fh=n(579);function zh(e){let{onBack:t}=e;const[n,i]=(0,r.useState)("home"),[a,s]=(0,r.useState)("cavaleiro"),o="",[l,u]=(0,r.useState)(0),d=(0,r.useMemo)(()=>[{name:"Viking",img:"".concat(o,"/images/viking.webp")},{name:"Pyromancer",img:"".concat(o,"/images/pyromancer.webp")},{name:"Marksman",img:"".concat(o,"/images/marksman.webp")},{name:"Necromancer",img:"".concat(o,"/images/necromancer.webp")},{name:"Samurai",img:"".concat(o,"/images/samurai.webp")},{name:"Paladin",img:"".concat(o,"/images/paladin.webp")}],[o]);(0,r.useEffect)(()=>{const e=setInterval(()=>{u(e=>(e+1)%d.length)},3e3);return()=>clearInterval(e)},[d.length]);const h=e=>{e.currentTarget.src="".concat(o,"/images/cavaleiro.webp"),e.currentTarget.onerror=null},f=()=>{const e=(e,t)=>(0,Fh.jsx)("button",{onClick:()=>i(t),style:p(n===t),children:e});return(0,Fh.jsx)("div",{style:{position:"sticky",top:0,zIndex:20,background:"#0b0e14",borderBottom:"1px solid #1f242d"},children:(0,Fh.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px"},children:[(0,Fh.jsx)("div",{style:{display:"flex",alignItems:"center",gap:12},children:(0,Fh.jsx)("img",{src:"".concat(o,"/images/herosiege.png"),alt:"Hero Siege Brasil",style:{height:36,objectFit:"contain"}})}),(0,Fh.jsxs)("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[t?(0,Fh.jsx)("button",{onClick:t,style:p(!1),title:"Voltar",children:"Voltar"}):null,e("Home","home"),e("Database","database"),e("Classes","classes"),e("Itens","itens"),e("Builder","builder"),e("Contatos","contatos")]})]})})},p=e=>({padding:"8px 12px",fontSize:12,textTransform:"uppercase",letterSpacing:".12em",fontWeight:700,border:"1px solid",borderColor:e?"#f97316":"rgba(255,255,255,.08)",color:e?"#fb923c":"#d1d5db",background:e?"rgba(249,115,22,.1)":"transparent",cursor:"pointer"});return(0,Fh.jsxs)("div",{style:{minHeight:"100vh",background:"#020305",color:"#e5e7eb"},children:[(0,Fh.jsx)(f,{}),(0,Fh.jsxs)("main",{style:{maxWidth:1200,margin:"0 auto",padding:16},children:["home"===n&&(0,Fh.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,Fh.jsx)("div",{style:{display:"grid",gap:12,borderBottom:"1px solid rgba(255,255,255,.08)",paddingBottom:16},children:(0,Fh.jsxs)("div",{style:{position:"relative",border:"1px solid rgba(255,255,255,.1)",background:"#0b0e14",padding:16,display:"grid",gap:8},children:[(0,Fh.jsx)("div",{style:{fontSize:28,fontWeight:900,color:"#fff",letterSpacing:"-.02em"},children:"Escolha seu her\xf3i"}),(0,Fh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,Fh.jsx)("button",{onClick:()=>u((l-1+d.length)%d.length),style:p(!1),children:"\u2039"}),(0,Fh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,Fh.jsx)("img",{src:d[l].img,alt:d[l].name,style:{width:140,height:140,objectFit:"contain"}}),(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:800},children:d[l].name})]}),(0,Fh.jsx)("button",{onClick:()=>u((l+1)%d.length),style:p(!1),children:"\u203a"})]})]})}),(0,Fh.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr",gap:16},children:[(0,Fh.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:900,color:"#fff"},children:"Tier List"}),(()=>{const e=["Necromancer","Pyromancer","Viking"],t=["Samurai","Paladin","Marksman","Nomad"],n=["Redneck","Pirate","Shield Lancer"],r=(e,t)=>(0,Fh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:12},children:[(0,Fh.jsx)("div",{style:{width:36,fontSize:18,fontWeight:900,color:"#ef4444"},children:e}),(0,Fh.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:t.map(e=>{const t=e.toLowerCase().replace(/\s+/g,"").replace(/\xf6/g,"o");return(0,Fh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:6,padding:"6px 8px",border:"1px solid rgba(255,255,255,.1)"},children:[(0,Fh.jsx)("img",{src:"".concat(o,"/images/").concat(t,".webp"),alt:e,style:{width:32,height:32,objectFit:"contain"}}),(0,Fh.jsx)("span",{style:{fontSize:12},children:e})]},e)})})]},e);return(0,Fh.jsxs)("div",{style:{display:"grid",gap:8,border:"1px solid rgba(255,255,255,.1)",padding:12,background:"#0b0e14"},children:[r("S",e),r("A",t),r("B",n)]})})(),(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:900,color:"#fff"},children:"\xdaltimas Not\xedcias"}),(0,Fh.jsx)(Bh,{})]}),(0,Fh.jsx)("div",{style:{display:"grid",gap:12},children:(0,Fh.jsxs)("div",{style:{border:"1px solid rgba(255,255,255,.1)",background:"#0b0e14",padding:12},children:[(0,Fh.jsx)("div",{style:{fontSize:14,fontWeight:800,marginBottom:8},children:"Atalhos"}),(0,Fh.jsxs)("div",{style:{display:"grid",gap:6},children:[(0,Fh.jsx)("button",{onClick:()=>i("classes"),style:p(!1),children:"Classes"}),(0,Fh.jsx)("button",{onClick:()=>i("database"),style:p(!1),children:"Database"}),(0,Fh.jsx)("button",{onClick:()=>i("builder"),style:p(!1),children:"Builder"}),(0,Fh.jsx)("button",{onClick:()=>i("contatos"),style:p(!1),children:"Contatos"})]})]})})]})]}),"database"===n&&(0,Fh.jsx)("div",{style:{display:"grid",gap:8},children:(0,Fh.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Fh.jsx)("button",{onClick:()=>i("mercenarios"),style:p(!1),children:"Mercen\xe1rios"}),(0,Fh.jsx)("button",{onClick:()=>i("chaostower"),style:p(!1),children:"Chaos Tower"})]})}),"classes"===n&&(0,Fh.jsxs)("div",{style:{display:"grid",gap:12},children:[(0,Fh.jsx)("div",{style:{fontSize:28,fontWeight:900,color:"#fff"},children:"Classes"}),(0,Fh.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(6, minmax(0, 1fr))",gap:12},children:["Viking","Pyromancer","Marksman","Pirate","Nomad","Redneck","Necromancer","Samurai","Paladin","Amazon","Demon Slayer","Demonspawn","Shaman","White Mage","Marauder","Plague Doctor","Shield Lancer","J\xf6tunn","Illusionist","Exo","Butcher","Stormweaver","Bard"].map(e=>{const t=e.toLowerCase().replace(/\s+/g,"").replace(/\xf6/g,"o");return(0,Fh.jsxs)("div",{style:{border:"1px solid rgba(255,255,255,.1)",background:"#0b0e14",padding:12,display:"grid",gap:8,textAlign:"center"},children:[(0,Fh.jsx)("img",{src:"".concat(o,"/images/").concat(t,".webp"),alt:e,style:{width:80,height:80,objectFit:"contain",margin:"0 auto"}}),(0,Fh.jsx)("div",{style:{fontSize:12},children:e})]},e)})})]}),"itens"===n&&(0,Fh.jsx)("div",{style:{color:"#9ca3af"},children:"Itens em breve."}),"builder"===n&&(0,Fh.jsx)("div",{style:{color:"#9ca3af"},children:"Builder em breve."}),"contatos"===n&&(0,Fh.jsx)("div",{style:{color:"#9ca3af"},children:"Contatos em breve."}),"mercenarios"===n&&(0,Fh.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,Fh.jsx)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",paddingBottom:16,borderBottom:"1px solid rgba(255,255,255,.08)"},children:(0,Fh.jsxs)("h2",{style:{fontSize:36,fontWeight:900,textTransform:"uppercase",letterSpacing:"-.02em"},children:["DataBase ",(0,Fh.jsx)("span",{style:{color:"#ef4444"},children:"Mercen\xe1rios"})]})}),(0,Fh.jsxs)("div",{style:{background:"#0b0e14",border:"1px solid #1f242d",padding:16,display:"grid",gap:16},children:[(0,Fh.jsxs)("div",{style:{display:"flex",gap:8,justifyContent:"center"},children:[(0,Fh.jsx)("img",{src:"".concat(o,"/images/cavaleiro.webp"),alt:"Cavaleiro",style:{width:96,height:96,objectFit:"contain"}}),(0,Fh.jsx)("img",{src:"".concat(o,"/images/arqueiro.webp"),alt:"Arqueiro",style:{width:96,height:96,objectFit:"contain"}}),(0,Fh.jsx)("img",{src:"".concat(o,"/images/magister.webp"),alt:"Magister",style:{width:96,height:96,objectFit:"contain"}})]}),(0,Fh.jsxs)("div",{style:{fontSize:14,lineHeight:1.6,display:"grid",gap:8},children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("strong",{style:{color:"#fff"},children:"Mercen\xe1rios"})," s\xe3o NPCs que um jogador pode contratar para lutar ao seu lado e fornecer ajuda."]}),(0,Fh.jsx)("div",{children:"Os mercen\xe1rios podem ser equipados com capacetes, armas, armaduras e escudos. Eles t\xeam suas pr\xf3prias \xe1rvores de habilidades nas quais o jogador pode investir pontos, assim como na \xe1rvore de habilidades do pr\xf3prio jogador."}),(0,Fh.jsxs)("div",{children:["Existem tr\xeas tipos de mercen\xe1rios que um jogador pode contratar de ",(0,Fh.jsx)("span",{style:{color:"#fb923c",fontWeight:700},children:"Gar Nor"}),", perto dos bonecos de treino."]}),(0,Fh.jsxs)("ul",{style:{margin:0,paddingLeft:18},children:[(0,Fh.jsxs)("li",{children:[(0,Fh.jsx)("strong",{style:{color:"#fff"},children:"Cavaleiro"})," \u2014 um mercen\xe1rio de combate corpo a corpo que pode ser encontrado na cidade de Inoya, no Ato 1."]}),(0,Fh.jsxs)("li",{children:[(0,Fh.jsx)("strong",{style:{color:"#fff"},children:"Arqueiro"})," \u2014 um mercen\xe1rio de ataque \xe0 dist\xe2ncia que pode ser encontrado na vila de Mos'Arathim, no Ato 3."]}),(0,Fh.jsxs)("li",{children:[(0,Fh.jsx)("strong",{style:{color:"#fff"},children:"Magister"})," \u2014 um Mago Mercen\xe1rio que pode ser encontrado na Capela da Aurora, no Ato 6."]})]}),(0,Fh.jsx)("div",{children:"O jogador s\xf3 pode ter um tipo de mercen\xe1rio ativo por vez."})]}),(0,Fh.jsxs)("div",{style:{display:"flex",gap:8},children:[(0,Fh.jsx)("button",{onClick:()=>s("cavaleiro"),style:Uh("cavaleiro"===a),children:"Cavaleiro"}),(0,Fh.jsx)("button",{onClick:()=>s("arqueiro"),style:Uh("arqueiro"===a),children:"Arqueiro"}),(0,Fh.jsx)("button",{onClick:()=>s("magister"),style:Uh("magister"===a),children:"Magister"})]}),"cavaleiro"===a&&(0,Fh.jsx)("div",{style:{overflowX:"auto",border:"1px solid rgba(255,255,255,.08)"},children:(0,Fh.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Fh.jsx)("thead",{children:(0,Fh.jsxs)("tr",{style:{background:"rgba(0,0,0,.4)",borderBottom:"1px solid rgba(255,255,255,.08)"},children:[(0,Fh.jsx)("th",{style:Vh(80),children:"\xcdcone"}),(0,Fh.jsx)("th",{style:Vh(220),children:"Nome"}),(0,Fh.jsx)("th",{style:Vh(160),children:"Tipo"}),(0,Fh.jsx)("th",{style:Vh(),children:"Descri\xe7\xe3o"})]})}),(0,Fh.jsx)("tbody",{children:[{icon:"https://static.wikia.nocookie.net/herosiege/images/2/26/Warriors_might.png/revision/latest?cb=20221014020502",name:"Warrior's Might",type:"Passive",desc:"Increases the Mercenary's Strength"},{icon:"https://static.wikia.nocookie.net/herosiege/images/8/82/Defenses.png/revision/latest?cb=20221014020725",name:"Defenses",type:"Passive",desc:"Increases the Mercenary's Armor"},{icon:"https://static.wikia.nocookie.net/herosiege/images/1/1e/Charge_strike.png/revision/latest?cb=20221014020725",name:"Charge Strike",type:"Physical / Active",desc:"The Mercenary charges into the closest enemy, stunning and damaging all enemies around"},{icon:"https://static.wikia.nocookie.net/herosiege/images/8/8e/Fatal_strike.png/revision/latest?cb=20221014020939",name:"Fatal Strike",type:"Passive",desc:"Increases the Mercenary's critical attack damage"},{icon:"https://static.wikia.nocookie.net/herosiege/images/5/52/Spiked_armor.png/revision/latest?cb=20221014020940",name:"Spiked Armor",type:"Passive",desc:"Increases damage return from enemy attacks"},{icon:"https://static.wikia.nocookie.net/herosiege/images/c/cc/Taunt.png/revision/latest?cb=20221014020940",name:"Taunt",type:"Active",desc:"The Mercenary taunts nearby enemies"},{icon:"https://static.wikia.nocookie.net/herosiege/images/4/49/Stacked_rage.png/revision/latest?cb=20221014020940",name:"Stacked Rage",type:"Physical / Passive",desc:"Each attack generates a stack of rage. At full stacks, unleash a powerful AOE that damages and breaks enemy armor"},{icon:"https://static.wikia.nocookie.net/herosiege/images/a/a7/Sword_grip.png/revision/latest?cb=20221014020940",name:"Sword Grip",type:"Passive",desc:"Increases melee attack damage"},{icon:"https://static.wikia.nocookie.net/herosiege/images/d/d6/Plated_armor.png/revision/latest?cb=20221014020725",name:"Plated Armor",type:"Passive",desc:"Increases damage reduction from all sources"},{icon:"https://static.wikia.nocookie.net/herosiege/images/f/f3/Stacked_pain.png/revision/latest?cb=20221014020940",name:"Stacked Pain",type:"Physical / Passive",desc:"Incoming attacks generate stacks of pain. At full stacks, release an AOE pulse that damages, knocks back and slows enemies"},{icon:"https://static.wikia.nocookie.net/herosiege/images/2/2b/Hulking_rage.png/revision/latest?cb=20221014020939",name:"Hulking Rage",type:"Passive",desc:"Increases life per hit from melee attacks"},{icon:"https://static.wikia.nocookie.net/herosiege/images/1/11/Aura_expert.png/revision/latest?cb=20221014020113",name:"Aura Expert",type:"Passive",desc:"Increases the value of the Mercenary's aura"},{icon:"https://static.wikia.nocookie.net/herosiege/images/0/0f/Evasive_tactics.png/revision/latest?cb=20221014020725",name:"Evasive Tactics",type:"Passive",desc:"Increases the Mercenary's Dodge chance"},{icon:"https://static.wikia.nocookie.net/herosiege/images/9/91/Commanders_heart.png/revision/latest?cb=20221014020725",name:"Commander's Heart",type:"Passive",desc:"Increases health regeneration the lower the Mercenary health is"},{icon:"https://static.wikia.nocookie.net/herosiege/images/3/39/Blessed_strike.png/revision/latest?cb=20221014020725",name:"Blessed Strike",type:"Physical / Active",desc:"The Mercenary unleashes a powerful long ranged attack"},{icon:"https://static.wikia.nocookie.net/herosiege/images/0/0c/Brutal_bash.png/revision/latest?cb=20221014020725",name:"Brutal Bash",type:"Physical / Passive",desc:"The Mercenary has a chance on attack to deal additional damage, knock back enemies and slow them"},{icon:"https://static.wikia.nocookie.net/herosiege/images/3/32/Backlash.png/revision/latest?cb=20221014020725",name:"Backlash",type:"Physical / Passive",desc:"Enemies have a chance to get stunned when attacking the Mercenary"},{icon:"https://static.wikia.nocookie.net/herosiege/images/0/00/Protecting_charge.png/revision/latest?cb=20221014020939",name:"Protecting Charge",type:"Physical / Active",desc:"The Mercenary detects enemies who attack the player, charging into them and taunting all enemies nearby"}].map((e,t)=>(0,Fh.jsxs)("tr",{style:{background:t%2===0?"rgba(255,255,255,.02)":"rgba(255,255,255,.05)",borderBottom:"1px solid rgba(255,255,255,.05)"},children:[(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:(0,Fh.jsx)("img",{src:e.icon,alt:e.name,style:{width:32,height:32,objectFit:"contain"},onError:h})}),(0,Fh.jsx)("td",{style:c(c({},{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"}),{},{fontWeight:600,color:"#fff"}),children:e.name}),(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.type}),(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.desc||"\u2014"})]},e.name))})]})}),"arqueiro"===a&&(0,Fh.jsx)("div",{style:{padding:16,border:"1px dashed rgba(255,255,255,.2)",color:"#9ca3af",fontSize:14},children:"Conte\xfado do Arqueiro em prepara\xe7\xe3o."}),"magister"===a&&(0,Fh.jsx)("div",{style:{padding:16,border:"1px dashed rgba(255,255,255,.2)",color:"#9ca3af",fontSize:14},children:"Conte\xfado do Magister em prepara\xe7\xe3o."})]})]}),"chaostower"===n&&(0,Fh.jsxs)("div",{style:{display:"grid",gap:16},children:[(0,Fh.jsx)("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",paddingBottom:16,borderBottom:"1px solid rgba(255,255,255,.08)"},children:(0,Fh.jsxs)("h2",{style:{fontSize:36,fontWeight:900,textTransform:"uppercase",letterSpacing:"-.02em"},children:["DataBase ",(0,Fh.jsx)("span",{style:{color:"#ef4444"},children:"Chaos Tower"})]})}),(0,Fh.jsxs)("div",{style:{background:"#0b0e14",border:"1px solid #1f242d",padding:16,display:"grid",gap:16},children:[(0,Fh.jsx)("div",{style:{border:"1px solid rgba(255,255,255,.08)",overflow:"hidden"},children:(0,Fh.jsx)("img",{src:"".concat(o,"/images/ct1.webp"),alt:"Chaos Tower",style:{width:"100%",maxHeight:280,objectFit:"cover"}})}),(0,Fh.jsxs)("div",{style:{display:"grid",gap:12,fontSize:14,lineHeight:1.6,color:"#d1d5db"},children:[(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:900,color:"#fff"},children:"Como Acessar"}),(0,Fh.jsx)("div",{children:"Torres do Caos podem ser encontradas vagando por qualquer ato em Tarethiel. Ao se aproximar, ela se abaixa, permitindo que voc\xea entre."}),(0,Fh.jsxs)("ul",{style:{margin:0,paddingLeft:18},children:[(0,Fh.jsx)("li",{children:"Cada mapa tem 10% de chance de gerar uma Chaos Tower."}),(0,Fh.jsx)("li",{children:"Cada mapa totalmente limpo aumenta a chance de gera\xe7\xe3o em 1% at\xe9 que o lobby seja reiniciado."})]})]}),(0,Fh.jsxs)("div",{style:{display:"grid",gap:12,fontSize:14,lineHeight:1.6,color:"#d1d5db"},children:[(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:900,color:"#fff"},children:"Mec\xe2nicas"}),(0,Fh.jsx)("div",{children:"Acesse a torre conversando com o Mestre da Torre e suba as escadas. Enfrente as ondas de monstros e suba at\xe9 o topo da torre."}),(0,Fh.jsx)("div",{children:"No total s\xe3o 10 andares: 8 com ondas de monstros e 2 com mini-chefes. Ao finalizar todos os andares, voc\xea ser\xe1 enviado de volta \xe0 cidade de Inoya."}),(0,Fh.jsx)("div",{children:"Cada andar aumenta o n\xedvel dos monstros em 2, elevando a dificuldade. Qualquer morte dentro da torre apaga seu progresso."}),(0,Fh.jsx)("div",{children:"Ap\xf3s completar 10 torres, ao entrar na 11\xaa voc\xea ser\xe1 levado ao Coliseu do Rei Rakhul. Ative as placas de press\xe3o em cada lado da entrada e acesse a c\xe2mara do chefe. Voc\xea ver\xe1 uma curta cena enquanto os port\xf5es se abrem; ondas de inimigos vir\xe3o de ambos os lados. O Rei Rakhul salta para a arena quando todos os inimigos forem derrotados. Derrote-o para ter chance de saques da sua tabela espec\xedfica."}),(0,Fh.jsx)("div",{children:"Para resetar sua contagem de torres, reivindique a recompensa com o Mestre da Torre antes de entrar novamente. N\xe3o reivindique antes de derrotar o Rei Rakhul se esse for o seu objetivo."}),(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("strong",{children:"Observa\xe7\xe3o:"})," Na dificuldade Nightmare s\xe3o 5 andares no total, onde o 4\xba e 5\xba s\xe3o mini-chefes. Voc\xea n\xe3o enfrentar\xe1 o Rei Rakhul ap\xf3s 10 Chaos Towers no Nightmare."]}),(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("strong",{children:"Observa\xe7\xe3o:"})," Chaos Tower n\xe3o \xe9 afetada pelo controle deslizante de dificuldade."]})]}),(0,Fh.jsxs)("div",{style:{display:"grid",gap:8},children:[(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:900,color:"#fff"},children:"Recompensas do Ba\xfa da Chaos Tower"}),(0,Fh.jsxs)("div",{style:{color:"#d1d5db",fontSize:14},children:[(0,Fh.jsx)("div",{children:(0,Fh.jsx)("strong",{children:"Garantido:"})}),(0,Fh.jsxs)("ul",{style:{margin:0,paddingLeft:18},children:[(0,Fh.jsx)("li",{children:"5000 Rubis / torre conclu\xedda"}),(0,Fh.jsx)("li",{children:"6000 Ouro / torre conclu\xedda"})]}),(0,Fh.jsx)("div",{style:{marginTop:8},children:(0,Fh.jsx)("strong",{children:"Adicionalmente (uma das tr\xeas com mesma probabilidade):"})}),(0,Fh.jsxs)("ul",{style:{margin:0,paddingLeft:18},children:[(0,Fh.jsx)("li",{children:"1250 Rubis, atualizado para 2250 Rubis se ao menos um chefe foi morto"}),(0,Fh.jsx)("li",{children:"1 Token (+1 Token por chefe morto)"}),(0,Fh.jsx)("li",{children:"1 Uber Frag (+1 Uber Frag por chefe morto)"})]})]})]}),(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:900,color:"#fff",marginBottom:8},children:"Escalonamento do Ba\xfa de Recompensas"}),(0,Fh.jsx)("div",{style:{overflowX:"auto",border:"1px solid rgba(255,255,255,.08)"},children:(0,Fh.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Fh.jsx)("thead",{children:(0,Fh.jsxs)("tr",{style:{background:"rgba(0,0,0,.4)",borderBottom:"1px solid rgba(255,255,255,.08)"},children:[(0,Fh.jsx)("th",{style:Vh(120),children:"Kills do Rakhul"}),(0,Fh.jsx)("th",{style:Vh(160),children:"Torres Conclu\xeddas"}),(0,Fh.jsx)("th",{style:Vh(220),children:"Recompensa (Runas)"}),(0,Fh.jsx)("th",{style:Vh(260),children:"Recompensa (Itens)"}),(0,Fh.jsx)("th",{style:Vh(260),children:"Recompensa (Chaves)"})]})}),(0,Fh.jsx)("tbody",{children:[{kills:"0",towers:"10 ou menos",runes:"1x Runa Normal",items:"1x B-Tier OU 1x A-Tier",keys:"Nenhuma"},{kills:"1",towers:"11\u201320",runes:"2x Runas Normais",items:"1x B-Tier OU 1x A-Tier (10% chance Heroic espec\xedfico da CT)",keys:"1x Chave de Masmorra"},{kills:"2",towers:"21\u201330",runes:"1x Runa Nightmare",items:"1x B-Tier OU 1x A-Tier (15% Heroic espec\xedfico da CT)",keys:"2x Chave de Masmorra"},{kills:"3",towers:"31\u201340",runes:"2x Runas Nightmare",items:"1x B-Tier OU 1x A-Tier (20% Heroic espec\xedfico da CT)",keys:"2x Chave de Masmorra"},{kills:"4",towers:"41\u201350",runes:"2x Nightmare OU 1x Hell",items:"1x B-Tier OU 1x A-Tier (25% Heroic espec\xedfico da CT)",keys:"3x Chave de Masmorra"},{kills:"5",towers:"51\u201360",runes:"3x Nightmare OU 2x Hell",items:"1x B-Tier OU 1x A-Tier OU 1x S-Tier (30% Heroic espec\xedfico da CT)",keys:"3x Chave de Masmorra OU 3x Fragmento Dimensional"},{kills:"6",towers:"61\u201370",runes:"2x Hell",items:"1x B/A/S-Tier (35% Heroic espec\xedfico da CT)",keys:"4x Chave de Masmorra OU 5x Fragmento Dimensional OU 1x Chave de Nuvem"},{kills:"7",towers:"71\u201380",runes:"3x Hell OU 1x High",items:"1x A-Tier OU 1x S-Tier (40% Heroic espec\xedfico da CT)",keys:"5x Chave de Masmorra OU 8x Fragmento Dimensional OU 2x Chave de Nuvem"},{kills:"8",towers:"81\u201390",runes:"4x Hell OU 2x High",items:"1x A-Tier OU 1x S-Tier (45% Heroic espec\xedfico da CT)",keys:"5x Chave de Masmorra OU 10x Fragmento Dimensional OU 2x Chave de Nuvem OU 1x Chave de Rubi"},{kills:"9",towers:"91\u2013100",runes:"2x High",items:"1x S-Tier OU 1x Item de Conjunto de Chefe OU 1x Item de Chefe Uber (50% Heroic espec\xedfico da CT)",keys:"6x Chave de Masmorra OU 10x Fragmento Dimensional OU 3x Chave de Nuvem OU 1x Chave de Rubi OU Chave Ang\xe9lica"},{kills:"10",towers:"101 ou mais",runes:"3x High",items:"1x Item de Conjunto de Chefe OU 1x Item de Chefe Uber OU 1x Item Raro (Chase) (55% Heroic espec\xedfico da CT)",keys:"7x Chave de Masmorra OU 15x Fragmento Dimensional OU 3x Chave de Nuvem OU 1x Chave de Rubi OU Chave Ang\xe9lica"}].map((e,t)=>(0,Fh.jsxs)("tr",{style:{background:t%2===0?"rgba(255,255,255,.02)":"rgba(255,255,255,.05)",borderBottom:"1px solid rgba(255,255,255,.05)"},children:[(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.kills}),(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.towers}),(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.runes}),(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.items}),(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.keys})]},t))})]})})]}),(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{style:{fontSize:20,fontWeight:900,color:"#fff",marginBottom:8},children:"Escalonamento da Chaos Tower"}),(0,Fh.jsxs)("div",{style:{display:"grid",gap:8,color:"#d1d5db",fontSize:14},children:[(0,Fh.jsx)("div",{children:"Cada andar limpo dentro de uma Chaos Tower aumenta o n\xedvel do monstro. Marcos:"}),(0,Fh.jsx)("div",{style:{overflowX:"auto",border:"1px solid rgba(255,255,255,.08)"},children:(0,Fh.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Fh.jsx)("thead",{children:(0,Fh.jsxs)("tr",{style:{background:"rgba(0,0,0,.4)",borderBottom:"1px solid rgba(255,255,255,.08)"},children:[(0,Fh.jsx)("th",{style:Vh(200),children:"Torres Conclu\xeddas"}),(0,Fh.jsx)("th",{style:Vh(200),children:"N\xedvel dos Monstros"})]})}),(0,Fh.jsx)("tbody",{children:[{t:"1",lvl:"215"},{t:"10",lvl:"530"},{t:"20",lvl:"880"},{t:"30",lvl:"1230"},{t:"40",lvl:"1580"},{t:"50",lvl:"1930"},{t:"60",lvl:"2280"},{t:"70",lvl:"2630"},{t:"80",lvl:"2980"},{t:"90",lvl:"3330"},{t:"100",lvl:"3680"}].map((e,t)=>(0,Fh.jsxs)("tr",{style:{background:t%2===0?"rgba(255,255,255,.02)":"rgba(255,255,255,.05)",borderBottom:"1px solid rgba(255,255,255,.05)"},children:[(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.t}),(0,Fh.jsx)("td",{style:{padding:"10px",fontSize:14,color:"#d1d5db",verticalAlign:"top"},children:e.lvl})]},t))})]})}),(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("strong",{children:"Observa\xe7\xe3o:"})," O Rei Rakhul aparece com +75 n\xedveis de monstro em rela\xe7\xe3o aos valores listados."]})]})]})]})]})]})]})}function Uh(e){return{padding:"6px 10px",fontSize:11,textTransform:"uppercase",letterSpacing:".14em",fontWeight:800,border:"1px solid",borderColor:e?"#f97316":"rgba(255,255,255,.1)",color:e?"#fb923c":"#d1d5db",background:e?"rgba(249,115,22,.08)":"transparent",cursor:"pointer"}}function Vh(e){return{padding:"8px 10px",fontSize:10,textTransform:"uppercase",letterSpacing:".16em",color:"#9ca3af",fontWeight:800,textAlign:"left",width:e||"auto"}}function Bh(){const[e,t]=r.useState([]);return r.useEffect(()=>{(async()=>{try{const e=await fetch("/blog/index.html",{cache:"no-cache"}),n=await e.text(),r=(new DOMParser).parseFromString(n,"text/html"),i=Array.from(r.querySelectorAll('a[href$=".html"]')).filter(e=>!/\/blog\/index\.html$/.test(e.getAttribute("href")||"")).slice(0,6).map(e=>({href:e.getAttribute("href")||"#",title:(e.textContent||"").trim()||(e.getAttribute("href")||"").split("/").pop()}));t(i)}catch(e){t([])}})()},[]),e.length?(0,Fh.jsx)("div",{style:{display:"grid",gap:8},children:e.map(e=>(0,Fh.jsx)("a",{href:e.href,style:{display:"block",padding:"8px 10px",border:"1px solid rgba(255,255,255,.1)",background:"#0b0e14",color:"#e5e7eb",textDecoration:"none"},children:e.title},e.href))}):(0,Fh.jsx)("div",{style:{color:"#9ca3af"},children:"Sem not\xedcias dispon\xedveis."})}function qh(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}const Hh=["providerId"],Wh=["uid","auth","stsTokenManager"],Kh=["providerId","signInMethod"];function Gh(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Qh=Gh,Yh=new R("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),$h=new ee("@firebase/auth");function Jh(e){if($h.logLevel<=Y.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$h.error("Auth (".concat(at,"): ").concat(e),...n)}}function Xh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw nf(e,...n)}function Zh(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return nf(e,...n)}function ef(e,t,n){const r=c(c({},Qh()),{},{[t]:n});return new R("auth","Firebase",r).create(t,{appName:e.name})}function tf(e){return ef(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function nf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Yh.create(e,...n)}function rf(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw nf(t,...r)}}function af(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Jh(t),new Error(t)}function sf(e,t){e||af(t)}function of(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function lf(){return"http:"===cf()||"https:"===cf()}function cf(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class uf{constructor(e,t){this.shortDelay=e,this.longDelay=t,sf(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(T())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(lf()||I()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function df(e,t){sf(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class hf{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void af("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void af("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void af("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ff={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pf=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],mf=new uf(3e4,6e4);function gf(e,t){return e.tenantId&&!t.tenantId?c(c({},t),{},{tenantId:e.tenantId}):t}async function vf(e,t,n,r){return yf(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const s=M(c({key:e.config.apiKey},a)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=c({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&S(e.emulatorConfig.host)&&(l.credentials="include"),hf.fetch()(await wf(e,e.config.apiHost,n,s),l)})}async function yf(e,t,n){e._canInitEmulator=!1;const r=c(c({},ff),t);try{const t=new xf(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw kf(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw kf(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw kf(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw kf(e,"user-disabled",a);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw ef(e,o,s);Xh(e,o)}}catch(i){if(i instanceof j)throw i;Xh(e,"network-request-failed",{message:String(i)})}}async function bf(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await vf(e,t,n,r,i);return"mfaPendingCredential"in a&&Xh(e,"multi-factor-auth-required",{_serverResponse:a}),a}async function wf(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r),a=e,s=a.config.emulator?df(e.config,i):"".concat(e.config.apiScheme,"://").concat(i);if(pf.includes(n)&&(await a._persistenceManagerAvailable,"COOKIE"===a._getPersistenceType())){return a._getPersistence()._getFinalTarget(s).toString()}return s}function Sf(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class xf{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Zh(this.auth,"network-request-failed")),mf.get())})}}function kf(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Zh(e,t,r);return i.customData._tokenResponse=n,i}function Ef(e){return void 0!==e&&void 0!==e.enterprise}class _f{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Sf(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Tf(e,t){return vf(e,"GET","/v2/recaptchaConfig",gf(e,t))}async function Cf(e,t){return vf(e,"POST","/v1/accounts:lookup",t)}function If(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function Nf(e){return 1e3*Number(e)}function Af(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Jh("JWT malformed, contained fewer than 3 sections"),null;try{const e=p(n);return e?JSON.parse(e):(Jh("Failed to decode base64 JWT payload"),null)}catch(i){return Jh("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function Pf(e){const t=Af(e);return rf(t,"internal-error"),rf("undefined"!==typeof t.exp,"internal-error"),rf("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function jf(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof j&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class Rf{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{var t;this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Df{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=If(this.lastLoginAt),this.creationTime=If(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Of(e){var t;const n=e.auth,r=await e.getIdToken(),i=await jf(e,Cf(n,{idToken:r}));rf(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const s=null!==(t=a.providerUserInfo)&&void 0!==t&&t.length?Lf(a.providerUserInfo):[],o=(l=e.providerData,c=s,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null!==o&&void 0!==o&&o.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new Df(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Lf(e){return e.map(e=>{let{providerId:t}=e,n=qh(e,Hh);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class Mf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rf(e.idToken,"internal-error"),rf("undefined"!==typeof e.idToken,"internal-error"),rf("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Pf(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rf(0!==e.length,"internal-error");const t=Pf(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(rf(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await yf(e,{},async()=>{const n=M({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await wf(e,r,"/v1/token","key=".concat(i)),s=await e._getAdditionalHeaders();s["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:s,body:n};return e.emulatorConfig&&S(e.emulatorConfig.host)&&(o.credentials="include"),hf.fetch()(a,o)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new Mf;return n&&(rf("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(rf("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(rf("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mf,this.toJSON())}_performRefresh(){return af("not implemented")}}function Ff(e,t){rf("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class zf{constructor(e){let{uid:t,auth:n,stsTokenManager:r}=e,i=qh(e,Wh);this.providerId="firebase",this.proactiveRefresh=new Rf(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Df(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await jf(this,this.stsTokenManager.getToken(this.auth,e));return rf(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=q(e),r=await n.getIdToken(t),i=Af(r);rf(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,s=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:If(Nf(i.auth_time)),issuedAtTime:If(Nf(i.iat)),expirationTime:If(Nf(i.exp)),signInProvider:s||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=q(e);await Of(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(rf(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>c({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zf(c(c({},this),{},{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){rf(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Of(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(nt(this.auth.app))return Promise.reject(tf(this.auth));const e=await this.getIdToken();return await jf(this,async function(e,t){return vf(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return c(c({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>c({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{},{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,s,o,l,u;const d=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(a=t.photoURL)&&void 0!==a?a:void 0,m=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,v=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:b,emailVerified:w,isAnonymous:S,providerData:x,stsTokenManager:k}=t;rf(b&&k,e,"internal-error");const E=Mf.fromJSON(this.name,k);rf("string"===typeof b,e,"internal-error"),Ff(d,e.name),Ff(h,e.name),rf("boolean"===typeof w,e,"internal-error"),rf("boolean"===typeof S,e,"internal-error"),Ff(f,e.name),Ff(p,e.name),Ff(m,e.name),Ff(g,e.name),Ff(v,e.name),Ff(y,e.name);const _=new zf({uid:b,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:S,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:E,createdAt:v,lastLoginAt:y});return x&&Array.isArray(x)&&(_.providerData=x.map(e=>c({},e))),g&&(_._redirectEventId=g),_}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Mf;r.updateFromServerResponse(t);const i=new zf({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Of(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];rf(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Lf(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length),s=new Mf;s.updateFromIdToken(n);const o=new zf({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Df(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null!==i&&void 0!==i&&i.length)};return Object.assign(o,l),o}}const Uf=new Map;function Vf(e){sf(e instanceof Function,"Expected a class definition");let t=Uf.get(e);return t?(sf(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Uf.set(e,t),t)}class Bf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bf.type="NONE";const qf=Bf;function Hf(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class Wf{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Hf(this.userKey,r.apiKey,i),this.fullPersistenceKey=Hf("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Cf(this.auth,{idToken:e}).catch(()=>{});return t?zf._fromGetAccountInfoResponse(this.auth,t,e):null}return zf._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Wf(Vf(qf),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||Vf(qf);const a=Hf(n,e.config.apiKey,e.name);let s=null;for(const c of t)try{const t=await c._get(a);if(t){let n;if("string"===typeof t){const r=await Cf(e,{idToken:t}).catch(()=>{});if(!r)break;n=await zf._fromGetAccountInfoResponse(e,r,t)}else n=zf._fromJSON(e,t);c!==i&&(s=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],s&&await i._set(a,s.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(a)}catch(t){}})),new Wf(i,e,n)):new Wf(i,e,n)}}function Kf(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($f(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Gf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Xf(t))return"Blackberry";if(Zf(t))return"Webos";if(Qf(t))return"Safari";if((t.includes("chrome/")||Yf(t))&&!t.includes("edge/"))return"Chrome";if(Jf(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Gf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/firefox\//i.test(e)}function Qf(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:T()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/crios\//i.test(e)}function $f(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/iemobile/i.test(e)}function Jf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/android/i.test(e)}function Xf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/blackberry/i.test(e)}function Zf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/webos/i.test(e)}function ep(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function tp(){return function(){const e=T();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function np(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T();return ep(e)||Jf(e)||Zf(e)||Xf(e)||/windows phone/i.test(e)||$f(e)}function rp(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Kf(T());break;case"Worker":t="".concat(Kf(T()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(at,"/").concat(r)}class ip{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class ap{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(n=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==n?n:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,s;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(a=o.containsNumericCharacter)||void 0===a||a),o.isValid&&(o.isValid=null===(s=o.containsNonAlphanumericCharacter)||void 0===s||s),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class sp{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lp(this),this.idTokenSubscription=new lp(this),this.beforeStateQueue=new ip(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yh,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Vf(t)),this._initializationPromise=this.queue(async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await Wf.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null!==(r=this._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(a){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Cf(this,{idToken:e}),n=await zf._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(nt(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let n=t,r=!1;if(e&&this.config.authDomain){var i,a;await this.getOrInitRedirectPersistenceManager();const t=null===(i=this.redirectUser)||void 0===i?void 0:i._redirectEventId,s=null===(a=n)||void 0===a?void 0:a._redirectEventId,o=await this.tryRedirectSignIn(e);t&&t!==s||null===o||void 0===o||!o.user||(n=o.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(s){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return rf(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Of(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(nt(this.app))return Promise.reject(tf(this));const t=e?q(e):null;return t&&rf(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&rf(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return nt(this.app)?Promise.reject(tf(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return nt(this.app)?Promise.reject(tf(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Vf(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return vf(e,"GET","/v2/passwordPolicy",gf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new ap(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new R("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return vf(e,"POST","/v2/accounts:revokeToken",gf(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Vf(e)||this._popupRedirectResolver;rf(t,this,"argument-error"),this.redirectPersistenceManager=await Wf.create(this,[Vf(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(rf(s,this,"internal-error"),s.then(()=>{a||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rf(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(nt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return null!==t&&void 0!==t&&t.error&&function(e){if($h.logLevel<=Y.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];$h.warn("Auth (".concat(at,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function op(e){return q(e)}class lp{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new U(e,t);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return rf(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let cp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function up(e){return cp.loadJS(e)}function dp(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class hp{constructor(){this.enterprise=new fp}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class fp{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const pp="NO_RECAPTCHA";class mp{constructor(e){this.type="recaptcha-enterprise",this.auth=op(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Ef(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(pp)})}):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new hp).execute("siteKey",{action:"verify"})}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Tf(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new _f(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&Ef(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=cp.recaptchaEnterpriseScript;0!==t.length&&(t+=i),up(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function gp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new mp(e);let s;if(i)s=pp;else try{s=await a.verify(n)}catch(l){s=await a.verify(n,!0)}const o=c({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function vp(e,t,n,r,i){if("EMAIL_PASSWORD_PROVIDER"===i){var a;if(null!==(a=e._getRecaptchaConfig())&&void 0!==a&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await gp(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await gp(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}if("PHONE_PROVIDER"===i){var s;if(null!==(s=e._getRecaptchaConfig())&&void 0!==s&&s.isProviderEnabled("PHONE_PROVIDER")){const i=await gp(e,t,n);return r(e,i).catch(async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await gp(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)})}{const i=await gp(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function yp(e){const t=op(e),n=await Tf(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _f(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new mp(t).verify()}}function bp(e,t,n){const r=op(e);rf(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!(null===n||void 0===n||!n.disableWarnings),a=wp(t),{host:s,port:o}=function(e){const t=wp(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Sp(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Sp(t)}}}(t),l=null===o?"":":".concat(o),c={url:"".concat(a,"//").concat(s).concat(l,"/")},u=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return rf(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void rf(O(c,r.config.emulator)&&O(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,S(s)?(x("".concat(a,"//").concat(s).concat(l)),_("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function wp(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Sp(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return af("not implemented")}_getIdTokenResponse(e){return af("not implemented")}_linkToIdToken(e,t){return af("not implemented")}_getReauthenticationResolver(e){return af("not implemented")}}async function kp(e,t){return vf(e,"POST","/v1/accounts:signUp",t)}async function Ep(e,t){return bf(e,"POST","/v1/accounts:signInWithPassword",gf(e,t))}class _p extends xp{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new _p(e,t,"password")}static _fromEmailAndCode(e,t){return new _p(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if(null!==t&&void 0!==t&&t.email&&null!==t&&void 0!==t&&t.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return vp(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ep,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return bf(e,"POST","/v1/accounts:signInWithEmailLink",gf(e,t))}(e,{email:this._email,oobCode:this._password});default:Xh(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return vp(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kp,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return bf(e,"POST","/v1/accounts:signInWithEmailLink",gf(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Xh(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Tp(e,t){return bf(e,"POST","/v1/accounts:signInWithIdp",gf(e,t))}class Cp extends xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Cp(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xh("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=qh(t,Kh);if(!n||!r)return null;const a=new Cp(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return Tp(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Tp(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Tp(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=M(t)}return e}}async function Ip(e,t){return vf(e,"POST","/v1/accounts:sendVerificationCode",gf(e,t))}const Np={USER_NOT_FOUND:"user-not-found"};class Ap extends xp{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Ap({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Ap({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return bf(e,"POST","/v1/accounts:signInWithPhoneNumber",gf(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await bf(e,"POST","/v1/accounts:signInWithPhoneNumber",gf(e,t));if(n.temporaryProof)throw kf(e,"account-exists-with-different-credential",n);return n}(e,c({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return bf(e,"POST","/v1/accounts:signInWithPhoneNumber",gf(e,c(c({},t),{},{operation:"REAUTH"})),Np)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Ap({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Pp{constructor(e){var t,n,r,i,a,s;const o=F(z(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);rf(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=o.lang)&&void 0!==a?a:null,this.tenantId=null!==(s=o.tenantId)&&void 0!==s?s:null}static parseLink(e){const t=function(e){const t=F(z(e)).link,n=t?F(z(t)).deep_link_id:null,r=F(z(e)).deep_link_id;return(r?F(z(r)).link:null)||r||n||t||e}(e);try{return new Pp(t)}catch(n){return null}}}class jp{constructor(){this.providerId=jp.PROVIDER_ID}static credential(e,t){return _p._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Pp.parseLink(t);return rf(n,"argument-error"),_p._fromEmailAndCode(e,n.code,n.tenantId)}}jp.PROVIDER_ID="password",jp.EMAIL_PASSWORD_SIGN_IN_METHOD="password",jp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Rp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dp extends Rp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Op extends Dp{constructor(){super("facebook.com")}static credential(e){return Cp._fromParams({providerId:Op.PROVIDER_ID,signInMethod:Op.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Op.credentialFromTaggedObject(e)}static credentialFromError(e){return Op.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Op.credential(t.oauthAccessToken)}catch(n){return null}}}Op.FACEBOOK_SIGN_IN_METHOD="facebook.com",Op.PROVIDER_ID="facebook.com";class Lp extends Dp{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Cp._fromParams({providerId:Lp.PROVIDER_ID,signInMethod:Lp.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Lp.credentialFromTaggedObject(e)}static credentialFromError(e){return Lp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Lp.credential(n,r)}catch(i){return null}}}Lp.GOOGLE_SIGN_IN_METHOD="google.com",Lp.PROVIDER_ID="google.com";class Mp extends Dp{constructor(){super("github.com")}static credential(e){return Cp._fromParams({providerId:Mp.PROVIDER_ID,signInMethod:Mp.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mp.credentialFromTaggedObject(e)}static credentialFromError(e){return Mp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Mp.credential(t.oauthAccessToken)}catch(n){return null}}}Mp.GITHUB_SIGN_IN_METHOD="github.com",Mp.PROVIDER_ID="github.com";class Fp extends Dp{constructor(){super("twitter.com")}static credential(e,t){return Cp._fromParams({providerId:Fp.PROVIDER_ID,signInMethod:Fp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fp.credentialFromTaggedObject(e)}static credentialFromError(e){return Fp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Fp.credential(n,r)}catch(i){return null}}}Fp.TWITTER_SIGN_IN_METHOD="twitter.com",Fp.PROVIDER_ID="twitter.com";class zp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await zf._fromIdTokenResponse(e,n,r),a=Up(n);return new zp({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Up(n);return new zp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Up(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Vp extends j{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Vp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Vp(e,t,n,r)}}function Bp(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw Vp._fromErrorAndOperation(e,n,t,r);throw n})}async function qp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await jf(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return zp._forOperation(e,"link",r)}async function Hp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(nt(r.app))return Promise.reject(tf(r));const i="reauthenticate";try{const a=await jf(e,Bp(r,i,t,e),n);rf(a.idToken,r,"internal-error");const s=Af(a.idToken);rf(s,r,"internal-error");const{sub:o}=s;return rf(e.uid===o,r,"user-mismatch"),zp._forOperation(e,i,a)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&Xh(r,"user-mismatch"),a}}async function Wp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(nt(e.app))return Promise.reject(tf(e));const r="signIn",i=await Bp(e,r,t),a=await zp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Kp(e,t){return Wp(op(e),t)}async function Gp(e){const t=op(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function Qp(e){return q(e).signOut()}function Yp(e,t){return vf(e,"POST","/v2/accounts/mfaEnrollment:start",gf(e,t))}new WeakMap;const $p="__sak";class Jp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($p,"1"),this.storage.removeItem($p),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Xp extends Jp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=np(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);tp()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Xp.type="LOCAL";const Zp=Xp;function em(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp("".concat(r,"=([^;]+)"));return null!==(t=null===(n=document.cookie.match(i))||void 0===n?void 0:n[1])&&void 0!==t?t:null}function tm(e){const t="http:"===window.location.protocol;return"".concat(t?"__dev_":"__HOST-","FIREBASE_").concat(e.split(":")[3])}class nm{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL("".concat(window.location.origin,"/__cookies__"));return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=tm(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return em(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=tm(e);document.cookie="".concat(t,"=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High"),await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,t){if(!this._isAvailable())return;const n=tm(e);if(window.cookieStore){const e=e=>{const r=e.changed.find(e=>e.name===n);r&&t(r.value);e.deleted.find(e=>e.name===n)&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=em(n);const i=setInterval(()=>{const e=em(n);e!==r&&(t(e),r=e)},1e3);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}nm.type="COOKIE";class rm extends Jp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}rm.type="SESSION";const im=rm;class am{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new am(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(null===a||void 0===a||!a.size)return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const s=Array.from(a).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(s);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function sm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}am.receivers=[];class om{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise((s,o)=>{const l=sm("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),s(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}function lm(){return window}function cm(){return"undefined"!==typeof lm().WorkerGlobalScope&&"function"===typeof lm().importScripts}const um="firebaseLocalStorageDb",dm="firebaseLocalStorage",hm="fbase_key";class fm{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pm(e,t){return e.transaction([dm],t?"readwrite":"readonly").objectStore(dm)}function mm(){const e=indexedDB.open(um,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(dm,{keyPath:hm})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(dm)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(um);return new fm(e).toPromise()}(),t(await mm()))})})}async function gm(e,t,n){const r=pm(e,!0).put({[hm]:t,value:n});return new fm(r).toPromise()}function vm(e,t){const n=pm(e,!0).delete(t);return new fm(n).toPromise()}class ym{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await mm()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cm()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=am._getInstance(cm()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){var e;if(null===(e=navigator)||void 0===e||!e.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new om(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&null!==(e=n[0])&&void 0!==e&&e.fulfilled&&null!==(t=n[0])&&void 0!==t&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=navigator)||void 0===e||null===(e=e.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await mm();return await gm(e,$p,"1"),await vm(e,$p),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>gm(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=pm(e,!1).get(t),r=await new fm(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>vm(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=pm(e,!1).getAll();return new fm(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}ym.type="LOCAL";const bm=ym;function wm(e,t){return vf(e,"POST","/v2/accounts/mfaSignIn:start",gf(e,t))}dp("rcb"),new uf(3e4,6e4);const Sm="recaptcha";async function xm(e,t,n){if(!e._getRecaptchaConfig())try{await yp(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){rf("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=vp(e,r,"mfaSmsEnrollment",async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===pp){rf((null===n||void 0===n?void 0:n.type)===Sm,e,"argument-error");return Yp(e,await km(e,t,n))}return Yp(e,t)},"PHONE_PROVIDER");return(await a.catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo}{var r;rf("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;rf(a,e,"missing-multi-factor-info");const s={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=vp(e,s,"mfaSmsSignIn",async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===pp){rf((null===n||void 0===n?void 0:n.type)===Sm,e,"argument-error");return wm(e,await km(e,t,n))}return wm(e,t)},"PHONE_PROVIDER");return(await o.catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=vp(e,t,"sendVerificationCode",async(e,t)=>{if(t.captchaResponse===pp){rf((null===n||void 0===n?void 0:n.type)===Sm,e,"argument-error");return Ip(e,await km(e,t,n))}return Ip(e,t)},"PHONE_PROVIDER");return(await r.catch(e=>Promise.reject(e))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function km(e,t,n){rf(n.type===Sm,e,"argument-error");const r=await n.verify();rf("string"===typeof r,e,"argument-error");const i=c({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Em{constructor(e){this.providerId=Em.PROVIDER_ID,this.auth=op(e)}verifyPhoneNumber(e,t){return xm(this.auth,e,q(t))}static credential(e,t){return Ap._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Em.credentialFromTaggedObject(t)}static credentialFromError(e){return Em.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Ap._fromTokenResponse(n,r):null}}function _m(e,t){return t?Vf(t):(rf(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Em.PROVIDER_ID="phone",Em.PHONE_SIGN_IN_METHOD="phone";class Tm extends xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tp(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Tp(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Tp(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Cm(e){return Wp(e.auth,new Tm(e),e.bypassAuthState)}function Im(e){const{auth:t,user:n}=e;return rf(n,t,"internal-error"),Hp(n,new Tm(e),e.bypassAuthState)}async function Nm(e){const{auth:t,user:n}=e;return rf(n,t,"internal-error"),qp(n,new Tm(e),e.bypassAuthState)}class Am{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:s}=e;if(a)return void this.reject(a);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Cm;case"linkViaPopup":case"linkViaRedirect":return Nm;case"reauthViaPopup":case"reauthViaRedirect":return Im;default:Xh(this.auth,"internal-error")}}resolve(e){sf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){sf(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Pm=new uf(2e3,1e4);class jm extends Am{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jm.currentPopupAction&&jm.currentPopupAction.cancel(),jm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rf(e,this.auth,"internal-error"),e}async onExecution(){sf(1===this.filter.length,"Popup operations only handle one event");const e=sm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Zh(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Zh(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t;null!==(t=this.authWindow)&&void 0!==t&&null!==(t=t.window)&&void 0!==t&&t.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zh(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,Pm.get())};e()}}jm.currentPopupAction=null;const Rm=new Map;class Dm extends Am{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Rm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Mm(t),r=Lm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Rm.set(this.auth._key(),e)}return this.bypassAuthState||Rm.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Om(e,t){Rm.set(e._key(),t)}function Lm(e){return Vf(e._redirectPersistence)}function Mm(e){return Hf("pendingRedirect",e.config.apiKey,e.name)}async function Fm(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(nt(e.app))return Promise.reject(tf(e));const r=op(e),i=_m(r,t),a=new Dm(r,i,n),s=await a.execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,t)),s}class zm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Vm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!Vm(e)){var n;const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Zh(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Um(e))}saveEventToCache(e){this.cachedEventUids.add(Um(e)),this.lastProcessedEventTime=Date.now()}}function Um(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Vm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Bm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qm=/^https?/;async function Hm(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return vf(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Wm(r))return}catch(n){}Xh(e,"unauthorized-domain")}function Wm(e){const t=of(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!qm.test(n))return!1;if(Bm.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Km=new uf(3e4,6e4);function Gm(){const e=lm().___jsl;if(null!==e&&void 0!==e&&e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Qm(e){return new Promise((t,n)=>{var r,i;function a(){Gm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Gm(),n(Zh(e,"network-request-failed"))},timeout:Km.get()})}if(null!==(r=lm().gapi)&&void 0!==r&&null!==(r=r.iframes)&&void 0!==r&&r.Iframe)t(gapi.iframes.getContext());else{if(null===(i=lm().gapi)||void 0===i||!i.load){const t=dp("iframefcb");return lm()[t]=()=>{gapi.load?a():n(Zh(e,"network-request-failed"))},up("".concat(cp.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw Ym=null,e})}let Ym=null;const $m=new uf(5e3,15e3),Jm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Xm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Zm(e){const t=e.config;rf(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?df(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:at},i=Xm.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(M(r).slice(1))}async function eg(e){const t=await function(e){return Ym=Ym||Qm(e),Ym}(e),n=lm().gapi;return rf(n,e,"internal-error"),t.open({where:document.body,url:Zm(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Jm,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Zh(e,"network-request-failed"),a=lm().setTimeout(()=>{r(i)},$m.get());function s(){lm().clearTimeout(a),n(t)}t.ping(s).then(s,()=>{r(i)})}))}const tg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ng{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function rg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=c(c({},tg),{},{width:r.toString(),height:i.toString(),top:a,left:s}),u=T().toLowerCase();n&&(o=Yf(u)?"_blank":n),Gf(u)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ep(arguments.length>0&&void 0!==arguments[0]?arguments[0]:T())&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new ng(null);const h=window.open(t||"",o,d);rf(h,e,"popup-blocked");try{h.focus()}catch(f){}return new ng(h)}const ig="__/auth/handler",ag="emulator/auth/handler",sg=encodeURIComponent("fac");async function og(e,t,n,r,i,a){rf(e.config.authDomain,e,"auth-domain-config-required"),rf(e.config.apiKey,e,"invalid-api-key");const s={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:at,eventId:i};if(t instanceof Rp){t.setDefaultLanguage(e.languageCode),s.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(s.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))s[e]=t}if(t instanceof Dp){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(s.scopes=e.join(","))}e.tenantId&&(s.tid=e.tenantId);const o=s;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(sg,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ig);return df(t,ag)}(e),"?").concat(M(o).slice(1)).concat(c)}const lg="webStorageSupport";const cg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=im,this._completeRedirectFn=Fm,this._overrideRedirectResult=Om}async _openPopup(e,t,n,r){var i;sf(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return rg(e,await og(e,t,n,of(),r),sm())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){lm().location.href=e}(await og(e,t,n,of(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(sf(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await eg(e),n=new zm(e);return t.register("authEvent",t=>{rf(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lg,{type:lg},n=>{var r;const i=null===n||void 0===n||null===(r=n[0])||void 0===r?void 0:r[lg];void 0!==i&&t(!!i),Xh(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Hm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return np()||Qf()||ep()}};var ug="@firebase/auth",dg="1.12.0";class hg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rf(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const fg=b("authIdTokenMaxAge")||300;let pg=null;function mg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot();const t=tt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=tt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(O(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Xh(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:cg,persistence:[bm,Zp,im]}),r=b("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>fg)return;const r=null===t||void 0===t?void 0:t.token;pg!==r&&(pg=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){q(e).beforeAuthStateChanged(t,n)}(n,t,()=>t(n.currentUser)),function(e,t,n,r){q(e).onIdTokenChanged(t,n,r)}(n,e=>t(e))}}var i;const a=v("auth");return a&&bp(n,"http://".concat(a)),n}var gg;cp={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Zh("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},gg="Browser",et(new H("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=r.options;rf(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:o,clientPlatform:gg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rp(gg)},c=new sp(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Vf);null!==t&&void 0!==t&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),et(new H("auth-internal",e=>(e=>new hg(e))(op(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),lt(ug,dg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(gg)),lt(ug,dg,"esm2020");const vg="rodrigo@dev.com",yg="hfsHCehqYgen7OAfXUYl58fEPo02",bg=["Viking","Pyromancer","Marksman","Pirate","Nomad","Redneck","Necromancer","Samurai","Paladin","Amazon","Demon Slayer","Demonspawn","Shaman","White Mage","Marauder","Plague Doctor","Shield Lancer","J\xf6tunn","Illusionist","Exo","Butcher","Stormweaver","Bard"];function wg(){const e=window.location.hash||"";return e.startsWith("#painel/blog")?"blog":e.startsWith("#painel/comentarios")?"comments":e.startsWith("#painel/mensagens")?"messages":e.startsWith("#painel/login")?"login":e.startsWith("#painel/forum")?"forum":e.startsWith("#painel/homepage")?"homepage":"dashboard"}function Sg(){return(0,Fh.jsx)("style",{children:"\n    :root { --bg:#f8fafc; --panel:#ffffff; --card:#ffffff; --muted:#6b7280; --fg:#0f172a; --accent:#b91c1c; }\n    html,body { height:100%; margin:0; }\n    body { background: radial-gradient(circle at top, #e5e7eb 0, #f8fafc 45%, #e5e7eb 100%); color: var(--fg); font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif; min-height:100vh; }\n    header { display:flex; align-items:center; justify-content:space-between; padding:18px 32px; border-bottom:1px solid rgba(15,23,42,.08); background:linear-gradient(90deg,#020617,#111827); color:#f9fafb; }\n    .painel-brand { display:flex; align-items:center; gap:12px; }\n    .painel-logo { width: 40px; height: 40px; display:grid; place-items:center; background: linear-gradient(135deg,#b91c1c,#f97316); border-radius: 12px; border: 1px solid rgba(248,113,113,.6); font-size:20px; }\n    .painel-button { background: rgba(15,23,42,.85); color: #e5e7eb; border: 1px solid rgba(248,250,252,.12); padding: 10px 16px; cursor:pointer; font-size:11px; text-transform:uppercase; letter-spacing:.18em; border-radius:999px; }\n    .painel-button:hover { border-color: #f97316; background:#0b1120; }\n    .painel-layout { max-width: 1280px; margin: 32px auto; padding: 0 24px 32px; display:flex; gap:24px; align-items:stretch; min-height:calc(100vh - 120px); }\n    .painel-sidebar { width: 240px; background:#ffffff; border-radius:24px; border:1px solid #e5e7eb; padding:20px 18px; box-shadow:0 18px 40px rgba(15,23,42,.08); color:#0f172a; }\n    .painel-sidebar-title { font-size:11px; text-transform:uppercase; letter-spacing:.18em; color:#9ca3af; margin-bottom:14px; }\n    .painel-sidebar-nav { display:flex; flex-direction:column; gap:8px; }\n    .painel-nav-item { font-size:12px; padding:10px 12px; border-radius:999px; color:#4b5563; text-decoration:none; display:flex; justify-content:space-between; align-items:center; background:transparent; transition:all .2s ease; cursor:pointer; }\n    .painel-nav-item span { font-size:10px; text-transform:uppercase; letter-spacing:.18em; }\n    .painel-nav-item:hover { background:#f3f4f6; color:#111827; }\n    .painel-nav-item.active { background:linear-gradient(135deg,#b91c1c,#f97316); color:#ffffff; box-shadow:0 18px 40px rgba(248,113,113,.35); }\n    .painel-nav-badge { font-size:9px; background:#f9fafb; padding:2px 8px; border-radius:999px; border:1px solid #e5e7eb; color:#111827; }\n    .painel-main { flex:1; display:flex; flex-direction:column; gap:24px; }\n    .painel-page-header { display:flex; justify-content:space-between; align-items:flex-start; gap:16px; }\n    .painel-page-title { font-size:24px; font-weight:900; text-transform:uppercase; letter-spacing:.16em; }\n    .painel-page-sub { font-size:13px; color:var(--muted); margin-top:6px; max-width:460px; }\n    .painel-badge-live { display:inline-flex; align-items:center; gap:6px; font-size:10px; text-transform:uppercase; letter-spacing:.18em; color:#16a34a; padding:4px 10px; border-radius:999px; background:#dcfce7; border:1px solid #bbf7d0; }\n    .painel-badge { display:inline-flex; align-items:center; gap:6px; font-size:10px; text-transform:uppercase; letter-spacing:.18em; color:#334155; padding:4px 10px; border-radius:999px; background:#f1f5f9; border:1px solid #e5e7eb; }\n    .painel-badge-live-dot { width:7px; height:7px; border-radius:999px; background:#16a34a; box-shadow:0 0 10px rgba(34,197,94,.9); }\n    .painel-grid { display:grid; grid-template-columns: repeat(auto-fit, minmax(240px,1fr)); gap: 20px; }\n    .painel-card { background: var(--card); border:1px solid #e5e7eb; padding:20px; border-radius:24px; min-height:120px; box-shadow:0 20px 40px rgba(15,23,42,.08); position:relative; overflow:hidden; }\n    .painel-card::before { content:''; position:absolute; inset:-40%; background:radial-gradient(circle at top left,rgba(248,113,113,.12),transparent 55%); opacity:1; filter:blur(0); }\n    .painel-card-inner { position:relative; z-index:1; }\n    .painel-card h2 { margin: 0 0 8px; font-size: 14px; font-weight: 800; letter-spacing: .18em; text-transform:uppercase; color:#6b7280; }\n    .painel-card p { margin: 0; color: var(--muted); font-size: 13px; }\n    .painel-stat { font-size: 30px; font-weight: 900; margin-top:10px; color:#0f172a; }\n    .painel-stat-detail { margin-top:6px; font-size:12px; color:#6b7280; }\n    .painel-metrics { display:grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap:12px; }\n    .painel-metric-card { display:flex; align-items:center; gap:10px; padding:12px 14px; border-radius:18px; border:1px solid rgba(15,23,42,.08); box-shadow:0 14px 30px rgba(15,23,42,.06); }\n    .painel-metric-icon { font-size:28px; line-height:1; }\n    .painel-metric-data .value { font-size:22px; font-weight:900; line-height:1; }\n    .painel-metric-data .label { margin-top:4px; font-size:11px; letter-spacing:.12em; text-transform:uppercase; opacity:.9; }\n    :root {\n      --posts-dark-bg:#f59e0b; --posts-light-bg:#ffedd5;\n      --comments-dark-bg:#10b981; --comments-light-bg:#d1fae5;\n      --messages-dark-bg:#3b82f6; --messages-light-bg:#dbeafe;\n      --builds-dark-bg:#8b5cf6; --builds-light-bg:#ede9fe;\n    }\n    .metric-posts-dark { background: var(--posts-dark-bg); color:#0b0f19; }\n    .metric-posts-light { background: var(--posts-light-bg); color:#7c2d12; }\n    .metric-comments-dark { background: var(--comments-dark-bg); color:#052e1c; }\n    .metric-comments-light { background: var(--comments-light-bg); color:#065f46; }\n    .metric-messages-dark { background: var(--messages-dark-bg); color:#06102b; }\n    .metric-messages-light { background: var(--messages-light-bg); color:#1e3a8a; }\n    .metric-builds-dark { background: var(--builds-dark-bg); color:#1c1917; }\n    .metric-builds-light { background: var(--builds-light-bg); color:#312e81; }\n    .painel-activity { display:grid; grid-template-columns: minmax(0,2fr) minmax(0,1.5fr); gap:20px; }\n    .painel-activity-list { background:var(--card); border-radius:24px; border:1px solid #e5e7eb; padding:18px 20px; box-shadow:0 18px 40px rgba(15,23,42,.04); }\n    .painel-activity-title { font-size:11px; text-transform:uppercase; letter-spacing:.2em; color:#9ca3af; margin-bottom:12px; }\n    .painel-activity-item { font-size:13px; padding:10px 0; border-bottom:1px solid #e5e7eb; display:flex; justify-content:space-between; align-items:center; }\n    .painel-activity-item:last-child { border-bottom:none; }\n    .painel-chip { font-size:10px; text-transform:uppercase; letter-spacing:.18em; padding:4px 8px; border-radius:999px; border:1px solid #e5e7eb; color:#6b7280; background:#f9fafb; }\n    .painel-table-wrapper { margin-top:12px; overflow:auto; max-height:380px; }\n    table.painel-table { width:100%; border-collapse:collapse; font-size:13px; }\n    table.painel-table th, table.painel-table td { padding:8px 6px; border-bottom:1px solid #e5e7eb; text-align:left; }\n    table.painel-table th { font-size:11px; text-transform:uppercase; letter-spacing:.12em; color:#9ca3af; }\n    table.painel-table tbody tr:hover { background:#f9fafb; }\n    .painel-tag { font-size:10px; padding:2px 6px; border:1px solid #e5e7eb; text-transform:uppercase; letter-spacing:.12em; border-radius:999px; color:#6b7280; background:#ffffff; }\n    .painel-row { display:flex; gap:10px; align-items:center; flex-wrap:wrap; }\n    .painel-homepage-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(80px,1fr)); gap:10px; margin-top:16px; }\n    .painel-homepage-thumb { position:relative; border-radius:12px; border:2px solid transparent; overflow:hidden; cursor:pointer; background:#0f172a; }\n    .painel-homepage-thumb img { width:100%; height:80px; object-fit:contain; display:block; background:#020617; }\n    .painel-homepage-thumb span { position:absolute; inset:auto 0 0 0; padding:4px 6px; font-size:9px; text-transform:uppercase; letter-spacing:.14em; background:linear-gradient(to top,rgba(15,23,42,.9),transparent); color:#e5e7eb; text-align:center; }\n    .painel-homepage-thumb.active { border-color:#f97316; box-shadow:0 0 0 1px rgba(249,115,22,.4); }\n    .painel-homepage-thumb.random { border-style:dashed; }\n    .painel-homepage-preview { margin-top:20px; display:flex; gap:18px; align-items:center; }\n    .painel-homepage-preview-img { width:180px; height:180px; border-radius:24px; overflow:hidden; border:1px solid #e5e7eb; background:#020617; display:flex; align-items:center; justify-content:center; }\n    .painel-homepage-preview-img img { width:100%; height:100%; object-fit:contain; }\n    .painel-homepage-preview-info { font-size:13px; color:#4b5563; max-width:420px; }\n    .painel-input, .painel-select, .painel-textarea { width:100%; box-sizing:border-box; padding:10px; background:#f9fafb; color:#0f172a; border:1px solid #e5e7eb; }\n    .painel-textarea { min-height: 140px; resize:vertical; }\n    .painel-muted { color:var(--muted); font-size:12px; }\n    .painel-list { display:flex; flex-direction:column; gap:10px; max-height:380px; overflow:auto; }\n    .painel-list-item { border:1px solid #e5e7eb; padding:10px; display:flex; justify-content:space-between; align-items:flex-start; gap:10px; background:#f9fafb; border-radius:12px; }\n    .painel-danger-text { color:#b91c1c; }\n    .painel-actions-cell { display:flex; gap:6px; justify-content:flex-end; }\n    .painel-action-btn { width:28px; height:28px; border-radius:999px; display:grid; place-items:center; padding:0; font-size:15px; border:none; cursor:pointer; }\n    .painel-action-edit { background:#eef2ff; color:#4338ca; }\n    .painel-action-edit:hover { background:#e0e7ff; }\n    .painel-action-toggle-published { background:#dcfce7; color:#15803d; }\n    .painel-action-toggle-published:hover { background:#bbf7d0; }\n    .painel-action-toggle-draft { background:#fee2e2; color:#b91c1c; }\n    .painel-action-toggle-draft:hover { background:#fecaca; }\n    .painel-action-delete { background:#fee2e2; color:#b91c1c; }\n    .painel-action-delete:hover { background:#fecaca; }\n    .painel-modal { position:fixed; inset:0; display:flex; align-items:center; justify-content:center; z-index:40; padding:16px; box-sizing:border-box; }\n    .painel-modal.hidden { display:none; }\n    .painel-modal-backdrop { position:absolute; inset:0; background:rgba(15,23,42,.6); backdrop-filter:blur(10px); }\n    .painel-modal-content { position:relative; z-index:1; width:100%; max-width:520px; max-height:80vh; background:#ffffff; border-radius:20px; border:1px solid #e5e7eb; padding:16px 18px; box-shadow:0 24px 70px rgba(15,23,42,.25); display:flex; flex-direction:column; }\n    .painel-modal-content.small { max-width:420px; }\n    .painel-modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px; }\n    .painel-modal-title { font-size:13px; font-weight:800; letter-spacing:.16em; text-transform:uppercase; color:#6b7280; }\n    .painel-modal-close { border-radius:999px; width:26px; height:26px; display:grid; place-items:center; border:1px solid #e5e7eb; background:#f9fafb; color:#374151; cursor:pointer; }\n    .painel-modal-body { margin-top:4px; overflow:auto; }\n    .painel-login-container { min-height:100vh; display:flex; align-items:center; justify-content:center; padding:24px; }\n    .painel-login-card { width:100%; max-width: 420px; background:#151923; border: 1px solid rgba(255,255,255,.06); padding: 28px; box-sizing: border-box; color:#e5e7eb; }\n    .painel-login-brand { display:flex; align-items:center; gap:10px; margin-bottom: 18px; }\n    .painel-login-logo { width: 36px; height: 36px; display:grid; place-items:center; background: rgba(239,68,68,.12); border: 1px solid rgba(239,68,68,.35); }\n    .painel-login-badge { display:inline-block; margin-top: 8px; font-size:10px; font-weight:700; text-transform:uppercase; letter-spacing:.14em; color:#f59e0b; }\n    .painel-login-title { margin: 0 0 8px; font-size: 22px; font-weight: 800; letter-spacing: .02em; }\n    .painel-login-sub { margin: 0; color: #9aa4b2; font-size: 13px; }\n    .painel-login-label { display:block; font-size: 11px; font-weight: 700; letter-spacing: .12em; text-transform: uppercase; color: #9ca3af; margin-bottom: 8px; }\n    .painel-login-input { width:100%; padding: 12px; background: rgba(0,0,0,.35); color: #e5e7eb; border: 1px solid rgba(255,255,255,.08); outline: none; }\n    .painel-login-input:focus { border-color: var(--accent); }\n    .painel-login-button { width:100%; padding: 12px; border: 1px solid rgba(255,255,255,.12); background: #fff; color:#000; font-weight: 900; text-transform: uppercase; letter-spacing: .08em; cursor: pointer; }\n    .painel-login-button[disabled] { opacity:.6; cursor: not-allowed; }\n    .painel-login-error { margin-top: 12px; padding: 10px; background: rgba(239,68,68,.12); border: 1px solid rgba(239,68,68,.35); color: #fecaca; font-size: 12px; }\n    .painel-login-hint { margin-top: 12px; font-size: 12px; color: #9aa4b2; }\n    @media (max-width: 900px) {\n      .painel-layout { flex-direction:column; padding:16px 16px 32px; margin-top:16px; }\n      .painel-sidebar { width:100%; display:flex; overflow-x:auto; border-radius:20px; }\n      .painel-sidebar-nav { flex-direction:row; }\n      .painel-nav-item { min-width:150px; }\n      .painel-activity { grid-template-columns: 1fr; }\n    }\n  "})}function xg(){const[e,t]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)("");return(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsx)(Sg,{}),(0,Fh.jsx)("div",{className:"painel-login-container",children:(0,Fh.jsxs)("div",{className:"painel-login-card",children:[(0,Fh.jsxs)("div",{className:"painel-login-brand",children:[(0,Fh.jsx)("div",{className:"painel-login-logo",children:"\ud83d\udd25"}),(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("h1",{className:"painel-login-title",children:"Hero Siege Brasil \u2014 Painel"}),(0,Fh.jsx)("p",{className:"painel-login-sub",children:"Acesso restrito ao administrador"})]})]}),(0,Fh.jsx)("div",{className:"painel-login-badge",children:"Season 9"}),(0,Fh.jsxs)("form",{className:"mt-6",onSubmit:async t=>{t.preventDefault(),l("");const r=(e||"").trim();if(r&&n){s(!0);try{const e=mg(Mh),t=await function(e,t,n){return nt(e.app)?Promise.reject(tf(e)):Kp(q(e),jp.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Gp(e),t})}(e,r,n),i=t.user;if(!i||(i.email||"").toLowerCase()!==vg||i.uid!==yg)return await Qp(e),void l("Usu\xe1rio n\xe3o autorizado para o painel.");window.location.hash="#painel"}catch(i){const e=i&&i.code?i.code:"";l("auth/operation-not-allowed"===e?"M\xe9todo Email/Senha desativado no Firebase Auth. Ative-o nas configura\xe7\xf5es.":"auth/unauthorized-domain"===e?"Dom\xednio n\xe3o autorizado no Firebase Auth. Adicione este dom\xednio em \u201cAuthorized domains\u201d.":"auth/invalid-credential"===e||"auth/invalid-login-credentials"===e||"auth/wrong-password"===e?"E-mail ou senha inv\xe1lidos.":i.message||"Falha na autentica\xe7\xe3o.")}finally{s(!1)}}else l("Informe e-mail e senha.")},children:[(0,Fh.jsxs)("div",{className:"mt-6",children:[(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-email",children:"E-mail"}),(0,Fh.jsx)("input",{id:"painel-email",type:"email",className:"painel-login-input",autoComplete:"username",value:e,onChange:e=>t(e.target.value)})]}),(0,Fh.jsxs)("div",{className:"mt-6",children:[(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-password",children:"Senha"}),(0,Fh.jsx)("input",{id:"painel-password",type:"password",className:"painel-login-input",autoComplete:"current-password",value:n,onChange:e=>i(e.target.value)})]}),(0,Fh.jsxs)("div",{className:"mt-6",children:[(0,Fh.jsx)("button",{type:"submit",className:"painel-login-button",disabled:a,children:a?"Autenticando...":"Entrar"}),o&&(0,Fh.jsx)("div",{className:"painel-login-error",children:o}),(0,Fh.jsx)("div",{className:"painel-login-hint",children:"Seguran\xe7a: autentica\xe7\xe3o por Firebase. Tentativas s\xe3o registradas."})]})]})]})})]})}function kg(e){let{onLogout:t}=e;return(0,Fh.jsxs)("header",{children:[(0,Fh.jsxs)("div",{className:"painel-brand",children:[(0,Fh.jsx)("div",{className:"painel-logo",children:"\u2699\ufe0f"}),(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{style:{fontWeight:900,letterSpacing:".18em",fontSize:11,textTransform:"uppercase"},children:"Painel \u2014 Hero Siege Brasil"}),(0,Fh.jsx)("div",{style:{fontSize:12,color:"#9aa4b2"},children:"\xc1rea de administra\xe7\xe3o \xb7 Acesso restrito"})]})]}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",title:"Encerrar sess\xe3o",onClick:t,children:"Sair"})]})}function Eg(e){let{view:t,onChange:n}=e;const r=e=>{"dashboard"===e?window.location.hash="#painel":"blog"===e?window.location.hash="#painel/blog":"comments"===e?window.location.hash="#painel/comentarios":"messages"===e?window.location.hash="#painel/mensagens":"forum"===e?window.location.hash="#painel/forum":"homepage"===e&&(window.location.hash="#painel/homepage"),n(e)};return(0,Fh.jsxs)("aside",{className:"painel-sidebar",children:[(0,Fh.jsx)("div",{className:"painel-sidebar-title",children:"Navega\xe7\xe3o"}),(0,Fh.jsxs)("div",{className:"painel-sidebar-nav",children:[(0,Fh.jsxs)("div",{className:"painel-nav-item ".concat("dashboard"===t?"active":""),onClick:()=>r("dashboard"),children:[(0,Fh.jsx)("span",{children:"Dashboard"}),"dashboard"===t&&(0,Fh.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,Fh.jsxs)("div",{className:"painel-nav-item ".concat("blog"===t?"active":""),onClick:()=>r("blog"),children:[(0,Fh.jsx)("span",{children:"Blog"}),"blog"===t&&(0,Fh.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,Fh.jsxs)("div",{className:"painel-nav-item ".concat("comments"===t?"active":""),onClick:()=>r("comments"),children:[(0,Fh.jsx)("span",{children:"Coment\xe1rios"}),"comments"===t&&(0,Fh.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,Fh.jsxs)("div",{className:"painel-nav-item ".concat("messages"===t?"active":""),onClick:()=>r("messages"),children:[(0,Fh.jsx)("span",{children:"Mensagens"}),"messages"===t&&(0,Fh.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,Fh.jsxs)("div",{className:"painel-nav-item ".concat("forum"===t?"active":""),onClick:()=>r("forum"),children:[(0,Fh.jsx)("span",{children:"Forum"}),"forum"===t&&(0,Fh.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]}),(0,Fh.jsxs)("div",{className:"painel-nav-item ".concat("homepage"===t?"active":""),onClick:()=>r("homepage"),children:[(0,Fh.jsx)("span",{children:"Homepage"}),"homepage"===t&&(0,Fh.jsx)("span",{className:"painel-nav-badge",children:"Atual"})]})]})]})}function _g(){const[e,t]=(0,r.useState)("\u2013"),[n,i]=(0,r.useState)(""),[a,s]=(0,r.useState)("\u2013"),[o,l]=(0,r.useState)(""),[c,u]=(0,r.useState)("\u2013"),[d,h]=(0,r.useState)("\u2013"),[f,p]=(0,r.useState)("\u2013"),[m,g]=(0,r.useState)("\u2013"),[v,y]=(0,r.useState)("\u2013"),[b,w]=(0,r.useState)("\u2013"),[S,x]=(0,r.useState)("\u2013"),[k,E]=(0,r.useState)("\u2013");return(0,r.useEffect)(()=>{let e=!0;return(async()=>{try{const n=await Ih(Od(Lh,"item_categories"));if(!e)return;t(String(n.size));const r=[];n.forEach(e=>{r.length<4&&r.push(e.data().title||e.id)}),i(r.join(", "))}catch(n){if(!e)return;i("N\xe3o foi poss\xedvel ler categorias.")}try{if(await Ih(Od(Lh,"classes")),!e)return;s(String(bg.length)),l(bg.slice(0,4).join(", "))}catch(r){if(!e)return;s(String(bg.length)),l(bg.slice(0,4).join(", "))}try{const t=await Ih(Od(Lh,"posts"));if(!e)return;let n=0,r=0;t.forEach(e=>{const t=(e.data()||{}).status||"draft";"published"===t?n+=1:"draft"===t&&(r+=1)}),u(String(n)),h(String(r))}catch(a){if(!e)return;u("0"),h("0")}try{const t=await Ih(Od(Lh,"builds"));if(!e)return;let n=0,r=0;t.forEach(e=>{"published"===((e.data()||{}).status||"draft")?n+=1:r+=1}),p(String(n)),g(String(r))}catch(o){if(!e)return;p("0"),g("0")}try{const t=await Ih(Ld(Lh,"comments"));if(!e)return;let n=0,r=0;t.forEach(e=>{!0===(e.data()||{}).approved?n+=1:r+=1}),y(String(n)),w(String(r))}catch(c){if(!e)return;y("0"),w("0")}try{const t=await Ih(Od(Lh,"messages"));if(!e)return;let n=0,r=0;t.forEach(e=>{!0===(e.data()||{}).read?n+=1:r+=1}),x(String(n)),E(String(r))}catch(d){if(!e)return;x("0"),E("0")}})(),()=>{e=!1}},[]),(0,Fh.jsxs)("div",{className:"painel-main",children:[(0,Fh.jsxs)("div",{className:"painel-page-header",children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{className:"painel-page-title",children:"Dashboard"}),(0,Fh.jsx)("div",{className:"painel-page-sub",children:"Resumo r\xe1pido das entidades que alimentam o site (categorias, classes e blog)."})]}),(0,Fh.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[(0,Fh.jsxs)("div",{className:"painel-badge-live",children:[(0,Fh.jsx)("span",{className:"painel-badge-live-dot"}),(0,Fh.jsx)("span",{children:"Online"})]}),(0,Fh.jsxs)("div",{className:"painel-badge",children:["\ud83d\uddc3 ",(0,Fh.jsxs)("span",{children:["Categorias: ",e]})]}),(0,Fh.jsxs)("div",{className:"painel-badge",children:["\ud83e\udde9 ",(0,Fh.jsxs)("span",{children:["Classes: ",a]})]})]})]}),(0,Fh.jsxs)("div",{className:"painel-metrics",children:[(0,Fh.jsxs)("div",{className:"painel-metric-card metric-posts-dark",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udce2"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:c}),(0,Fh.jsx)("div",{className:"label",children:"Posts publicados"})]})]}),(0,Fh.jsxs)("div",{className:"painel-metric-card metric-comments-dark",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udcac"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:v}),(0,Fh.jsx)("div",{className:"label",children:"Coment\xe1rios aprovados"})]})]}),(0,Fh.jsxs)("div",{className:"painel-metric-card metric-messages-dark",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\u2709\ufe0f"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:S}),(0,Fh.jsx)("div",{className:"label",children:"Mensagens lidas"})]})]}),(0,Fh.jsxs)("div",{className:"painel-metric-card metric-builds-dark",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udde1\ufe0f"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:f}),(0,Fh.jsx)("div",{className:"label",children:"Builds publicadas"})]})]})]}),(0,Fh.jsxs)("div",{className:"painel-metrics",style:{marginTop:12},children:[(0,Fh.jsxs)("div",{className:"painel-metric-card metric-posts-light",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\ud83d\udcdd"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:d}),(0,Fh.jsx)("div",{className:"label",children:"Posts em rascunho"})]})]}),(0,Fh.jsxs)("div",{className:"painel-metric-card metric-comments-light",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\u23f3"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:b}),(0,Fh.jsx)("div",{className:"label",children:"Coment\xe1rios pendentes"})]})]}),(0,Fh.jsxs)("div",{className:"painel-metric-card metric-messages-light",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\u23f3"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:k}),(0,Fh.jsx)("div",{className:"label",children:"Mensagens n\xe3o lidas"})]})]}),(0,Fh.jsxs)("div",{className:"painel-metric-card metric-builds-light",children:[(0,Fh.jsx)("div",{className:"painel-metric-icon",children:"\u23f3"}),(0,Fh.jsxs)("div",{className:"painel-metric-data",children:[(0,Fh.jsx)("div",{className:"value",children:m}),(0,Fh.jsx)("div",{className:"label",children:"Builds pendentes"})]})]})]})]})}function Tg(e){return String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function Cg(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)("all"),[a,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[w,S]=(0,r.useState)(""),[x,k]=(0,r.useState)("draft"),[E,_]=(0,r.useState)(""),[T,C]=(0,r.useState)(!1),[I,N]=(0,r.useState)(null),[A,P]=(0,r.useState)(""),j=e=>{const t=e||"draft";return"published"===t?"Publicado":"pending"===t?"Pendente":"draft"===t?"Rascunho":t},R=async()=>{s(!0);try{const e=await Ih(Od(Lh,"builds")),n=[];e.forEach(e=>n.push(c({id:e.id},e.data()))),n.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),t(n)}finally{s(!1)}};(0,r.useEffect)(()=>{R()},[]);const D=(0,r.useMemo)(()=>"all"===n?e:e.filter(e=>(e.status||"draft")===n),[e,n]),O=()=>{d(null),f(""),m(""),v(""),b(""),S(""),k("draft"),_("")};return(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsxs)("div",{className:"painel-main",children:[(0,Fh.jsxs)("div",{className:"painel-page-header",children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{className:"painel-page-title",children:"Forum \u2014 Builds"}),(0,Fh.jsx)("div",{className:"painel-page-sub",children:"Modere, edite, publique ou exclua builds enviadas pelo bot\xe3o \u201cNova Build\u201d."})]}),(0,Fh.jsx)("div",{children:(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>{O(),l(!0)},children:"Nova Build"})})]}),(0,Fh.jsx)("div",{className:"painel-grid",children:(0,Fh.jsx)("div",{className:"painel-card",children:(0,Fh.jsxs)("div",{className:"painel-card-inner",children:[(0,Fh.jsx)("h2",{children:"Builds"}),(0,Fh.jsxs)("div",{className:"painel-row",children:[(0,Fh.jsx)("label",{style:{margin:0,fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:".12em",color:"#9ca3af"},children:"Filtro"}),(0,Fh.jsxs)("select",{className:"painel-select",value:n,onChange:e=>i(e.target.value),style:{maxWidth:220},children:[(0,Fh.jsx)("option",{value:"all",children:"Todas"}),(0,Fh.jsx)("option",{value:"published",children:"Publicadas"}),(0,Fh.jsx)("option",{value:"pending",children:"Pendentes"}),(0,Fh.jsx)("option",{value:"draft",children:"Rascunhos"})]}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:R,children:a?"Carregando...":"Recarregar"})]}),(0,Fh.jsx)("div",{className:"painel-table-wrapper",children:(0,Fh.jsxs)("table",{className:"painel-table",children:[(0,Fh.jsx)("thead",{children:(0,Fh.jsxs)("tr",{children:[(0,Fh.jsx)("th",{children:"T\xedtulo"}),(0,Fh.jsx)("th",{children:"Classe"}),(0,Fh.jsx)("th",{children:"Autor"}),(0,Fh.jsx)("th",{children:"Forum"}),(0,Fh.jsx)("th",{children:"Status"}),(0,Fh.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,Fh.jsx)("tbody",{children:0===D.length?(0,Fh.jsx)("tr",{children:(0,Fh.jsx)("td",{colSpan:6,className:"painel-muted",children:"Nenhuma build encontrada."})}):D.map(e=>{const t=e.className||e.heroClass||"",n=e.forum||e.classSlug||(t?Tg(t):"");return(0,Fh.jsxs)("tr",{children:[(0,Fh.jsx)("td",{children:(0,Fh.jsx)("strong",{children:e.title||"(sem t\xedtulo)"})}),(0,Fh.jsx)("td",{children:t}),(0,Fh.jsx)("td",{children:e.author||""}),(0,Fh.jsx)("td",{children:n}),(0,Fh.jsx)("td",{children:(0,Fh.jsx)("span",{className:"painel-tag",children:j(e.status)})}),(0,Fh.jsxs)("td",{className:"painel-actions-cell",children:[(0,Fh.jsx)("button",{type:"button",className:"painel-action-btn painel-action-edit",title:"Editar build",onClick:()=>{return d(t=e),f(t.title||""),m(t.author||""),v(t.className||t.heroClass||""),b(t.content_html||""),S(Array.isArray(t.tags)?t.tags.join(", "):""),k(t.status||"draft"),_("Editando: ".concat(t.title||t.id)),void l(!0);var t},children:"\u270f\ufe0f"}),(0,Fh.jsx)("button",{type:"button",className:"painel-action-btn ".concat("published"===e.status?"painel-action-toggle-published":"painel-action-toggle-draft"),title:"published"===e.status?"Mover para rascunho":"pending"===e.status?"Aprovar e publicar":"Publicar",onClick:()=>(async e=>{let t="published";"published"===e.status&&(t="draft"),"draft"===e.status&&(t="published"),"pending"===e.status&&(t="published");const n=e.className||e.heroClass||"",r=n?Tg(n):e.classSlug||"";await Nh(Md(Lh,"builds",e.id),{status:t,forum:r,classSlug:r,updatedAt:ph()},{merge:!0}),R()})(e),children:"published"===e.status?"\u2601\ufe0f":"\ud83d\udce4"}),(0,Fh.jsx)("button",{type:"button",className:"painel-action-btn painel-action-delete",title:"Excluir build",onClick:()=>{return N(t=e),P(t.title||"(sem t\xedtulo)"),void C(!0);var t},children:"\ud83d\uddd1\ufe0f"})]})]},e.id)})})]})})]})})})]}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(o?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>l(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content",children:[(0,Fh.jsxs)("div",{className:"painel-modal-header",children:[(0,Fh.jsx)("div",{className:"painel-modal-title",children:u?"Editar Build":"Nova Build"}),(0,Fh.jsx)("button",{type:"button",className:"painel-modal-close",onClick:()=>l(!1),children:"\xd7"})]}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsx)("label",{className:"painel-login-label",children:"T\xedtulo"}),(0,Fh.jsx)("input",{className:"painel-input",value:h,onChange:e=>f(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Autor"}),(0,Fh.jsx)("input",{className:"painel-input",value:p,onChange:e=>m(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Classe"}),(0,Fh.jsxs)("select",{className:"painel-select",value:g,onChange:e=>v(e.target.value),children:[(0,Fh.jsx)("option",{value:"",children:"Selecione"}),bg.map(e=>(0,Fh.jsx)("option",{value:e,children:e},e))]}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Conte\xfado (HTML)"}),(0,Fh.jsx)("textarea",{className:"painel-textarea",value:y,onChange:e=>b(e.target.value),placeholder:"<p>...</p>"}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Tags (separadas por v\xedrgula)"}),(0,Fh.jsx)("input",{className:"painel-input",value:w,onChange:e=>S(e.target.value),placeholder:"ex.: season 9, viking, endgame"}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Status"}),(0,Fh.jsxs)("select",{className:"painel-select",value:x,onChange:e=>k(e.target.value),children:[(0,Fh.jsx)("option",{value:"draft",children:"Rascunho"}),(0,Fh.jsx)("option",{value:"pending",children:"Pendente"}),(0,Fh.jsx)("option",{value:"published",children:"Publicado"})]}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:O,children:"Limpar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{_("Salvando...");const e=(w||"").split(",").map(e=>e.trim()).filter(Boolean),t=Array.from(new Set(e)),n=g||u&&(u.className||u.heroClass)||"",r=n?Tg(n):"",i={title:h||"",author:p||"",className:n||"",heroClass:n||"",classSlug:r||"",forum:r||"",content_html:y||"",tags:t,status:x||"draft",updatedAt:ph()};try{u&&u.id?(await Nh(Md(Lh,"builds",u.id),i,{merge:!0}),_("Build atualizada.")):(await Ph(Od(Lh,"builds"),c(c({},i),{},{createdAt:ph()})),_("Build criada.")),l(!1),O(),R()}catch(a){const e=a&&a.code?a.code:"";_("Falha ao salvar build (".concat(e||"erro",")."))}},children:"Salvar"})]}),(0,Fh.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:E})]})]})]}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(T?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>C(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content small",children:[(0,Fh.jsx)("div",{className:"painel-modal-header",children:(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsxs)("p",{className:"painel-muted",children:['Tem certeza que deseja excluir a build "',A,'"?']}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>C(!1),children:"Cancelar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(I)try{await Ah(Md(Lh,"builds",I.id))}finally{C(!1),N(null),R()}else C(!1)},children:"Excluir"})]})]})]})]})]})}function Ig(){const e=bg,[t,n]=(0,r.useState)(null),[i,a]=(0,r.useState)("fixed"),[s,o]=(0,r.useState)(!1),[l,u]=(0,r.useState)(""),[d,h]=(0,r.useState)({S:["Necromancer","Pyromancer","Viking"],A:["Samurai","Paladin","Marksman","Nomad"],B:["Redneck","Pirate","Shield Lancer"],C:[],D:[],E:[]}),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(()=>e.length?Math.floor(Math.random()*e.length):0);(0,r.useEffect)(()=>{const e=jh(Md(Lh,"config","homepage"),e=>{const t=e.data()||{};n(t.featuredClass||null),a(t.mode||"fixed")});return()=>e()},[]),(0,r.useEffect)(()=>{"random"===i&&e.length&&w(Math.floor(Math.random()*e.length))},[i]),(0,r.useEffect)(()=>{const e=jh(Md(Lh,"config","tierlist"),e=>{const t=e.data()||{},n={S:Array.isArray(t.S)?t.S:["Necromancer","Pyromancer","Viking"],A:Array.isArray(t.A)?t.A:["Samurai","Paladin","Marksman","Nomad"],B:Array.isArray(t.B)?t.B:["Redneck","Pirate","Shield Lancer"],C:Array.isArray(t.C)?t.C:[],D:Array.isArray(t.D)?t.D:[],E:Array.isArray(t.E)?t.E:[]};h(n)});return()=>e()},[]);const S=async(e,t,r,i)=>{const s=Md(Lh,"config","homepage");o(!0),u("Salvando...");try{return await Nh(s,{featuredClass:"fixed"===t?e:null,mode:t,updatedAt:ph()},{merge:!0}),u("Configura\xe7\xe3o salva."),!0}catch(l){const e=l&&l.code?l.code:"erro";try{console.error("Erro ao salvar config homepage:",l)}catch(c){}return u("Falha ao salvar (".concat(e,").")),n(r),a(i),!1}finally{o(!1),setTimeout(()=>u(""),3e3)}},x=()=>{const e=t,r=i;a("random"),n(null),S(null,"random",e,r)},k=e=>{const t=String(e||"").normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/\s+/g,"");return"".concat("","/images/").concat(t,".webp")},E=(0,r.useMemo)(()=>new Set([...d.S||[],...d.A||[],...d.B||[],...d.C||[],...d.D||[],...d.E||[]]),[d]),_=(0,r.useMemo)(()=>e.filter(e=>!E.has(e)),[e,E]),T=async e=>{p(!0),g("Salvando tierlist...");try{await Nh(Md(Lh,"config","tierlist"),{S:e.S||[],A:e.A||[],B:e.B||[],C:e.C||[],D:e.D||[],E:e.E||[],updatedAt:ph()},{merge:!0}),g("Tierlist salva.")}catch(t){const e=t&&t.code?t.code:"erro";g("Falha ao salvar tierlist (".concat(e,")."))}finally{p(!1),setTimeout(()=>g(""),3e3)}},C=(e,t,n)=>{try{e.dataTransfer.setData("text/plain",JSON.stringify({cls:t,from:n}))}catch(r){e.dataTransfer.setData("text/plain",t)}},I=async()=>{const e={S:"#dc2626",A:"#f97316",B:"#eab308",C:"#84cc16",D:"#22c55e",E:"#6b7280"},t=24,n=48;let r=t;const i=[];["S","A","B","C","D","E"].forEach(e=>{const a=Math.max(n,40)+t;i.push({key:e,y:r,h:a}),r+=a+16}),r+=t;const a=document.createElement("canvas");a.width=1024,a.height=r;const s=a.getContext("2d");s.fillStyle="#151923",s.fillRect(0,0,1024,r),s.font="bold 20px Segoe UI, sans-serif",s.textBaseline="middle",s.textAlign="center";const o=e=>new Promise(t=>{const n=new Image;n.onload=()=>t(n),n.onerror=()=>t(null),n.src=e,n.crossOrigin="anonymous"}),l=[];i.forEach(r=>{const i=r.key,a=r.y;s.fillStyle=e[i]||"#6b7280",s.fillRect(t,a,n,n),s.fillStyle="#ffffff",s.fillText(i,48,a+24);let o=88;(d[i]||[]).forEach(e=>{const t=k(e);l.push({x:o,y:a+Math.max(0,4),src:t}),o+=48})});for(let d=0;d<l.length;d++){const e=l[d],t=await o(e.src);t&&s.drawImage(t,e.x,e.y,40,40)}const c=a.toDataURL("image/png"),u=document.createElement("a");u.href=c,u.download="tierlist.png",u.click()},N="random"===i?"Rota\xe7\xe3o aleat\xf3ria entre as classes":t?"Classe destacada: ".concat(t):"Nenhuma classe selecionada",A=k("random"===i?e[b]||e[0]:t||e[0]);return(0,Fh.jsxs)("div",{className:"painel-main",children:[(0,Fh.jsxs)("div",{className:"painel-page-header",children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{className:"painel-page-title",children:"Homepage"}),(0,Fh.jsx)("div",{className:"painel-page-sub",children:"Defina qual classe aparece na imagem principal da homepage ou ative rota\xe7\xe3o aleat\xf3ria."})]}),(0,Fh.jsxs)("div",{style:{textAlign:"right"},children:[(0,Fh.jsx)("div",{className:"painel-badge",children:"Homepage"}),l&&(0,Fh.jsx)("div",{style:{fontSize:11,color:"#6b7280",marginTop:4},children:l})]})]}),(0,Fh.jsx)("div",{className:"painel-card",children:(0,Fh.jsxs)("div",{className:"painel-card-inner",children:[(0,Fh.jsx)("h2",{children:"Visualiza\xe7\xe3o atual"}),(0,Fh.jsxs)("div",{className:"painel-homepage-preview",children:[(0,Fh.jsx)("div",{className:"painel-homepage-preview-img",children:(0,Fh.jsx)("img",{src:A,alt:t||e[0]})}),(0,Fh.jsxs)("div",{className:"painel-homepage-preview-info",children:[(0,Fh.jsx)("div",{style:{fontWeight:700,marginBottom:6},children:N}),(0,Fh.jsx)("div",{children:"Quando o modo aleat\xf3rio estiver ativo, a homepage ir\xe1 alternar automaticamente entre as classes a cada 30 segundos."})]})]}),(0,Fh.jsxs)("div",{style:{marginTop:20,display:"flex",gap:10,flexWrap:"wrap"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>a("fixed"),style:"fixed"===i?{background:"#0b1120",borderColor:"#f97316"}:{},disabled:s,children:"Modo fixo"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:x,style:"random"===i?{background:"#0b1120",borderColor:"#22c55e"}:{},disabled:s,children:"Modo aleat\xf3rio"})]}),(0,Fh.jsx)("div",{style:{marginTop:24,fontSize:11,textTransform:"uppercase",letterSpacing:".18em",color:"#9ca3af"},children:"Selecione a classe destacada"}),(0,Fh.jsxs)("div",{className:"painel-homepage-grid",children:[e.map(e=>{const r=k(e),o="fixed"===i&&t===e;return(0,Fh.jsxs)("button",{type:"button",className:"painel-homepage-thumb ".concat(o?"active":""),onClick:()=>(e=>{const r=t,s=i;a("fixed"),n(e),S(e,"fixed",r,s)})(e),disabled:s,children:[(0,Fh.jsx)("img",{src:r,alt:e}),(0,Fh.jsx)("span",{children:e})]},e)}),(0,Fh.jsx)("button",{type:"button",className:"painel-homepage-thumb random ".concat("random"===i?"active":""),onClick:x,disabled:s,children:(0,Fh.jsx)("span",{children:"Modo aleat\xf3rio"})})]})]})}),(0,Fh.jsx)("div",{className:"painel-card",children:(0,Fh.jsxs)("div",{className:"painel-card-inner",children:[(0,Fh.jsx)("h2",{children:"Season 9 Tier List"}),(0,Fh.jsx)("div",{className:"painel-page-sub",style:{marginBottom:16},children:"Arraste as classes para as categorias desejadas. As mudan\xe7as s\xe3o salvas automaticamente."}),m&&(0,Fh.jsx)("div",{className:"painel-muted",style:{fontSize:11,marginBottom:8},children:m}),(0,Fh.jsx)("div",{style:{display:"grid",gap:12},children:["S","A","B","C","D","E"].map(e=>(0,Fh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,Fh.jsx)("div",{style:{width:48,height:48,display:"grid",placeItems:"center",fontWeight:900,color:"#fff",background:"S"===e?"#dc2626":"A"===e?"#f97316":"B"===e?"#eab308":"C"===e?"#84cc16":"D"===e?"#22c55e":"#6b7280",boxShadow:"S"===e?"0 0 15px rgba(220,38,38,.5)":"A"===e?"0 0 15px rgba(249,115,22,.5)":"B"===e?"0 0 15px rgba(234,179,8,.5)":"none"},children:e}),(0,Fh.jsx)("div",{onDragOver:e=>e.preventDefault(),onDrop:t=>((e,t)=>{e.preventDefault();let n=null;try{n=JSON.parse(e.dataTransfer.getData("text/plain"))}catch(a){n={cls:e.dataTransfer.getData("text/plain"),from:null}}const r=n&&n.cls?n.cls:null;if(!r)return;const i=c(c({},d),{},{S:[...d.S],A:[...d.A],B:[...d.B],C:[...d.C],D:[...d.D],E:[...d.E]});["S","A","B","C","D","E"].forEach(e=>{const t=i[e].indexOf(r);t>=0&&i[e].splice(t,1)}),i[t]=[...i[t],r],h(i),T(i)})(t,e),style:{flex:1,display:"flex",gap:8,flexWrap:"wrap",minHeight:48,border:"1px dashed #e5e7eb",padding:8,borderRadius:8},children:(d[e]||[]).map(t=>(0,Fh.jsx)("img",{draggable:!0,onDragStart:n=>C(n,t,e),src:k(t),alt:t,title:t,style:{width:40,height:40,objectFit:"contain",filter:"drop-shadow(0 2px 4px rgba(0,0,0,.4))",background:"#0b0f19"}},t))})]},e))}),(0,Fh.jsxs)("div",{style:{marginTop:16},children:[(0,Fh.jsx)("div",{className:"painel-page-sub",style:{marginBottom:8},children:"Dispon\xedveis (n\xe3o atribu\xeddas a nenhuma tier):"}),(0,Fh.jsx)("div",{onDragOver:e=>e.preventDefault(),onDrop:e=>{e.preventDefault();let t=null;try{t=JSON.parse(e.dataTransfer.getData("text/plain"))}catch(i){t={cls:e.dataTransfer.getData("text/plain"),from:null}}const n=t&&t.cls?t.cls:null;if(!n)return;const r=c(c({},d),{},{S:[...d.S],A:[...d.A],B:[...d.B],C:[...d.C],D:[...d.D],E:[...d.E]});["S","A","B","C","D","E"].forEach(e=>{const t=r[e].indexOf(n);t>=0&&r[e].splice(t,1)}),h(r),T(r)},style:{display:"flex",gap:8,flexWrap:"wrap",border:"1px dashed #e5e7eb",padding:8,borderRadius:8,minHeight:48},children:_.map(e=>(0,Fh.jsx)("img",{draggable:!0,onDragStart:t=>C(t,e,"pool"),src:k(e),alt:e,title:e,style:{width:40,height:40,objectFit:"contain",filter:"drop-shadow(0 2px 4px rgba(0,0,0,.4))",background:"#0b0f19"}},e))})]}),(0,Fh.jsxs)("div",{style:{marginTop:16,display:"flex",gap:8},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>y(!0),children:"Ver tierlist completa"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:I,disabled:f,children:"Baixar imagem"})]})]})}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(v?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>y(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content",children:[(0,Fh.jsxs)("div",{className:"painel-modal-header",children:[(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Tier List Completa"}),(0,Fh.jsx)("button",{type:"button",className:"painel-modal-close",onClick:()=>y(!1),children:"\u2715"})]}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsx)("div",{style:{display:"grid",gap:12},children:["S","A","B","C","D","E"].map(e=>(0,Fh.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:16},children:[(0,Fh.jsx)("div",{style:{width:48,height:48,display:"grid",placeItems:"center",fontWeight:900,color:"#fff",background:"S"===e?"#dc2626":"A"===e?"#f97316":"B"===e?"#eab308":"C"===e?"#84cc16":"D"===e?"#22c55e":"#6b7280",boxShadow:"S"===e?"0 0 15px rgba(220,38,38,.5)":"A"===e?"0 0 15px rgba(249,115,22,.5)":"B"===e?"0 0 15px rgba(234,179,8,.5)":"none"},children:e}),(0,Fh.jsx)("div",{style:{flex:1,display:"flex",gap:8,flexWrap:"wrap",minHeight:48},children:(d[e]||[]).map(e=>(0,Fh.jsx)("img",{src:k(e),alt:e,title:e,style:{width:40,height:40,objectFit:"contain",filter:"drop-shadow(0 2px 4px rgba(0,0,0,.4))",background:"#0b0f19"}},e))})]},e))}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:I,children:"Baixar imagem"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>y(!1),children:"Fechar"})]})]})]})]})]})}function Ng(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)("all"),[a,s]=(0,r.useState)(!1),[o,l]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)((new Date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})),[y,b]=(0,r.useState)(""),[w,S]=(0,r.useState)(""),[x,k]=(0,r.useState)(""),[E,_]=(0,r.useState)(""),[T,C]=(0,r.useState)("draft"),[I,N]=(0,r.useState)(""),[A,P]=(0,r.useState)(null),[j,R]=(0,r.useState)(!1),[D,O]=(0,r.useState)(""),L=(0,r.useMemo)(()=>{let t=e;return"all"!==n&&(t=t.filter(e=>(e.status||"draft")===n)),t},[e,n]),M=async()=>{s(!0);try{const e=await Ih(Od(Lh,"posts")),n=[];e.forEach(e=>n.push(c({id:e.id},e.data()))),n.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),t(n)}finally{s(!1)}};(0,r.useEffect)(()=>{M()},[]);const F=()=>{d(null),f(""),m(""),b(""),S(""),k(""),_(""),C("draft"),v((new Date).toLocaleDateString("en-US",{month:"short",day:"2-digit",year:"numeric"})),N("")};return(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsxs)("div",{className:"painel-main",children:[(0,Fh.jsxs)("div",{className:"painel-page-header",children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{className:"painel-page-title",children:"Gerenciar Blog"}),(0,Fh.jsx)("div",{className:"painel-page-sub",children:"Crie, edite e publique not\xedcias para o site Hero Siege Brasil."})]}),(0,Fh.jsx)("div",{children:(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>{F(),l(!0)},children:"Nova Postagem"})})]}),(0,Fh.jsx)("div",{className:"painel-grid",children:(0,Fh.jsx)("div",{className:"painel-card",children:(0,Fh.jsxs)("div",{className:"painel-card-inner",children:[(0,Fh.jsx)("h2",{children:"Posts"}),(0,Fh.jsxs)("div",{className:"painel-row",children:[(0,Fh.jsx)("label",{style:{margin:0,fontSize:11,fontWeight:700,textTransform:"uppercase",letterSpacing:".12em",color:"#9ca3af"},children:"Filtro"}),(0,Fh.jsxs)("select",{className:"painel-select",value:n,onChange:e=>i(e.target.value),style:{maxWidth:180},children:[(0,Fh.jsx)("option",{value:"all",children:"Todos"}),(0,Fh.jsx)("option",{value:"published",children:"Publicados"}),(0,Fh.jsx)("option",{value:"draft",children:"Rascunhos"})]}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:M,children:a?"Carregando...":"Recarregar"})]}),(0,Fh.jsx)("div",{className:"painel-table-wrapper",children:(0,Fh.jsxs)("table",{className:"painel-table",children:[(0,Fh.jsx)("thead",{children:(0,Fh.jsxs)("tr",{children:[(0,Fh.jsx)("th",{children:"T\xedtulo"}),(0,Fh.jsx)("th",{children:"Data"}),(0,Fh.jsx)("th",{children:"Autor"}),(0,Fh.jsx)("th",{children:"Tags"}),(0,Fh.jsx)("th",{children:"Status"}),(0,Fh.jsx)("th",{children:"A\xe7\xf5es"})]})}),(0,Fh.jsx)("tbody",{children:0===L.length?(0,Fh.jsx)("tr",{children:(0,Fh.jsx)("td",{colSpan:6,className:"painel-muted",children:"Nenhum post encontrado."})}):L.map(e=>{const t=Array.isArray(e.tags)?e.tags:[],n=(e.status,"painel-tag");return(0,Fh.jsxs)("tr",{children:[(0,Fh.jsx)("td",{children:(0,Fh.jsx)("strong",{children:e.title||"(sem t\xedtulo)"})}),(0,Fh.jsx)("td",{children:e.date||""}),(0,Fh.jsx)("td",{children:e.author||""}),(0,Fh.jsx)("td",{children:t.map(e=>(0,Fh.jsx)("span",{className:"painel-tag",children:e},e))}),(0,Fh.jsx)("td",{children:(0,Fh.jsx)("span",{className:n,children:e.status||"draft"})}),(0,Fh.jsxs)("td",{className:"painel-actions-cell",children:[(0,Fh.jsx)("button",{type:"button",className:"painel-action-btn painel-action-edit",title:"Editar post",onClick:()=>(e=>{d(e),f(e.author||""),m(e.title||""),v(e.date||""),b(e.image||""),S(e.excerpt||""),k(e.content_html||""),_(Array.isArray(e.tags)?e.tags.join(", "):""),C(e.status||"draft"),N("Editando: ".concat(e.title||e.id)),l(!0)})(e),children:"\u270f\ufe0f"}),(0,Fh.jsx)("button",{type:"button",className:"painel-action-btn ".concat("published"===e.status?"painel-action-toggle-published":"painel-action-toggle-draft"),title:"published"===e.status?"Mover para rascunho":"Publicar post",onClick:()=>(async e=>{const t="published"===e.status?"draft":"published";await Nh(Md(Lh,"posts",e.id),{status:t,updatedAt:ph()},{merge:!0}),M()})(e),children:"published"===e.status?"\u2601\ufe0f":"\ud83d\udce4"}),(0,Fh.jsx)("button",{type:"button",className:"painel-action-btn painel-action-delete",title:"Excluir post",onClick:()=>(e=>{P(e),O(e.title||"(sem t\xedtulo)"),R(!0)})(e),children:"\ud83d\uddd1\ufe0f"})]})]},e.id)})})]})})]})})})]}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(o?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>l(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content",children:[(0,Fh.jsxs)("div",{className:"painel-modal-header",children:[(0,Fh.jsx)("div",{className:"painel-modal-title",children:u?"Editar Postagem":"Nova Postagem"}),(0,Fh.jsx)("button",{type:"button",className:"painel-modal-close",onClick:()=>l(!1),children:"\xd7"})]}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-author",children:"Autor"}),(0,Fh.jsx)("input",{id:"painel-author",className:"painel-input",value:h,onChange:e=>f(e.target.value),placeholder:"Nome do autor"}),(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-title",children:"T\xedtulo"}),(0,Fh.jsx)("input",{id:"painel-title",className:"painel-input",value:p,onChange:e=>m(e.target.value),placeholder:"T\xedtulo da not\xedcia"}),(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-date",children:"Data (exibi\xe7\xe3o)"}),(0,Fh.jsx)("input",{id:"painel-date",className:"painel-input",value:g,onChange:e=>v(e.target.value),placeholder:"Ex.: Mar 10, 2026"}),(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-image",children:"Imagem (URL)"}),(0,Fh.jsx)("input",{id:"painel-image",className:"painel-input",value:y,onChange:e=>b(e.target.value),placeholder:"https://..."}),(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-excerpt",children:"Resumo"}),(0,Fh.jsx)("input",{id:"painel-excerpt",className:"painel-input",value:w,onChange:e=>S(e.target.value),placeholder:"Resumo curto"}),(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-content",children:"Conte\xfado (HTML)"}),(0,Fh.jsx)("textarea",{id:"painel-content",className:"painel-textarea",value:x,onChange:e=>k(e.target.value),placeholder:"<p>...</p>"}),(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-tags",children:"Tags (separadas por v\xedrgula)"}),(0,Fh.jsx)("input",{id:"painel-tags",className:"painel-input",value:E,onChange:e=>_(e.target.value),placeholder:"ex.: season 9, prophet, patch"}),(0,Fh.jsx)("label",{className:"painel-login-label",htmlFor:"painel-status",children:"Status"}),(0,Fh.jsxs)("select",{id:"painel-status",className:"painel-select",value:T,onChange:e=>C(e.target.value),children:[(0,Fh.jsx)("option",{value:"draft",children:"Rascunho"}),(0,Fh.jsx)("option",{value:"published",children:"Publicado"})]}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:F,children:"Limpar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{N("Salvando...");const e=(E||"").split(",").map(e=>e.trim()).filter(Boolean),t=Array.from(new Set(e)),n={author:h||"",title:p||"",date:g||"",image:y||"",excerpt:w||"",content_html:x||"",tags:t,status:T||"draft",updatedAt:ph()};try{u&&u.id?(await Nh(Md(Lh,"posts",u.id),n,{merge:!0}),N("Post atualizado.")):(await Ph(Od(Lh,"posts"),c(c({},n),{},{createdAt:ph()})),N("Post criado.")),F(),l(!1),M()}catch(r){const e=r&&r.code?r.code:"";N("permission-denied"===e?"Permiss\xe3o negada: verifique as Regras do Firestore para o projeto.":"Falha ao salvar post (erro: ".concat(e||"desconhecido",")."))}},children:"Salvar"})]}),(0,Fh.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:I})]})]})]}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(j?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>R(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content small",children:[(0,Fh.jsx)("div",{className:"painel-modal-header",children:(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsxs)("p",{className:"painel-muted",children:['Tem certeza que deseja excluir o post "',D,'"?']}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>R(!1),children:"Cancelar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(A)try{await Ah(Md(Lh,"posts",A.id))}finally{R(!1),P(null),M()}else R(!1)},children:"Excluir"})]})]})]})]})]})}function Ag(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)("all"),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[S,x]=(0,r.useState)(null),[k,E]=(0,r.useState)(""),_=async()=>{i(!0),s("");const e=[];try{const n=await Ih(Ld(Lh,"comments"));if(n.empty)return t([]),s("Sem coment\xe1rios."),void i(!1);const r=[];n.forEach(t=>{const n=t.data(),i=t.ref.parent.parent;r.push((async()=>{let r="(post)",a="";if(i){const e=await Ch(i);r=e&&e.exists()?e.data().title||e.id:"(post)",a=i.id}e.push({id:t.id,ref:t.ref,author:n&&n.author?n.author:"An\xf4nimo",text:n&&n.text?n.text:"",approved:n&&!0===n.approved,postTitle:r,postId:a})})())}),await Promise.all(r),0===e.length?(t([]),s("Sem coment\xe1rios.")):t(e)}catch(n){const e=n&&n.code?n.code:"erro";t([]),s("Falha ao carregar coment\xe1rios (".concat(e,")."))}finally{i(!1)}};(0,r.useEffect)(()=>{_()},[]);const T=(0,r.useMemo)(()=>"pending"===o?e.filter(e=>!e.approved):"approved"===o?e.filter(e=>e.approved):e,[e,o]);return(0,Fh.jsxs)("div",{className:"painel-main",children:[(0,Fh.jsxs)("div",{className:"painel-page-header",children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{className:"painel-page-title",children:"Moderar Coment\xe1rios"}),(0,Fh.jsx)("div",{className:"painel-page-sub",children:"Aprove, edite ou exclua coment\xe1rios nas p\xe1ginas de classes e posts."})]}),(0,Fh.jsxs)("div",{className:"painel-row",children:[(0,Fh.jsxs)("select",{className:"painel-select",value:o,onChange:e=>l(e.target.value),style:{maxWidth:180},children:[(0,Fh.jsx)("option",{value:"all",children:"Todos"}),(0,Fh.jsx)("option",{value:"pending",children:"Pendentes"}),(0,Fh.jsx)("option",{value:"approved",children:"Aprovados"})]}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:_,children:n?"Atualizando...":"Recarregar"})]})]}),(0,Fh.jsx)("div",{className:"painel-card",children:(0,Fh.jsxs)("div",{className:"painel-card-inner",children:[(0,Fh.jsx)("h2",{children:"Coment\xe1rios"}),a&&(0,Fh.jsx)("div",{className:"painel-muted",style:{marginTop:8},children:a}),(0,Fh.jsx)("div",{className:"painel-list",style:{marginTop:10},children:T.map(e=>(0,Fh.jsxs)("div",{className:"painel-list-item",children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("strong",{children:e.author})," em ",(0,Fh.jsx)("em",{children:e.postTitle}),(0,Fh.jsx)("span",{className:"painel-tag",style:{marginLeft:8},children:e.approved?"Aprovado":"Pendente"})]}),(0,Fh.jsx)("div",{className:"painel-muted",children:e.text})]}),(0,Fh.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(async e=>{const t=!e.approved;await Nh(e.ref,{approved:t,updatedAt:ph()},{merge:!0}),_()})(e),title:e.approved?"Marcar como pendente":"Aprovar",children:e.approved?"\u23f3 Pendente":"\u2705 Aprovar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(e=>{h(e),p(e.author||""),g(e.text||""),y(!!e.approved),u(!0)})(e),title:"Editar",children:"\u270f\ufe0f Editar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:()=>(e=>{x(e),E(e&&e.text?e.text.length>60?e.text.slice(0,60)+"\u2026":e.text:(null===e||void 0===e?void 0:e.id)||""),w(!0)})(e),children:"\ud83d\uddd1\ufe0f Excluir"})]})]},e.id))})]})}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(b?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>w(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content small",children:[(0,Fh.jsx)("div",{className:"painel-modal-header",children:(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsx)("p",{className:"painel-muted",children:"Tem certeza que deseja excluir este coment\xe1rio?"}),(0,Fh.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:k}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>w(!1),children:"Cancelar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(S)try{await Ah(S.ref)}finally{w(!1),x(null),_()}else w(!1)},children:"Excluir"})]})]})]})]}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(c?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>u(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content small",children:[(0,Fh.jsx)("div",{className:"painel-modal-header",children:(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Editar coment\xe1rio"})}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsx)("label",{className:"painel-login-label",children:"Autor"}),(0,Fh.jsx)("input",{className:"painel-input",value:f,onChange:e=>p(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Texto"}),(0,Fh.jsx)("textarea",{className:"painel-textarea",value:m,onChange:e=>g(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Status"}),(0,Fh.jsxs)("select",{className:"painel-select",value:v?"approved":"pending",onChange:e=>y("approved"===e.target.value),children:[(0,Fh.jsx)("option",{value:"pending",children:"Pendente"}),(0,Fh.jsx)("option",{value:"approved",children:"Aprovado"})]}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>u(!1),children:"Cancelar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{d?(await Nh(d.ref,{author:f||"An\xf4nimo",text:m||"",approved:!!v,updatedAt:ph()},{merge:!0}),u(!1),h(null),_()):u(!1)},children:"Salvar"})]})]})]})]})]})}function Pg(){const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)(!1),[a,s]=(0,r.useState)(""),[o,l]=(0,r.useState)("all"),[c,u]=(0,r.useState)(!1),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)(!1),[m,g]=(0,r.useState)(null),[v,y]=(0,r.useState)(""),[b,w]=(0,r.useState)(""),[S,x]=(0,r.useState)(""),[k,E]=(0,r.useState)(""),[_,T]=(0,r.useState)(""),[C,I]=(0,r.useState)(!1),[N,A]=(0,r.useState)(!1),[P,j]=(0,r.useState)(null),[R,D]=(0,r.useState)(""),O=async()=>{i(!0),s("");const e=[];try{const n=await Ih(Od(Lh,"messages"));if(n.empty)return t([]),s("Sem mensagens."),void i(!1);n.forEach(t=>{const n=t.data()||{};e.push({id:t.id,ref:t.ref,name:n.name||"",email:n.email||"",category:n.category||"",text:n.message||"",imageUrl:n.imageUrl||"",read:!0===n.read,createdAt:n.createdAt||null})}),e.sort((e,t)=>{const n=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:0;return(t.createdAt&&t.createdAt.seconds?t.createdAt.seconds:0)-n}),t(e)}catch(n){const e=n&&n.code?n.code:"erro";t([]),s("Falha ao carregar mensagens (".concat(e,")."))}finally{i(!1)}};(0,r.useEffect)(()=>{O()},[]);const L=e=>{const t=e.createdAt&&e.createdAt.seconds?e.createdAt.seconds:null;if(!t)return"";const n=new Date(1e3*t),r=String(n.getDate()).padStart(2,"0"),i=String(n.getMonth()+1).padStart(2,"0"),a=String(n.getFullYear()),s=String(n.getHours()).padStart(2,"0"),o=String(n.getMinutes()).padStart(2,"0");return"".concat(r,"/").concat(i,"/").concat(a," ").concat(s,":").concat(o)},M=(0,r.useMemo)(()=>"unread"===o?e.filter(e=>!e.read):"read"===o?e.filter(e=>e.read):e,[e,o]);return(0,Fh.jsxs)("div",{className:"painel-main",children:[(0,Fh.jsxs)("div",{className:"painel-page-header",children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("div",{className:"painel-page-title",children:"Mensagens"}),(0,Fh.jsx)("div",{className:"painel-page-sub",children:"Leia, edite e modere as mensagens recebidas pelo formul\xe1rio de contato."})]}),(0,Fh.jsxs)("div",{className:"painel-row",children:[(0,Fh.jsxs)("select",{className:"painel-select",value:o,onChange:e=>l(e.target.value),style:{maxWidth:200},children:[(0,Fh.jsx)("option",{value:"all",children:"Todas"}),(0,Fh.jsx)("option",{value:"unread",children:"N\xe3o lidas"}),(0,Fh.jsx)("option",{value:"read",children:"Lidas"})]}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:O,children:n?"Atualizando...":"Recarregar"})]})]}),(0,Fh.jsx)("div",{className:"painel-card",children:(0,Fh.jsxs)("div",{className:"painel-card-inner",children:[(0,Fh.jsx)("h2",{children:"Caixa de entrada"}),a&&(0,Fh.jsx)("div",{className:"painel-muted",style:{marginTop:8},children:a}),(0,Fh.jsx)("div",{className:"painel-list",style:{marginTop:10},children:M.map(e=>(0,Fh.jsxs)("div",{className:"painel-list-item",children:[(0,Fh.jsxs)("div",{onClick:()=>(async e=>{h(e),u(!0),e.read||(await Nh(e.ref,{read:!0,updatedAt:ph()},{merge:!0}),O())})(e),style:{cursor:"pointer"},children:[(0,Fh.jsxs)("div",{children:[(0,Fh.jsx)("strong",{children:e.name||"Sem nome"}),e.email&&(0,Fh.jsx)("span",{style:{marginLeft:6,fontSize:11,color:"#6b7280"},children:e.email})]}),(0,Fh.jsxs)("div",{style:{fontSize:11,color:"#6b7280",marginTop:2},children:[e.category||"Sem categoria"," \xb7 ",L(e)]}),(0,Fh.jsx)("div",{className:"painel-muted",children:(e.text||"").length>120?"".concat(e.text.slice(0,120),"\u2026"):e.text})]}),(0,Fh.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,Fh.jsx)("span",{className:"painel-tag",style:{background:e.read?"#dcfce7":"#fee2e2",color:e.read?"#166534":"#991b1b"},children:e.read?"Lida":"N\xe3o lida"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(async e=>{const t=!e.read;await Nh(e.ref,{read:t,updatedAt:ph()},{merge:!0}),O()})(e),children:e.read?"Marcar como n\xe3o lida":"Marcar como lida"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>(e=>{g(e),y(e.name||""),w(e.email||""),x(e.category||""),E(e.text||""),T(e.imageUrl||""),I(!!e.read),p(!0)})(e),children:"\u270f\ufe0f Editar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:()=>(e=>{j(e);const t=e.text||"";D(t.length>60?"".concat(t.slice(0,60),"\u2026"):t||e.id),A(!0)})(e),children:"\ud83d\uddd1\ufe0f Excluir"})]})]},e.id))})]})}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(c?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>u(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content small",children:[(0,Fh.jsx)("div",{className:"painel-modal-header",children:(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Detalhes da mensagem"})}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[d&&(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsxs)("div",{className:"painel-muted",style:{marginBottom:8},children:[L(d)," \xb7 ",d.category||"Sem categoria"]}),(0,Fh.jsxs)("div",{style:{marginBottom:8},children:[(0,Fh.jsx)("strong",{children:d.name||"Sem nome"}),d.email&&(0,Fh.jsx)("div",{className:"painel-muted",children:d.email})]}),(0,Fh.jsx)("div",{style:{marginBottom:8},children:d.text}),d.imageUrl&&(0,Fh.jsxs)("div",{className:"painel-muted",children:["Link de imagem: ",d.imageUrl]})]}),(0,Fh.jsx)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>u(!1),children:"Fechar"})})]})]})]}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(N?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>A(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content small",children:[(0,Fh.jsx)("div",{className:"painel-modal-header",children:(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Confirmar exclus\xe3o"})}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsx)("p",{className:"painel-muted",children:"Tem certeza que deseja excluir esta mensagem?"}),(0,Fh.jsx)("div",{className:"painel-muted",style:{marginTop:6},children:R}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:16,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>A(!1),children:"Cancelar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button painel-danger-text",onClick:async()=>{if(P)try{await Ah(P.ref)}finally{A(!1),j(null),O()}else A(!1)},children:"Excluir"})]})]})]})]}),(0,Fh.jsxs)("div",{className:"painel-modal ".concat(f?"":"hidden"),children:[(0,Fh.jsx)("div",{className:"painel-modal-backdrop",onClick:()=>p(!1)}),(0,Fh.jsxs)("div",{className:"painel-modal-content small",children:[(0,Fh.jsx)("div",{className:"painel-modal-header",children:(0,Fh.jsx)("div",{className:"painel-modal-title",children:"Editar mensagem"})}),(0,Fh.jsxs)("div",{className:"painel-modal-body",children:[(0,Fh.jsx)("label",{className:"painel-login-label",children:"Nome"}),(0,Fh.jsx)("input",{className:"painel-input",value:v,onChange:e=>y(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"E-mail"}),(0,Fh.jsx)("input",{className:"painel-input",value:b,onChange:e=>w(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Categoria"}),(0,Fh.jsx)("input",{className:"painel-input",value:S,onChange:e=>x(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Mensagem"}),(0,Fh.jsx)("textarea",{className:"painel-textarea",value:k,onChange:e=>E(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Link de imagem"}),(0,Fh.jsx)("input",{className:"painel-input",value:_,onChange:e=>T(e.target.value)}),(0,Fh.jsx)("label",{className:"painel-login-label",style:{marginTop:8},children:"Status"}),(0,Fh.jsxs)("select",{className:"painel-select",value:C?"read":"unread",onChange:e=>I("read"===e.target.value),children:[(0,Fh.jsx)("option",{value:"unread",children:"N\xe3o lida"}),(0,Fh.jsx)("option",{value:"read",children:"Lida"})]}),(0,Fh.jsxs)("div",{className:"painel-row",style:{marginTop:12,justifyContent:"flex-end"},children:[(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:()=>p(!1),children:"Cancelar"}),(0,Fh.jsx)("button",{type:"button",className:"painel-button",onClick:async()=>{m?(await Nh(m.ref,{name:v||"",email:b||"",category:S||"",message:k||"",imageUrl:_||"",read:!!C,updatedAt:ph()},{merge:!0}),p(!1),g(null),O()):p(!1)},children:"Salvar"})]})]})]})]})]})}const jg=function(){const[e,t]=(0,r.useState)(!1),[n,i]=(0,r.useState)(null),[a,s]=(0,r.useState)(()=>wg());(0,r.useEffect)(()=>{const e=function(e,t,n,r){return q(e).onAuthStateChanged(t,n,r)}(mg(Mh),e=>{e&&e.email&&e.email.toLowerCase()===vg&&e.uid===yg?i(e):i(null),t(!0)});return()=>{e()}},[]),(0,r.useEffect)(()=>{const e=()=>{s(wg())};return window.addEventListener("hashchange",e),()=>window.removeEventListener("hashchange",e)},[]);const o=(0,r.useMemo)(()=>n?"login"===a?"dashboard":a:"login",[n,a]);return e?n?(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsx)(Sg,{}),(0,Fh.jsx)(kg,{onLogout:async()=>{const e=mg(Mh);await Qp(e),window.location.hash="#painel/login"}}),(0,Fh.jsxs)("div",{className:"painel-layout",children:[(0,Fh.jsx)(Eg,{view:o,onChange:s}),"dashboard"===o&&(0,Fh.jsx)(_g,{}),"blog"===o&&(0,Fh.jsx)(Ng,{}),"comments"===o&&(0,Fh.jsx)(Ag,{}),"messages"===o&&(0,Fh.jsx)(Pg,{}),"forum"===o&&(0,Fh.jsx)(Cg,{}),"homepage"===o&&(0,Fh.jsx)(Ig,{})]})]}):(0,Fh.jsx)(xg,{}):(0,Fh.jsxs)(Fh.Fragment,{children:[(0,Fh.jsx)(Sg,{}),(0,Fh.jsx)("div",{className:"painel-login-container",children:(0,Fh.jsx)("div",{className:"painel-login-card",children:(0,Fh.jsx)("p",{className:"painel-login-sub",children:"Carregando painel..."})})})]})};const Rg=function(){const e=window.location.pathname||"",t=window.location.hash||"";return e.startsWith("/painel")||t.startsWith("#painel")?(0,Fh.jsx)(jg,{}):(0,Fh.jsx)(zh,{})},Dg=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:a,getTTFB:s}=t;n(e),r(e),i(e),a(e),s(e)})};i.createRoot(document.getElementById("root")).render((0,Fh.jsx)(r.StrictMode,{children:(0,Fh.jsx)(Rg,{})})),Dg()})();
//# sourceMappingURL=main.6e8a2548.js.map